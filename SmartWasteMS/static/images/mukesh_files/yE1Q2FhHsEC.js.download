if (self.CavalryLogger) { CavalryLogger.start_js(["9MqX9"]); }

__d("StoriesSuspenseNavigationPaneRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"initialBucketID",type:"ID",defaultValue:""},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"pinnedIDs",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"bucketsCount",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"initialBucketID"}],c={kind:"LinkedField",alias:null,name:"unified_stories",storageKey:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f=[{kind:"Variable",name:"first",variableName:"bucketsCount"},{kind:"Variable",name:"front_pin_buckets",variableName:"pinnedIDs"},{kind:"Literal",name:"hide_self_bucket",value:!1}],g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[g],i={kind:"Literal",name:"width",value:60},j=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"StoriesSuspenseNavigationPaneRootQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"bucket",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]},{kind:"LinkedField",alias:null,name:"me",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"StoriesSuspenseNavigationPane_user",args:[{kind:"Variable",name:"bucketsCount",variableName:"bucketsCount"},{kind:"Variable",name:"pinnedIDs",variableName:"pinnedIDs"},{kind:"Literal",name:"showNavPane",value:!0}]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"StoriesSuspenseNavigationPaneRootQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"bucket",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[e,c,d]},{kind:"LinkedField",alias:null,name:"me",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"unified_stories_buckets",storageKey:null,args:f,concreteType:"UserToUnifiedStoryBucketsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"UserToUnifiedStoryBucketsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"story_bucket_owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d,{kind:"InlineFragment",type:"User",selections:h},{kind:"InlineFragment",type:"Group",selections:h},{kind:"InlineFragment",type:"Page",selections:h},{kind:"InlineFragment",type:"Event",selections:h}]},{kind:"LinkedField",alias:null,name:"unified_stories",storageKey:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"expiration_time",args:null,storageKey:null},d,{kind:"LinkedField",alias:null,name:"story_card_info",storageKey:null,args:null,concreteType:"StoryCardStoryInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"story_card_type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"story_card_seen_state",storageKey:null,args:null,concreteType:"StoryCardSeenState",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_seen_by_viewer",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:"owner",name:"story_bucket_owner",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},i],concreteType:"Image",plural:!1,selections:j},d]},e]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"unified_stories_buckets",args:f,handle:"connection",key:"useStoriesViewerBuckets_unified_stories_buckets",filters:["front_pin_buckets","hide_self_bucket"]},g,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(width:60)",args:[i],concreteType:"Image",plural:!1,selections:j}]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d]}]}]},params:{operationKind:"query",name:"StoriesSuspenseNavigationPaneRootQuery",id:"1972774726158321",text:null,metadata:{relayPreloadable:!0}}}}();e.exports=a}),null);
__d("TetraButtonGroup.react",["React","TetraButton.react","TetraRow.react","TetraRowItem.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={hiddenButton:{height:"do00u71z",visibility:"kr9hpln1"},resetFlexBasis:{flexBasis:"mg4g778l"}};function a(a){__p&&__p();var c=a.align,d=c===void 0?"justify":c;c=a.direction;c=c===void 0?"forward":c;var e=a.paddingHorizontal,f=a.paddingTop,i=a.primary,j=a.secondary,k=a.size,l=a.wrap;l=l===void 0?"none":l;var m=[],n=[],o=i.testid;i=babelHelpers.objectWithoutPropertiesLoose(i,["testid"]);o=b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},i,{size:k,testid:o}));m.push({hidden:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},i,{disabled:!0,padding:"normal",size:k})),visible:o});if(j!=null){i=j.testid;j=babelHelpers.objectWithoutPropertiesLoose(j,["testid"]);m.push({hidden:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},j,{disabled:!0,padding:"normal",size:k,type:"secondary"})),visible:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},j,{size:k,testid:i,type:"secondary"}))})}else if(a.secondaryIcon!=null)n.push(b("React").jsx(b("TetraRowItem.react"),{children:b("React").jsx(b("TetraButton.react"),babelHelpers["extends"]({},a.secondaryIcon,{labelIsHidden:!0,size:k,type:"secondary"}))},"secondary-icon"));else if(a.secondaryIconGroup!=null){j=a.secondaryIconGroup;i=j.primaryIcon;a=j.secondaryIcon;n.push((j=b("React")).jsx(b("TetraRowItem.react"),{children:j.jsx(b("TetraButton.react"),babelHelpers["extends"]({},i,{labelIsHidden:!0,size:k,type:"secondary"}))},"secondary-icon-1"),j.jsx(b("TetraRowItem.react"),{children:j.jsx(b("TetraButton.react"),babelHelpers["extends"]({},a,{labelIsHidden:!0,size:k,type:"secondary"}))},"secondary-icon-2"))}i=m.map(function(a,c){return b("React").jsx(b("TetraRowItem.react"),{expanding:d==="justify",xstyle:h.resetFlexBasis,children:m.map(function(a,d){return b("React").jsx(b("React").Fragment,{children:c!==d?b("React").jsx("div",{"aria-hidden":!0,className:(g||(g=b("stylex")))(h.hiddenButton),children:a.hidden}):a.visible},d)})},c)});j=[b("React").jsx(b("TetraRowItem.react"),{expanding:d==="justify",xstyle:h.resetFlexBasis,children:o},"primary")].concat(n);a=m.length===2;return b("React").jsx(b("TetraRow.react"),{align:d,direction:c,paddingHorizontal:e,paddingTop:f,spacing:8,wrap:l,children:a?i:j})}e.exports=a}),null);
__d("StoriesDefaultBucketListWrapper.react",["requireCond","cr:1187815","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.initialBucketID;a=a.viewerSessionID;return b("React").jsx(b("cr:1187815"),{initialBucketID:d,viewerSessionID:a,children:c})}e.exports=a}),null);
__d("StoriesViewerSuspense.react",["fbt","requireCond","CometErrorBoundary.react","CometPlaceholder.react","CometStyleXSheet","QuickPerformanceLogger","React","cr:989159","StoriesBucketError.react","StoriesCenterPaneErrorBoundary.react","StoriesDefaultBucketListWrapper.react","StoriesEnums","StoriesGating","StoriesImagePrefetchingContext","StoriesLoggerSession","StoriesQueryArgumentsContext","StoriesResizeToView.react","StoriesRootError.react","StoriesSetBucketHelper","StoriesSuspenseBucketDataContext","StoriesSuspenseBucketTransitioningContext","StoriesSuspenseContentPanePlaceholder.react","StoriesSuspenseContentPaneRoot.react","StoriesSuspenseNavigationPaneHelpers","StoriesSuspenseViewerKeyboardListener.react","StoriesUtils","StoriesViewerSuspenseEventEmitterContext","WebFunnelLogger","cometTestID","gkx","storiesViewerSuspenseEmitter","stylex","useCometWindowSize","useStable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("CometStyleXSheet").rootStyleSheet;var h=b("React").useEffect,i=b("React").useMemo,j=b("React").useState,k=b("StoriesEnums").NAV_DIRECTIONS;c.injectTheme();function a(a){__p&&__p();var c=b("useStable")(function(){return b("storiesViewerSuspenseEmitter")()}),d=a.bucketID,e=a.cardID,f=a.openSource,l=a.traySessionID,m=a.viewerSessionID;a=j(!1);var n=a[0],o=a[1];a=j({bucketID:d,bucketIndex:-1,isFirstBucket:!0,isLastBucket:!0});var p=a[0],q=a[1];a=j(k.NEXT_BUCKET);var r=a[0],s=a[1];h(function(){var a;new(b("WebFunnelLogger"))("FBStoriesWebSuspenseViewerFunnelDefinition").setSessionKey((a=m)!=null?a:"null").setAction("Viewer Mounted").log();b("QuickPerformanceLogger").markerPoint(13238353,"viewer mounted");b("StoriesLoggerSession").initialize(l,m,f);b("cr:989159")!=null&&b("gkx")("1212841")&&b("cr:989159").openOverlayView("stories_viewer");return function(){b("cr:989159")!=null&&b("gkx")("1212841")&&b("cr:989159").closeOverlayView("stories_viewer")}},[f,l,m]);var t=p.bucketID;a=p.bucketIndex;var u=t==="",v=b("useCometWindowSize")(),w=i(function(){function a(a){b("StoriesSetBucketHelper").updateBucketData(q,o,p,a)}return{bucketData:p,bucketNavDirection:r,setBucketData:a,setNavigationDirection:s}},[p,r,o]),x=i(function(){return{isBucketTransitionInProgress:n,setIsBucketTransitionInProgress:o}},[n,o]),y=i(function(){return{hideSelfBucket:!1,initialBucketID:d,initialBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getInitialBucketsCount(),pageBucketsCount:b("StoriesSuspenseNavigationPaneHelpers").getPageBucketsCount()}},[d]),z=b("StoriesGating").shouldPreloadPhotoUri(),A=b("StoriesGating").shouldPreloadPhotoUriWithBucketPrefetching(),B=i(function(){return{shouldPrefetchPhotoUri:z,shouldPrefetchPhotoUriWithBucketPrefetching:A}},[z,A]);if(b("StoriesUtils").shouldResizeToViewStories(v.innerHeight))return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesResizeToView.react"),{})});v=b("StoriesGating").shouldSuspendBothQueries();e=b("React").jsx(b("StoriesSuspenseContentPaneRoot.react"),{bucketID:t,initialBucketID:d,initialCardID:e,viewerSessionID:m});e=v?e:b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:u}),children:e});B=b("React").jsx("div",babelHelpers["extends"]({className:"k4urcfbm j83agx80"},b("cometTestID")("viewer_dialog"),{id:"viewer_dialog",children:b("React").jsx(b("StoriesImagePrefetchingContext").Provider,{value:B,children:b("React").jsxs(b("StoriesSuspenseViewerKeyboardListener.react"),{children:[b("React").jsx(b("StoriesDefaultBucketListWrapper.react"),{initialBucketID:d,viewerSessionID:m,children:b("React").jsx(b("StoriesCenterPaneErrorBoundary.react"),{bucketIndex:a,fallback:function(a){return b("React").jsx(b("StoriesBucketError.react"),{bucketID:t,cardID:"",error:a})},children:e})}),b("gkx")("678680")&&b("React").jsx("div",{className:"fwizqjfa j9ispegn pmk7jnqg cyypbtt7 g7xisrfe ljqsnud1 i09qtzwb v0lkmu4y",children:g._("SV")})]})})}));a=v?b("React").jsx(b("CometPlaceholder.react"),{fallback:b("React").jsx(b("StoriesSuspenseContentPanePlaceholder.react"),{isNullState:u}),children:B}):B;return b("React").jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:b("React").jsx(b("StoriesQueryArgumentsContext").Provider,{value:y,children:b("React").jsx(b("StoriesViewerSuspenseEventEmitterContext").Provider,{value:c,children:b("React").jsx(b("StoriesSuspenseBucketTransitioningContext").Provider,{value:x,children:b("React").jsx(b("StoriesSuspenseBucketDataContext").Provider,{value:w,children:a})})})})})}e.exports=a}),null);
__d("StoriesViewerSuspenseRoot.react",["CometBlueBridge.react","CometErrorBoundary.react","React","StoriesConstants","StoriesRootError.react","StoriesViewerBucketListFetchPolicyContext","StoriesViewerOpenAnimationContextProvider.react","StoriesViewerSuspense.react","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useMemo,h=b("StoriesConstants").RELAY_FETCH_POLICY;function a(a){var c,d=a.bucketListFetchPolicy;a.tilePosition;var e=babelHelpers.objectWithoutPropertiesLoose(a,["bucketListFetchPolicy","tilePosition"]),f=g(function(){var a;return{fetchPolicy:(a=d)!=null?a:h.STORE_OR_NETWORK}},[d]);return(c=b("React")).jsx(b("CometErrorBoundary.react"),{fallback:function(a){return b("React").jsx(b("StoriesRootError.react"),{error:a})},children:c.jsx(b("CometBlueBridge.react"),{children:c.jsx(b("StoriesViewerOpenAnimationContextProvider.react"),{tilePosition:a.tilePosition,children:c.jsx(b("StoriesViewerBucketListFetchPolicyContext").Provider,{value:f,children:c.jsx("div",{className:"t38bcc6f j9ispegn poy2od1o g5gj957u buofh1pr rj1gh0hx n7fi1qx3 j83agx80 i09qtzwb",children:c.jsx(b("StoriesViewerSuspense.react"),babelHelpers["extends"]({},e))})})})})})}e.exports=a}),null);
__d("StoryDeleteCardDialogBox",["fbt","useCometConfirmationDialogComet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.mediaType,d=a.onDeleteConfirmClick,e=a.onHideConfirmationDialog,f=a.onOpenConfirmationDialog,h=a.storyOptionType;a=b("useCometConfirmationDialogComet")();var i=a[0];a[1];var j=function(){var a;switch(((a=c)!=null?a:"").toUpperCase()){case"PHOTO":return g._("Delete this photo from your story?");case"VIDEO":return g._("Delete this video from your story?");default:return g._("Delete this from your story?")}},k=function(){var a;switch(((a=c)!=null?a:"").toUpperCase()){case"PHOTO":return g._("Delete Photo?");case"VIDEO":return g._("Delete Video?");default:return g._("Delete?")}};a=function(){var a;switch(((a=c)!=null?a:"").toUpperCase()){case"PHOTO":return g._("Delete photo");case"VIDEO":return g._("Delete video");default:return g._("Delete")}};var l=function(){i({body:j(),confirm:g._("Delete"),title:k()},d,function(){e&&e()}),f(h)};return{handleDeleteClick:l,primaryText:a()}}e.exports=a}),null);
__d("StoriesDeleteCardOptionMenuItem.react",["ix","CometMenuItem.react","React","StoriesActionsContext","StoriesEnums","StoriesLoggerContext","StoriesRelay","StoriesSuspenseContuxActionsContext","StoryDeleteCardDialogBox","fbicon","relay-runtime","StoriesDeleteCardOptionMenuItem_StoriesDeleteMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("React").useContext,j=b("StoriesEnums").STORIES_OPTION_TYPES,k=b("StoriesRelay").commitMutation;b("StoriesRelay").graphql;var l=b("StoriesRelay").useRelayEnvironment,m=b("relay-runtime").ConnectionHandler,n=h!==void 0?h:h=b("StoriesDeleteCardOptionMenuItem_StoriesDeleteMutation.graphql");function a(a){__p&&__p();var c=i(b("StoriesActionsContext")),d=c.actions;c=i(b("StoriesLoggerContext"));var e=c.logger,f=l();c=i(b("StoriesSuspenseContuxActionsContext"));var h=c.handleCardDeletion,o=a.bucketID,p=a.cardID;c=a.mediaType;var q=a.onHideConfirmationDialog;a=a.onOpenConfirmationDialog;var r=function(){__p&&__p();e.deleteLog();q();var a=function(a){a=o!=null?a.get(o):null;if(!a)return;a=a.getLinkedRecord("unified_stories");if(a==null)return;m.deleteNode(a,p);var b=a.getLinkedRecords("edges")||[];a.setValue(b.length,"count")},b=function(b){a(b)};k(f,{mutation:n,optimisticUpdater:b,updater:b,variables:{input:{story_ids:[p]}}});d.currentCardDeleted();h()};c=b("StoryDeleteCardDialogBox")({mediaType:c,onDeleteConfirmClick:r,onHideConfirmationDialog:q,onOpenConfirmationDialog:a,storyOptionType:j.MUTE_CARD_OWNER});r=c.handleDeleteClick;a=c.primaryText;return b("React").jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("483829"),20),onClick:r,primaryText:a,testid:"viewer_option_menu_delete_button"},"delete")}e.exports=a}),null);
__d("StoriesFileBugOptionMenuItem.react",["ix","fbt","CometMenuItem.react","React","fbicon","useStoriesReportBug"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){a=b("useStoriesReportBug")(a);var c=a[0];a=a[1];return b("React").jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("530512"),20),onClick:c,primaryText:h._("Something isn't working"),ref:a},"bug")};e.exports=a}),null);
__d("StoriesInspectStoryOptionMenuItem.react",["ix","fbt","CometMenuItem.react","React","URI","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var c=function(){var c="https://our.intern.facebook.com/intern/fb_stories/inspector/?id="+a.cardID;(i||(i=b("URI"))).goURIOnNewWindow(c)};return b("React").jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("912341"),20),onClick:c,primaryText:h._("[FB Only] Open in Stories Inspector Tool")})}e.exports=a}),null);
__d("StoriesMuteStoryOptionMenuItem.react",["ix","fbt","CometMenuItem.react","React","StoriesActorContext","StoriesConstants","StoriesEnums","StoriesQueryArgumentsContext","StoriesRelay","fbicon","relay-runtime","useCometConfirmationDialogComet","StoriesMuteStoryOptionMenuItem_StoriesMuteMutation.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("React").useContext,k=b("StoriesEnums").STORIES_OPTION_TYPES,l=b("StoriesEnums").STORY_CARD_TYPES,m=b("StoriesRelay").commitMutation;b("StoriesRelay").graphql;var n=b("StoriesRelay").useRelayEnvironment,o=b("relay-runtime").ConnectionHandler,p=i!==void 0?i:i=b("StoriesMuteStoryOptionMenuItem_StoriesMuteMutation.graphql");function a(a){__p&&__p();var c=n(),d=j(b("StoriesQueryArgumentsContext")),e=d.hideSelfBucket,f=d.initialBucketID;d=j(b("StoriesActorContext"));var i=d.actorID;d=b("useCometConfirmationDialogComet")();var q=d[0];d[1];var r=h._("Mute {bucket_owner_name}?",[h._param("bucket_owner_name",a.ownerName)]),s=function(){switch(a.storyCardType){case l.PAGE_STORY:return h._("You'll stop seeing their story but can still see posts from this Page.");case l.EVENT_STORY:return h._("You'll stop seeing this story but can still see event updates.");case l.GROUP_STORY:return h._("You'll stop seeing this story but will stay in the group.")}return h._("You'll stop seeing their story but will remain friends.")},t=function(){__p&&__p();a.onHideConfirmationDialog&&a.onHideConfirmationDialog();var d=a.ownerID,g=function(c){__p&&__p();var d=a.bucketID;if(d==null)return;if(i!=null){var g=c.get(i);if(g!=null){g=o.getConnection(g,b("StoriesConstants").NavList.CONNECTION_NAME,{front_pin_buckets:[f],hide_self_bucket:e});g!=null&&o.deleteNode(g,d)}}c["delete"](d)},h=function(a){g(a)};m(c,{mutation:p,optimisticUpdater:h,updater:h,variables:{input:{should_unfollow_user_story:!0,user_id:d}}})};d=function(){q({body:s(),confirm:h._("Mute"),title:r},t,function(){a.onHideConfirmationDialog&&a.onHideConfirmationDialog()}),a.onOpenConfirmationDialog(k.MUTE_CARD_OWNER)};var u=function(){var b;b=(b=a.ownerName)!=null?b:"";return h._("Mute {bucket_owner_name}",[h._param("bucket_owner_name",b)])};return b("React").jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("577043"),20),onClick:d,primaryText:u()},"mute_bucket_owner")}e.exports=a}),null);
__d("StoriesReportOptionMenuItem.react",["ix","fbt","requireCond","CometMenuItem.react","JSResource","React","StoriesPauseReasons","StoriesUtils","fbicon","setTimeout","cr:764837","cr:962207","cr:885544","cr:885545","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useCallback,j=b("React").useEffect,k=b("React").useRef,l="direct_messaging",m=b("JSResource")("CometFRX_DEPRECATED.react").__setRef("StoriesReportOptionMenuItem.react");a=function(a){__p&&__p();var c=a.cardID,d=a.setPause,e=k();a=b("useCometLazyDialog")(m);var f=a[0];j(function(){if(b("cr:764837")===null)return;var a=[b("cr:764837").subscribe("lwf/frx/dialogClosed",function(){d(!1,b("StoriesPauseReasons").REPORT_DIALOG)}),b("cr:764837").subscribe("frx/search/dialogClosed",function(){d(!1,b("StoriesPauseReasons").REPORT_DIALOG)})];return function(){b("setTimeout")(function(){a.map(function(a){return a.unsubscribe()}),a=[]},10)}});var n=b("StoriesUtils").cardID2ThreadID(c);a=i(function(){if(b("cr:885545")&&b("cr:962207")&&b("cr:885544")){var a=b("cr:885545").withEntReportable({entry_point:"report_button",reportable_ent_token:n,story_location:l});d(!0,b("StoriesPauseReasons").REPORT_DIALOG);a=new(b("cr:885544"))().setURI(a);a.setRelativeTo(e.current);b("cr:962207").send(a)}},[d,n]);c=i(function(){d(!0,b("StoriesPauseReasons").REPORT_DIALOG),f({entryPoint:"REPORT_BUTTON",id:n,location:l},function(){d(!1,b("StoriesPauseReasons").REPORT_DIALOG)})},[f,d,n]);return b("React").jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("490583"),20),onClick:b("cr:885545")&&b("cr:962207")&&b("cr:885544")?a:c,primaryText:h._("Give Feedback or Report Story")},"report")};e.exports=a}),null);
__d("StoriesCardOptionMenu.react",["CometMenu.react","React","StoriesActorContext","StoriesDeleteCardOptionMenuItem.react","StoriesEnums","StoriesFileBugOptionMenuItem.react","StoriesInspectStoryOptionMenuItem.react","StoriesMuteStoryOptionMenuItem.react","StoriesRelay","StoriesReportOptionMenuItem.react","cometTestID","gkx","StoriesCardOptionMenu_card.graphql","StoriesCardOptionMenu_owner.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("StoriesEnums").STORIES_OPTION_TYPES;a=b("StoriesRelay").createFragmentContainer;b("StoriesRelay").graphql;var i=function(){__p&&__p();function a(){this.$1=[]}var b=a.prototype;b.add=function(a,b){(b!=null?b:!0)&&this.$1.push(a);return this};b.done=function(){var a;return(a=this.$1)!=null?a:[]};return a}();c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a;a=(a=this.props.card)==null?void 0:a.attachments;return a&&(a==null?void 0:a.length)>0?(a=a[0].media)==null?void 0:a.__typename:null};d.$2=function(){var a;return(a=this.props.card)==null?void 0:(a=a.story_card_info)==null?void 0:a.story_card_type};d.$3=function(){var a,b=this.props.owner;if(b==null)return!1;b=this.context.actorID;a=(a=this.props.card)==null?void 0:(a=a.via)==null?void 0:a.id;return a===b||this.$4()};d.$4=function(){var a=this.props.owner;if(a==null)return!1;var b=this.context.actorID;return a.id===b||a.viewer_profile_permissions&&a.viewer_profile_permissions.includes("EDIT_PROFILE")||!!a.is_viewer_host};d.$5=function(){var a,c=this.props,d=c.bucketID,e=c.onHideOptionConfirmationDialog,f=c.onShowOptionConfirmationDialog;c=c.owner;a=(a=this.props.card)==null?void 0:a.id;return a==null?[]:new i().add(b("React").jsx(b("StoriesMuteStoryOptionMenuItem.react"),{bucketID:d,onHideConfirmationDialog:e,onOpenConfirmationDialog:f,ownerID:c==null?void 0:c.id,ownerName:(c=this.props.owner)==null?void 0:c.name,storyCardType:this.$2()},"mute_owner"),!this.$4()).add(b("React").jsx(b("StoriesReportOptionMenuItem.react"),{cardID:a,setPause:this.props.setPause},"report"),!this.$3()).add(b("React").jsx(b("StoriesDeleteCardOptionMenuItem.react"),{bucketID:d,cardID:a,mediaType:this.$1(),onHideConfirmationDialog:e,onOpenConfirmationDialog:f},"delete"),this.$3()).add(b("React").jsx(b("StoriesFileBugOptionMenuItem.react"),{setPause:this.props.setPause},"bug")).add(b("React").jsx(b("StoriesInspectStoryOptionMenuItem.react"),{cardID:a},"inspect"),b("gkx")("807313")).done()};d.render=function(){return b("React").jsx("div",babelHelpers["extends"]({},b("cometTestID")("viewer_option_menu"),{children:b("React").jsx(b("CometMenu.react"),{withArrow:!0,children:this.$5()})}))};return c}(b("React").PureComponent);c.contextType=b("StoriesActorContext");e.exports=a(c,{card:g!==void 0?g:g=b("StoriesCardOptionMenu_card.graphql"),owner:h!==void 0?h:h=b("StoriesCardOptionMenu_owner.graphql")})}),null);
__d("useStoriesOpenArchiveComposer",["requireCond","StoriesPauseReasons","XReactSproutComposerShareMediaFromArchiveDialogController","cr:728805","useStoriesOpenComposerBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){var a=b("useStoriesOpenComposerBase")(),c;b("cr:728805")&&(c=function(a){return function(c,d){var e=b("XReactSproutComposerShareMediaFromArchiveDialogController").getURIBuilder().setFBIDSet("archivedStoryCardIDs",[a]).getURI();return b("cr:728805")({composerURI:e,onClose:c,onOpen:d})}});return function(d,e){return a(d,b("StoriesPauseReasons").CLICK_ARCHIVE_RESHARE_BUTTON,c(e))}}e.exports=a}),null);
__d("StoriesDefaultBucketListWrapperBlue.react",["requireCond","cr:1175081"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1175081")}),null);
__d("StoriesSuspenseCardOptionMenu.react",["CometMenu.react","React","StoriesActorContext","StoriesArchiveDeleteCardOptionMenuItem.react","StoriesDeleteCardOptionMenuItem.react","StoriesEnums","StoriesFileBugOptionMenuItem.react","StoriesInspectStoryOptionMenuItem.react","StoriesLoggerSession","StoriesLoggingConstants","StoriesMuteStoryOptionMenuItem.react","StoriesRelay","StoriesReportOptionMenuItem.react","cometTestID","gkx","StoriesSuspenseCardOptionMenu_card.graphql","StoriesSuspenseCardOptionMenu_owner.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("React").useContext;b("StoriesEnums").STORIES_OPTION_TYPES;b("StoriesRelay").graphql;var j=b("StoriesRelay").useFragment,k=function(){__p&&__p();function a(){this.$1=[]}var b=a.prototype;b.add=function(a,b){(b!=null?b:!0)&&this.$1.push(a);return this};b.done=function(){var a;return(a=this.$1)!=null?a:[]};return a}();function a(a){__p&&__p();var c=j(g!==void 0?g:g=b("StoriesSuspenseCardOptionMenu_card.graphql"),a.card),d=j(h!==void 0?h:h=b("StoriesSuspenseCardOptionMenu_owner.graphql"),a.owner),e=i(b("StoriesActorContext")),f=e.actorID,l=c==null?void 0:c.id;if(l==null)return null;function m(){var a=c==null?void 0:c.attachments;return a&&(a==null?void 0:a.length)>0?(a=a[0].media)==null?void 0:a.__typename:null}function n(){var a;return c==null?void 0:(a=c.story_card_info)==null?void 0:a.story_card_type}function o(){var a;if(d==null)return!1;a=c==null?void 0:(a=c.via)==null?void 0:a.id;return a===f||p()}function p(){return d==null?!1:d.id===f||d.viewer_profile_permissions&&d.viewer_profile_permissions.includes("EDIT_PROFILE")||!!d.is_viewer_host}function q(){var c=b("StoriesLoggerSession").getOpenViewerSource(),e=null;c===b("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE?e=b("StoriesArchiveDeleteCardOptionMenuItem.react"):e=b("StoriesDeleteCardOptionMenuItem.react");return new k().add(b("React").jsx(b("StoriesMuteStoryOptionMenuItem.react"),{bucketID:a.bucketID,onHideConfirmationDialog:a.onHideOptionConfirmationDialog,onOpenConfirmationDialog:a.onShowOptionConfirmationDialog,ownerID:d==null?void 0:d.id,ownerName:d==null?void 0:d.name,storyCardType:n()},"mute_owner"),!p()).add(b("React").jsx(b("StoriesReportOptionMenuItem.react"),{cardID:l,setPause:a.setPause},"report"),!o()).add(b("React").jsx(e,{bucketID:a.bucketID,cardID:l,mediaType:m(),onHideConfirmationDialog:a.onHideOptionConfirmationDialog,onOpenConfirmationDialog:a.onShowOptionConfirmationDialog},"delete"),o()).add(b("React").jsx(b("StoriesFileBugOptionMenuItem.react"),{setPause:a.setPause},"bug")).add(b("React").jsx(b("StoriesInspectStoryOptionMenuItem.react"),{cardID:l},"inspect"),b("gkx")("807313")).done()}return b("React").jsx("div",babelHelpers["extends"]({},b("cometTestID")("viewer_option_menu"),{children:b("React").jsx(b("CometMenu.react"),{withArrow:!0,children:q()})}))}e.exports=a}),null);
__d("StoriesSuspenseNavigationPaneRoot.react",["QuickPerformanceLogger","React","StoriesActorContext","StoriesQueryArgumentsContext","StoriesRelay","StoriesSuspenseNavigationPane.react","StoriesSuspenseNavigationPanePauseContainer","WebPixelRatio","StoriesSuspenseNavigationPaneRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").useContext,i=b("React").useEffect;b("StoriesRelay").graphql;var j=b("StoriesRelay").useLazyLoadQuery;function a(a){__p&&__p();var c,d=a.initialBucketID;a=a.viewerSessionID;var e=h(b("StoriesQueryArgumentsContext"));e=e.initialBucketsCount;e=j(g!==void 0?g:g=b("StoriesSuspenseNavigationPaneRootQuery.graphql"),{bucketsCount:e,initialBucketID:d,pinnedIDs:[(e=d)!=null?e:""],scale:b("WebPixelRatio").get()},{fetchPolicy:"store-or-network"});i(function(){b("QuickPerformanceLogger").markerPoint(13238353,"viewer navigation pane loaded")},[a]);a=e==null?void 0:(a=e.viewer)==null?void 0:(a=a.actor)==null?void 0:a.id;c=e==null?void 0:(c=e.bucket)==null?void 0:(c=c.unified_stories)==null?void 0:c.count;c=c!=null&&c>0;return b("React").jsx(b("StoriesSuspenseNavigationPanePauseContainer"),{children:b("React").jsx(b("StoriesActorContext").Provider,{value:{actorID:a},children:b("React").jsx(b("StoriesSuspenseNavigationPane.react"),{hasNode:c,initialBucketID:d,user:e.me})})})}e.exports=a}),null);
__d("StoriesCometLeftRailRoot.react",["CometPlaceholder.react","React","StoriesCometLeftRailLayout.react","StoriesSuspenseNavigationPanePlaceholder.react","StoriesSuspenseNavigationPaneRoot.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c,d=a.children,e=a.initialBucketID;a=a.viewerSessionID;return(c=b("React")).jsx(b("StoriesCometLeftRailLayout.react"),{hasRightRail:!1,leftRail:c.jsx(b("CometPlaceholder.react"),{fallback:c.jsx(b("StoriesSuspenseNavigationPanePlaceholder.react"),{}),children:c.jsx(b("StoriesSuspenseNavigationPaneRoot.react"),{initialBucketID:e,viewerSessionID:a})}),children:d})}e.exports=a}),null);