if (self.CavalryLogger) { CavalryLogger.start_js(["9e2gZ"]); }

__d("TimelineJumperCursorConfig",[],(function(a,b,c,d,e,f){e.exports={BOUNDARY_PREFIX:"boundary",CURSOR_PREFIX:"jumper",CURSOR_DELIMITER:"_"}}),null);
__d("TimelineJumperStoryUtil",["DataStore","FBJSON"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getTimeFromStory:function(a){if(!a.id)return null;a=b("DataStore").get(a,"store");if(!a)return null;a=b("FBJSON").parse(a);return parseInt(a.timestamp,10)}};e.exports=a}),null);
__d("TimelineMonitorElements",["csx","Arbiter","DOMQuery","Event","Run","TimelineJumperStoryUtil","Vector","ViewportBounds","ge","queryThenMutateDOM","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j=0,k=null,l=!1;function m(){h=null,i=null,j=0,k&&k.remove(),k=null,l=!1}function n(){b("queryThenMutateDOM")(p,o,"TimelineMonitorElements/scroll")}function o(){i&&(b("Arbiter").inform(r.ELEMENT_CHANGED,i),h=i,i=null)}function p(){__p&&__p();var a=b("ViewportBounds").getTop()+b("Vector").getScrollPosition().y,c=q(a);if(c){if(h&&h.id===c.id){j=a;return}var d=b("TimelineJumperStoryUtil").getTimeFromStory(c);if(!d)return;i={id:c.id,timestamp:d,fromAbove:j<a}}j=a}function q(a){__p&&__p();var c=b("ge")("timeline_tab_content");if(!c)return null;c=b("DOMQuery").scry(c,"._2q8l");for(var d=0;d<c.length;d++){var e=c[d],f=b("Vector").getElementPosition(e).y+b("Vector").getElementDimensions(e).y;if(a<=f)return e}return null}var r={ELEMENT_CHANGED:"TimelineMonitorElements/elementChanged",init:function(){k||(k=b("Event").listen(window,"scroll",b("throttle")(n,100))),l||(b("Run").onLeave(m),l=!0),n()}};e.exports=r}),null);
__d("TimelineSectionTokenConstants",[],(function(a,b,c,d,e,f){"use strict";a={KEY_MONTH_POSITION:2,KEY_YEAR_POSITION:1,LAST_MONTH_OF_YEAR:12,MIN_TOKENS_PER_KEY:2,KEY_LENGTH_WITH_MONTH:3,KEY_DELIMITER:"_",RECENT_TOKEN:"recent",MONTH_TOKEN_PREFIX:"month",YEAR_TOKEN_PREFIX:"year"};e.exports=a}),null);
__d("TimelineSectionToken",["invariant","DateConsts","TimelineJumperCursorConfig","TimelineSectionTokenConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DateConsts").MS_PER_SEC,i=b("TimelineJumperCursorConfig").CURSOR_DELIMITER,j=b("TimelineJumperCursorConfig").CURSOR_PREFIX,k=(a=b("TimelineSectionTokenConstants")).KEY_DELIMITER,l=a.KEY_LENGTH_WITH_MONTH,m=a.KEY_MONTH_POSITION,n=a.KEY_YEAR_POSITION,o=a.LAST_MONTH_OF_YEAR,p=a.MIN_TOKENS_PER_KEY,q=a.MONTH_TOKEN_PREFIX;function r(a){a=a.split(k);a.length>=p||g(0,4411,p.toString());return a}var s={createMonthTokenWithYearAndMonth:function(a,b){b<=12&&b>0||g(0,4410);return q.concat(k,a.toString(),k,b.toString())},createMonthTokenWithKey:function(a,b){a=s.getYearFrom(a);return s.createMonthTokenWithYearAndMonth(a,b)},getMonthFrom:function(a){a=r(a);return a.length===l?parseInt(a[m],10):o},getYearFrom:function(a){a=r(a);return parseInt(a[n],10)},getCursorFromRecentToken:function(){var a=Date.now()/h;return j.concat(i,a.toString())},getCursorFrom:function(a){var b=s.getYearFrom(a);a=s.getMonthFrom(a);b=(new Date(b,a,1).valueOf()/h-1).toString();return j.concat(i,b)}};e.exports=s}),null);
__d("ButtonGroup",["CSS","DataStore","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g="firstItem",h="lastItem";function i(a,c){a=b("Parent").byClass(a,c);if(!a)throw new Error("invalid use case");return a}function j(a){return b("CSS").shown(a)&&Array.from(a.childNodes).some(b("CSS").shown)}function k(a){var c,d,e;Array.from(a.childNodes).forEach(function(a){e=j(a),b("CSS").removeClass(a,g),b("CSS").removeClass(a,h),b("CSS").conditionShow(a,e),e&&(c=c||a,d=a)});c&&b("CSS").addClass(c,g);d&&b("CSS").addClass(d,h);b("CSS").conditionShow(a,c)}function a(a,b){b=i(b,"uiButtonGroupItem");a(b);k(b.parentNode)}c=function(){"use strict";function a(a){this._root=i(a,"uiButtonGroup"),b("DataStore").set(this._root,"ButtonGroup",this),k(this._root)}a.getInstance=function(c){c=i(c,"uiButtonGroup");var d=b("DataStore").get(c,"ButtonGroup");return d||new a(c)};return a}();Object.assign(c.prototype,{hideItem:a.bind(null,b("CSS").hide),showItem:a.bind(null,b("CSS").show),toggleItem:a.bind(null,b("CSS").toggle)});e.exports=c}),null);
__d("TimelineStickyHeader",["Animation","Arbiter","BlueBar","Bootloader","CSS","DOM","DOMQuery","Event","ProfileTabConst","ProfileTabUtils","ProfileTimelineUILogger","Style","TimelineComponentKeys","TimelineController","Vector","ViewportBounds","emptyFunction","ge","getOrCreateDOMID","nullthrows","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=200,h=358,i=48,j=!1,k,l,m,n=!1,o=0,p,q,r=!1,s={},t={VISIBLE:"TimelineStickyHeader/visible",ADJUST_WIDTH:"TimelineStickyHeader/adjustWidth",init:function(a){__p&&__p();k=a;t.reset();k=a;l=b("DOM").find(a,"div.name");b("DOM").find(a,"div.actions");j=b("CSS").hasClass(a,"fbTimelineStickyHeaderVisible");var c,d=!1,e=!0;b("queryThenMutateDOM")(function(){var a=b("BlueBar").getBar();a&&a.offsetTop&&!b("ge")("page_admin_panel")&&b("TimelineController").getCurrentKey()!==b("ProfileTabConst").TIMELINE&&(c=b("Vector").getElementDimensions(a).y,d=!0);e=b("BlueBar").hasFixedBlueBar()},function(){d?b("Bootloader").loadModules(["StickyController"],function(b){new b(a,c).start()},"TimelineStickyHeader"):b("CSS").addClass(a,"fixed_elem"),e||b("CSS").addClass(a,"fbTimelineStickyHeaderNonFixedBlueBar"),t.updateBounds(),t.toggleVisibilityOnFocus(),b("queryThenMutateDOM")(b("emptyFunction"),function(){t.check(b("Vector").getScrollPosition().y)},"TimelineStickyHeader/afterInit"),b("TimelineController").register(b("TimelineComponentKeys").STICKY_HEADER,t)},"TimelineStickyHeader/init")},reset:function(){j=!1,k=null,l=null,s={},m&&m.remove(),m=null},toggleVisibilityOnFocus:function(){b("Event").listen(k,"focusin",function(){t.toggle(!0)}),b("Event").listen(k,"focusout",function(a){a=a.relatedTarget||null;b("DOMQuery").contains(k,a)||t.check(b("Vector").getScrollPosition().y)})},handleTabChange:function(a){var c=b("nullthrows")(k);r=b("ProfileTabUtils").tabHasStickyHeader(a);o=r?h-i:0;if(!r){t.toggle(!1,function(){b("CSS").hide(c)});return}else b("CSS").show(c)},updateBounds:function(){b("queryThenMutateDOM")(function(){k&&(p=k.offsetTop,q=k.scrollHeight)},function(){m=b("ViewportBounds").addTop(function(){return j?p+q:0})},"TimelineStickyHeader/init")},check:function(a){a=o===0||a>=o;t.toggle(a)},toggle:function(a,c){__p&&__p();if(!k)return;if(a===j||!r&&a){c&&c();return}b("ge")("private_sharing_confirmation_bar")?b("CSS").addClass(k,"privateSharingConfirmationBar"):p=k.offsetTop;var d=a?p-q:p,e=a?p:p-q;b("Style").set(k,"top",d+"px");b("CSS").addClass(k,"fbTimelineStickyHeaderAnimating");var f=b("getOrCreateDOMID")(k);s[f]&&s[f].stop();s[f]=new(b("Animation"))(k).from("top",d).to("top",e).duration(g).ondone(function(){__p&&__p();s[f]=null,a&&!n&&(b("ProfileTimelineUILogger").logStickyHeaderImpression(),n=!0),b("queryThenMutateDOM")(b("emptyFunction"),function(){if(!k)return;b("CSS").conditionClass(k,"fbTimelineStickyHeaderHidden",!a);k.setAttribute("aria-hidden",a?"false":"true");b("CSS").removeClass(k,"fbTimelineStickyHeaderAnimating");b("Style").set(k,"top","");t.updateBounds();b("Arbiter").inform(t.VISIBLE,a);c&&c()})}).go();j=a;j&&t.adjustWidth()},adjustWidth:function(){b("Arbiter").inform(t.ADJUST_WIDTH,l,"state")},dismissConfirmationBar:function(){k&&b("CSS").removeClass(k,"privateSharingConfirmationBar")},scrollIntoView:function(){var a;b("queryThenMutateDOM")(function(){a=b("ge")("contentArea")},function(){a&&(a.style.minHeight=window.innerHeight+o+"px");try{window.scrollTo({top:o,left:0})}catch(a){window.scrollTo(0,o)}})}};e.exports=t}),null);
__d("TimelineStickyHeaderWithJumperNav",["Arbiter","ButtonGroup","CSS","DataStore","DateConsts","DOM","Event","Parent","ProfileTabUtils","ProfileTimelineUILogger","Run","SelectorDeprecated","SubscriptionsHandler","TimelineJumperController","TimelineMonitorElements","TimelineSectionToken","TimelineSectionTokenConstants","TimelineStickyHeader","URI","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("DateConsts").MS_PER_SEC,i=(a=b("TimelineSectionTokenConstants")).KEY_DELIMITER,j=a.KEY_LENGTH_WITH_MONTH,k=a.RECENT_TOKEN,l=a.YEAR_TOKEN_PREFIX,m=!1,n=null,o=null,p=null,q={},r=null,s=null;function t(a){__p&&__p();if(!a.timestamp||!p)return;a=new Date(parseInt(a.timestamp,10)*h);var c=(a.getMonth()+1).toString();a=l.concat(i,a.getFullYear().toString());if(b("SelectorDeprecated").getOption(p,a)){b("SelectorDeprecated").setSelected(p,a,!0);w(a);a=q[a];a&&b("SelectorDeprecated").setSelected(a,c,!0)}else b("SelectorDeprecated").setSelected(p,k,!0),w(k)}function u(){var a=b("SelectorDeprecated").getSelectorMenu(p);b("nullthrows")(s).addSubscriptions(b("Event").listen(a,"click",function(a){return v(a)}))}function v(a){var c=a.target;if(!(c instanceof Node))return;c=b("Parent").byTag(c,"a");c=c&&b("DataStore").get(c,"key");c&&(b("ProfileTimelineUILogger").logStickyHeaderScrubberWithJumperClick(c),a.preventDefault(),w(c),b("TimelineStickyHeader").scrollIntoView(),b("TimelineJumperController").loadSection(c))}function w(a){a===k?x():y(a)}function x(){n&&n.hideItem(r)}function y(a){__p&&__p();if(a.split(i).length===j||!r)return;a=z(a);b("DOM").insertAfter(r,a);b("CSS").hide(r);for(var c in q){var d=q[c];b("CSS").conditionShow(d,d===a)}n&&n.showItem(r)}function z(a){__p&&__p();if(!r)return null;var c=q[a];if(!c){c=q[a]=r.cloneNode(!0);var d=b("DOM").scry(c,"li.activityLog a")[0];d&&(d.href=new(g||(g=b("URI")))(d.href).addQueryData({key:a}));d=b("TimelineSectionToken").getYearFrom(a);var e=b("DOM").scry(c,"li.monthSelector a");for(var f=0;f<e.length;f++){var h=e[f],i=h.getAttribute("data-key");h.setAttribute("data-key",b("TimelineSectionToken").createMonthTokenWithKey(a,i));new Date(d,i-1)>new Date()&&b("CSS").hide(h)}b("nullthrows")(s).addSubscriptions(b("Event").listen(c,"click",function(a){return v(a)}))}return c}function A(a){a=a.target;if(!(a instanceof Element))return;a=b("Parent").byClass(a,"itemAnchor");if(a){a=b("DataStore").get(a,"tab-key");a&&b("ProfileTimelineUILogger").logStickyHeaderNavItemWithJumperClick(a)}}function B(){m=!1,n=null,o=null,p=null,q={},r=null,s&&(s.release(),s=null)}c={init:function(a){__p&&__p();if(m)return;m=!0;o=b("DOM").scry(a,"div.pageMenu")[0];p=b("DOM").find(a,"div.sectionMenu");n=b("ButtonGroup").getInstance(p);s=new(b("SubscriptionsHandler"))();o&&s.addSubscriptions(b("Event").listen(o,"click",function(a){return A(a)}));r=b("DOM").find(a,"div.subsectionMenu");u();s.addSubscriptions(b("Arbiter").subscribe(b("TimelineMonitorElements").ELEMENT_CHANGED,function(a,b){t(b)}),b("Arbiter").subscribe("TimelineController/sectionKeyChange",function(a,c){a=b("ProfileTabUtils").isTimelineTab(c[0]);o&&b("CSS").conditionShow(o,a);p&&b("CSS").conditionShow(p,a);if(!a)for(var d in q){c=q[d];b("CSS").hide(c)}}));b("TimelineMonitorElements").init();b("Run").onLeave(function(){return B()})}};e.exports=c}),null);
__d("FeedProfilePhotoFooter",["SubscriptionsHandler","UFICentralUpdates","URI","destroyOnUnload"],(function(a,b,c,d,e,f){var g;a=function(a,c){"use strict";var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("UFICentralUpdates").subscribe("actor-changed",function(d,e){return a.setAttribute("href",new(g||(g=b("URI")))(c).addQueryData("profile_id",e.actorID).toString())}));b("destroyOnUnload")(function(){return d.release()})};e.exports=a}),null);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","DataStore","Layer","Parent","SelectorDeprecated"],(function(a,b,c,d,e,f){function g(a,c){a=b("Parent").byClass(a,"bg_stat_elem")||b("Parent").byClass(a,"uiButtonGroup");!a&&c&&(a=b("DataStore").get(c,"toggleElement",null));a&&(c&&b("DataStore").set(c,"toggleElement",a),b("CSS").toggleClass(a,"uiButtonGroupActive"))}b("Layer").subscribe(["hide","show"],function(a,c){(c instanceof b("ContextualLayer")||c instanceof b("ContextualDialog"))&&g(c.getCausalElement(),c)});b("SelectorDeprecated").subscribe(["close","open"],function(a,b){g(b.selector)})}),null);