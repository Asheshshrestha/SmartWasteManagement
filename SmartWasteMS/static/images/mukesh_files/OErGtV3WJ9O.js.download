if (self.CavalryLogger) { CavalryLogger.start_js(["y\/7gK"]); }

__d("ChatEmojiFlyout.react",["cx","Bootloader","ChatEmojiCategories","ChatEmojiCategoryPickerReact.bs","ChatEmojiPicker.react","ChatFlyoutPlaceholder.react","EmojiActions","EmojiDispatcher","EmojiState","EmojiStateStore","Keys","MessengerSupportedEmojiUtils","React","SkinToneEmoji.bs","StoreAndPropBasedStateMixin","emptyFunction","performanceAbsoluteNow","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ChatEmojiCategoryPickerReact.bs").jsComponent;c=b("React").createClass({displayName:"ChatEmojiFlyout",mixins:[b("StoreAndPropBasedStateMixin")(b("EmojiStateStore"))],statics:{calculateState:function(a){a=b("EmojiStateStore").getState();var c=a.currentCategory?a.currentCategory:b("ChatEmojiCategories").categories[0];return{currentCategory:c,dataReady:a.trayDataReady,emojiColorPref:a.emojiColor,mruCategory:a.mruCategory}}},propTypes:{onEscKeyDown:(a=b("prop-types")).func,onCategorySelect:a.func,onSelect:a.func.isRequired,sendCustomEmoji:a.func,threadID:a.string,isFromReactionMenu:a.bool},getDefaultProps:function(){return{isFromReactionMenu:!1}},_markerPoint:function(a){var c=(h||(h=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.COMPOSER_INTERACTION,a,"",0,c)},"ChatEmojiFlyout.react")},componentDidMount:function(){this._markerPoint("mount_emoji_flyout"),this._onShown(),b("EmojiDispatcher").explicitlyRegisterStores([b("EmojiStateStore")]),this.state.emojiColorPref===void 0&&b("EmojiActions").getEmojiColor()},render:function(){__p&&__p();if(!this.state.dataReady||this.state.emojiColorPref===void 0)return b("React").jsx(b("ChatFlyoutPlaceholder.react"),{});this._markerPoint("load_emoji");this._markerPoint=b("emptyFunction");var a=this.state.mruCategory&&!this.props.isFromReactionMenu?this.state.mruCategory.concat(b("ChatEmojiCategories").categories):b("ChatEmojiCategories").categories,c=this.state.emojiColorPref;(!c||c<0)&&(c=0);var d=this.props.isFromReactionMenu&&this.state.mruCategory&&this.state.mruCategory.length===1&&this.state.mruCategory[0]===this.state.currentCategory?b("ChatEmojiCategories").categories[0]:this.state.currentCategory,e=d.emojis.map(function(a){a=a;c!=0&&b("SkinToneEmoji.bs").hasVariations(a)&&(a=b("SkinToneEmoji.bs").applyTone(a,c));var d=String.fromCodePoint.apply(String,a);return!b("MessengerSupportedEmojiUtils").isSupportedEmoji(d)?null:a}).filter(Boolean);return b("React").jsxs("div",{className:"_4pi8",onKeyDown:this._handleKeyDown,children:[b("React").jsx(b("ChatEmojiPicker.react"),{className:"_4pia",columns:6,emojiChoices:e,onSelect:this.props.onSelect,ref:"picker",sendCustomEmoji:this.props.sendCustomEmoji,shouldSaveEmojiColorChoice:!!(this.state.emojiColorPref&&this.state.emojiColorPref<0),threadID:this.props.threadID,useSkinToneSelector:!0}),b("React").jsx(i,{categories:a,currentCategoryName:d.name,onSelect:this._handleSelectCategory})]})},_onShown:function(){this.state.dataReady||this._loadTrayData()},_loadTrayData:function(){b("EmojiState").onTrayDataReady(function(){})},_handleChooseEmojiColor:function(a){b("EmojiActions").changeEmojiColor(a)},_handleKeyDown:function(a){a.keyCode===b("Keys").ESC&&this.props.onEscKeyDown&&this.props.onEscKeyDown()},_handleSelectCategory:function(a){b("EmojiActions").changeCurrentCategory(a),this.refs.picker.scrollToTop(),this.props.onCategorySelect&&this.props.onCategorySelect()}});e.exports=c}),null);
__d("LiveBroadcastRHCFunnelLogger",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";a={appendAction:function(a,c){new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction(a).setSessionKey((a=c)!=null?a:b("CurrentUser").getID()).log()}};e.exports=a}),null);