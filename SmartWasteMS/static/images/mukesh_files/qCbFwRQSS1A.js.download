if (self.CavalryLogger) { CavalryLogger.start_js(["4Bzeg"]); }

__d("PagesPlatformNativeBookingGraphQLStatus",[],(function(a,b,c,d,e,f){e.exports={CANCELLED:"CANCELLED",CONFIRMED:"CONFIRMED",DECLINED:"DECLINED",REQUESTED:"REQUESTED",PENDING:"PENDING",INSTANT_BOOKING_PENDING:"INSTANT_BOOKING_PENDING",EXTERNAL_PROVIDER:"EXTERNAL_PROVIDER"}}),null);
__d("MessageReplyDecoratorContainer.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","Image.react","Locale","MercuryConfig","MessageReplyPermissions","MessengerColors","MessengerCustomColorUtils.re","MessengerEnvironment","MessengerParticipants.re","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","RepliedToMessageStatusForGraphQL","WorkChatRedesignedMessageListCheck.re","asset","getFBTSafeGenderFromGenderConst","gkx","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.$4();if(d.props.repliedToMessage.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;b("MessengerEnvironment").messengerui?d.props.scrollToRepliedMessage&&d.props.scrollToRepliedMessage(d.props.repliedToMessage.message.message_id):b("FantaTabActions").jumpToMessage(d.props.threadID,d.props.repliedToMessage.message.message_id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.isFromViewer;a=a.repliedToMessage;var d=b("MercuryConfig").SM3BD,e=a.status===b("RepliedToMessageStatusForGraphQL").VALID;if(e&&!a.message||e&&!b("MessageReplyPermissions").isRepliableMessage(a.message))return null;e=b("MessengerEnvironment").messengerui;var f=b("Locale").isRTL(),h={};b("CurrentUser").isWorkUser()||(e&&this.props.isFromViewer&&(h=babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.gradientColors?this.props.gradientColors:[],this.props.solidColor,b("MessengerCustomColorUtils.re").defaultColor()))),this.props.customColor!=null&&this.props.customColor!==""&&this.props.isFromViewer&&d&&(h.backgroundColor=this.props.customColor));a=b("React").jsx(b("RepliedToMessageContent.react"),{isFromViewer:c,isLinkified:!1,isMessengerUI:e,repliedToMessageData:a,scrollToRepliedMessage:this.props.scrollToRepliedMessage,threadID:this.props.threadID,replyInOneBubble:d});var i=this.props.messageBody!=null?b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(this.props.messageBody):[];i=this.props.messageBody!=null&&this.props.messageBody!==""&&d&&!(i!=null&&i.length>0);var j=b("WorkChatRedesignedMessageListCheck.re").enabled;i=i?null:b("React").jsxs("div",{className:"_3egt",children:[b("React").jsx("div",{className:"_3egu"}),b("React").jsx("a",{className:"_3058 _hh7 _52mr _s1-"+(e?" _4k7c":"")+(j?" _7w6z":"")+(e?"":" _2saq")+(this.props.isFromViewer&&d?" _43by":"")+(d?" _6e6n":""),href:"#",onClick:this.$1,style:h,children:b("React").jsx("div",{className:"_aok"+(j?" _7w6-":""),children:a})})]});return b("React").jsxs("div",{className:"clearfix _o46 _3erg"+(c?" _3i_m":"")+(c?" _nd_":"")+(c?"":" _29_7")+" _3egs"+(j?" _7w5x":"")+(d?"":" _6kv5"),children:[j?b("React").jsx("div",{className:"_7w5y",children:this.$3()}):b("React").jsxs("div",{className:"_3058"+(e?" _4k7a":"")+(e?"":" _2sap")+(e?"":" _3-9d")+(e?" _3-9b":"")+(c?" _3-90":"")+(f?"":" direction_ltr")+(f?" direction_rtl":""),children:[b("React").jsx(b("Image.react"),{src:g("517594"),className:"_6e38 _3-8_"}),this.$2()]}),i]})};d.$4=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"MessageReplyDecoratorContainer.react")};d.$3=function(){var a=this.props.repliedToMessage;a=b("MessengerParticipants.re").getNow(a==null?void 0:(a=a.message)==null?void 0:a.author);return(a==null?void 0:a.name)||""};d.$2=function(){__p&&__p();var a=this.props,c=a.repliedToMessage,d=a.authorID;a=a.nicknames;d=b("MessengerParticipants.re").getNow(d);var e=d==null?void 0:d.fbid,f=e!=null&&(a==null?void 0:a[e]);f=f!=null?f:d==null?void 0:d.short_name;c=b("MessengerParticipants.re").getNow(c==null?void 0:(c=c.message)==null?void 0:c.author);var g=c==null?void 0:c.fbid;a=g!=null&&(a==null?void 0:a[g]);a=a!=null?a:c==null?void 0:c.short_name;c=b("CurrentUser").getID();var h=e==null,j=!h&&e!==c,k=e===c,l=g==null,m=!l&&g!==c;c=g==c;e=!h&&e===g;if(k&&(c||l))return i._("You replied");if(c&&h)return i._("Reply to you");if(j&&(e||l))return i._({"*":"{sender_name} replied"},[i._param("sender_name",f,[1,b("getFBTSafeGenderFromGenderConst")(d==null?void 0:d.gender)])]);if(c&&h)return i._("Reply to you");if(j&&c)return i._({"*":"{sender_name} replied to you"},[i._param("sender_name",f,[1,b("getFBTSafeGenderFromGenderConst")(d==null?void 0:d.gender)])]);if(k&&m)return i._("You replied to {sender_name}",[i._param("sender_name",a)]);if(j&&l)return i._({"*":"{sender_name} replied"},[i._param("sender_name",f,[1,b("getFBTSafeGenderFromGenderConst")(d==null?void 0:d.gender)])]);if(m&&h)return i._("Reply to {original_sender_name}",[i._param("original_sender_name",a)]);return j&&m?i._({"*":"{sender_name} replied to {original_sender_name}"},[i._param("sender_name",f,[1,b("getFBTSafeGenderFromGenderConst")(d==null?void 0:d.gender)]),i._param("original_sender_name",a)]):i._("Reply")};return c}(b("React").PureComponent);a.propTypes={isFromViewer:(c=b("prop-types")).bool.isRequired,authorID:c.string.isRequired,repliedToMessage:c.object.isRequired,threadID:c.string.isRequired,scrollToRepliedMessage:c.func,messageBody:c.string,customColor:c.string};e.exports=a}),null);