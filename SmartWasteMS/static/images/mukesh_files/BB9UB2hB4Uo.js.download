if (self.CavalryLogger) { CavalryLogger.start_js(["HO1KZ"]); }

__d("ReactComposerLiveBroadcastPreviewEmbedDialog.react",["cx","fbt","FBClipboardLink.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUIText.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c;return(c=b("React")).jsxs(b("XUIDialog.react"),{shown:a.shown,onToggle:a.onToggle,width:500,children:[c.jsx(b("XUIDialogTitle.react"),{children:h._("Embed Video")}),c.jsx(b("XUIDialogBody.react"),{children:c.jsx("div",{children:c.jsxs("span",{children:[c.jsx(b("XUIText.react"),{size:"header4",display:"block",className:"_o9w",children:h._("Copy and paste this code into your website")}),c.jsx(b("XUITextInput.react"),{className:"_o9x _o9w",value:a.embeddedHtml,readonly:"true"}),c.jsx(b("FBClipboardLink.react"),{className:"_o9w",onComplete:a.onCopy,value:a.embeddedHtml,children:c.jsx(b("XUIButton.react"),{label:"Copy to Clipboard"})})]})})}),c.jsx(b("XUIDialogFooter.react"),{children:c.jsx(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})})]})}e.exports=a}),null);
__d("ReactComposerLiveBroadcastModerationSettingsSelector.react",["ix","cx","fbt","Image.react","LiveVideoBroadcastAPIActions","React","Tooltip.react","XUISelector.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("LiveVideoBroadcastAPIActions").commentModerationChanged(),d.props.onCommentModesChange(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{children:[i._("Comment modes:"),b("React").jsxs(b("XUISelector.react"),{className:"_3o3-",multiple:!0,onChange:this.$1,defaultLabel:i._("None"),defaultValue:this.props.commentModes,children:[b("React").jsx(b("XUISelector.react").Option,{value:"follower",children:i._("Followers")}),this.props.canSeeCommentProtectedMode&&b("React").jsx(b("XUISelector.react").Option,{value:"protected_mode",children:i._("Protected")}),b("React").jsx(b("XUISelector.react").Option,{value:"slow",children:i._("Slow")}),b("React").jsx(b("XUISelector.react").Option,{value:"discussion",children:i._("Discussion")}),b("React").jsx(b("XUISelector.react").Option,{value:"restricted",children:i._("Restricted")}),this.props.isWoodhengePage?b("React").jsx(b("XUISelector.react").Option,{value:"supporter",children:i._("Supporters")}):null]}),b("React").jsx(b("Tooltip.react"),{position:"above",alignH:"left",tooltip:b("React").jsxs("div",{className:"_5iga",children:[b("React").jsx("div",{children:i._("Followers: Only your followers will be able to leave comments.")}),this.props.canSeeCommentProtectedMode&&b("React").jsx("div",{children:i._("Protected: Commenters must have followed you for at least 15 minutes.")}),b("React").jsx("div",{children:i._("Discussion: Only comments over 100 characters will be shown.")}),b("React").jsx("div",{children:i._("Slow: Commenters will only be able to comment every 10 seconds.")}),b("React").jsx("div",{children:i._("Restricted: Commenters must have accounts that are at least 2 weeks old.")}),this.props.isWoodhengePage?b("React").jsx("div",{children:i._("Supporters: Only your supporters will be able to leave comments.")}):null]}),children:b("React").jsx(b("Image.react"),{className:"_5igb",src:g("481013")})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerJoinGroupCTAAttachmentActionType",[],(function(a,b,c,d,e,f){a="FETCH_ATTACHMENT";b="SET_MARKUP";e.exports={FETCH_ATTACHMENT:a,SET_MARKUP:b}}),null);
__d("ReactComposerJoinGroupCTAAttachmentActions",["ReactComposerDispatcher","ReactComposerJoinGroupCTAAttachmentActionType","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){function a(a,c,d){a={composerID:a,type:b("ReactComposerJoinGroupCTAAttachmentActionType").FETCH_ATTACHMENT,groupID:c,actorID:d};b("ReactComposerDispatcher").dispatch(a)}function c(a,c){a={composerID:a,type:b("ReactComposerJoinGroupCTAAttachmentActionType").SET_MARKUP,markup:c};b("ReactComposerDispatcher").dispatch(a)}function d(a){b("ReactComposerTaggerActions").setTaggerData(a,"group_join_cta","GROUP_JOIN_CTA",{remove:!0}),this.setMarkup(a,null)}e.exports={fetchJoinGroupCTAAttachment:a,setMarkup:c,removeJoinGroupCTAAttachment:d}}),null);
__d("XReactComposerLiveVideoJoinGroupCTAAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/live_video_join_group_cta/attachment/",{composer_id:{type:"String",required:!0},group_id:{type:"FBID",required:!0}})}),null);
__d("ReactComposerJoinGroupCTAAttachmentStore",["ActorURI","AsyncRequest","ReactComposerJoinGroupCTAAttachmentActionType","ReactComposerStoreBase","XReactComposerLiveVideoJoinGroupCTAAttachmentController"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;b=a.call(this,function(){return{isFetching:!1,markup:null}},function(a){c.$ReactComposerJoinGroupCTAAttachmentStore1(a)})||this;c=babelHelpers.assertThisInitialized(b);return b}var d=c.prototype;d.$ReactComposerJoinGroupCTAAttachmentStore1=function(a){switch(a.type){case b("ReactComposerJoinGroupCTAAttachmentActionType").FETCH_ATTACHMENT:this.$ReactComposerJoinGroupCTAAttachmentStore2(a);break;case b("ReactComposerJoinGroupCTAAttachmentActionType").SET_MARKUP:this.$ReactComposerJoinGroupCTAAttachmentStore3(a);break}};d.getMarkup=function(a){return this.getComposerData(a).markup};d.isFetching=function(a){return this.getComposerData(a).isFetching};d.$ReactComposerJoinGroupCTAAttachmentStore2=function(a){__p&&__p();var c=this;a=this.validateAction(a,["composerID","groupID","actorID"]);var d=a[0],e=a[1];a=a[2];var f=this.getComposerData(d);f.isFetching=!0;f.markup=null;e=b("XReactComposerLiveVideoJoinGroupCTAAttachmentController").getURIBuilder().setString("composer_id",d).setFBID("group_id",e);e=b("ActorURI").create(e.getURI(),a);a=new(b("AsyncRequest"))(e).setFinallyHandler(function(){f.isFetching=!1,c.emitChange(d)});a.send();this.emitChange(d)};d.$ReactComposerJoinGroupCTAAttachmentStore3=function(a){a=this.validateAction(a,["composerID","markup"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.markup=a;c.isFetching=!1;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerJoinGroupCTAAttachmentContainer",["cx","fbt","FluxContainer","React","ReactComposerAttachmentPreview.react","ReactComposerContextTypes","ReactComposerJoinGroupCTAAttachmentActions","ReactComposerJoinGroupCTAAttachmentStore","ReactComposerTaggerActions","XUICloseButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a){return b("React").jsx("div",{className:"_40_q",children:b("React").jsx(b("XUICloseButton.react"),{size:"medium",shade:"light",onClick:a.removeAttachment})})}function j(a){return b("React").jsxs("div",{className:"_jg1 _239z",children:[b("React").jsx(b("XUISpinner.react"),{background:"light",size:"large"}),h._("Loading preview")]})}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("ReactComposerTaggerActions").setTaggerData(d.context.composerID,"group_join_cta","GROUP_JOIN_CTA",{remove:!0}),b("ReactComposerJoinGroupCTAAttachmentActions").setMarkup(d.context.composerID,null)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerJoinGroupCTAAttachmentStore")]};c.calculateState=function(a,c,d){a=d.composerID;c=b("ReactComposerJoinGroupCTAAttachmentStore").getMarkup(a);d=b("ReactComposerJoinGroupCTAAttachmentStore").isFetching(a);return{markup:c,showLoadingIndicator:d}};var d=c.prototype;d.render=function(){var a=this.state.markup?b("React").jsxs("div",{className:"_2ane _2pit _2pij _2pio",children:[b("React").jsx(b("ReactComposerAttachmentPreview.react"),{markup:this.state.markup}),b("React").jsx(i,{removeAttachment:this.$1})]}):null,c=this.state.showLoadingIndicator?b("React").jsx(j,{}):null;return b("React").jsxs(b("React").Fragment,{children:[c,a]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerTaggerDisabledButton.react",["cx","React","TooltipLink.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ReactComposerTaggerDisabledButton",propTypes:{taggerID:b("prop-types").string.isRequired,title:b("prop-types").string,tooltip:b("prop-types").string},getDefaultProps:function(){return{title:null,tooltip:null}},render:function(){var a="_3xem _4v7o",c=b("joinClasses")("_2vwi",this.props.className);return b("React").jsxs(b("TooltipLink.react"),{"aria-disabled":!0,"data-testid":"testid-"+this.props.taggerID,tooltip:this.props.tooltip,"data-tooltip-content":this.props.tooltip,className:a,href:"#",role:"button",children:[b("React").jsx("span",{className:"accessible_elem",children:this.props.title}),b("React").jsx("div",{className:c}),this.props.children]})}});e.exports=a}),null);
__d("ReactComposerBreakingNewsButtonContainer.react",["cx","React","ReactComposerBreakingNewsButton.react","ReactComposerBreakingNewsUtils","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerActions","ReactComposerTaggerDisabledButton.react","ReactComposerTaggerStore","ReactComposerTaggerType","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=b("ReactComposerTaggerStore").isDisabled(a,b("ReactComposerTaggerType").BREAKING_NEWS);a=b("ReactComposerBreakingNewsUtils").getTooltip(a);return{isDisabled:c,tooltip:a}}var h=function(a){var c="_r2r";return b("React").jsx("div",{className:"uiContextualLayerParent",style:{display:"inline-block"},children:b("React").jsx(b("ReactComposerTaggerDisabledButton.react"),babelHelpers["extends"]({className:c,taggerID:b("ReactComposerTaggerType").BREAKING_NEWS,title:b("ReactComposerBreakingNewsUtils").getDefaultTooltip()},a))})};c=b("React").createClass({displayName:"ReactComposerBreakingNewsButtonContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerScrapedAttachmentStore"),b("ReactComposerTaggerStore"))],propTypes:{breakingTaggerConfig:b("prop-types").object},statics:{calculateState:a},componentDidMount:function(){var a;a=(a=this.props)!=null?(a=a.breakingTaggerConfig)!=null?a.initialStatus:a:a;b("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,b("ReactComposerTaggerType").BREAKING_NEWS,{initialStatus:a});a&&b("ReactComposerScrapedAttachmentActions").setBreakingConfig(this.context.composerID,a)},render:function(){return this.state.isDisabled?b("React").jsx(h,{tooltip:this.state.tooltip}):b("React").jsx(b("ReactComposerBreakingNewsButton.react"),{})}});e.exports=c}),null);
__d("ReactComposerGroupsJoinCTATaggerButton.react",["cx","fbt","AlignmentEnum","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").createClass({displayName:"ReactComposerGroupsJoinCTATaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").GROUP_JOIN_CTA,loggingName:b("ReactComposerLoggingName").GROUP_JOIN_CTA},getNUX:function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return a.state.contextRef},onCloseButtonClick:this._hideNUX,position:"below",shown:this.state.showNUX,width:"auto",children:h._("Add a call-to-action button to promote a Group that you manage.")})},_hideNUX:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").LIVE_JOIN_GROUP_CTA_COMPOSER_TAGGER_NUX),b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").GROUP_JOIN_CTA,!1),this.setState({showNUX:!1})},getTitle:function(){return h._("Add a call-to-action button to promote a Group that you manage")},getTooltip:function(){return h._("Add a call-to-action button to promote a Group that you manage")},getClassName:function(){return"_6xxq"},getTooltopAlignH:function(){return b("AlignmentEnum").right},getRef:function(){return"fbReactComposerJoinGroupCTATaggerButton"},componentDidMount:function(){b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").GROUP_JOIN_CTA,!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").LIVE_JOIN_GROUP_CTA_COMPOSER_TAGGER_NUX)),this.setState({contextRef:this.refs.fbReactComposerJoinGroupCTATaggerButton})}});e.exports=a}),null);
__d("ReactComposerGroupsJoinCTATypeaheadView.react",["cx","Image.react","ImageBlock.react","React","TextWithEmoticons.react","TypeaheadViewItem","XUITypeaheadViewContainer.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("TypeaheadViewItem").makeTypeaheadViewItem;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.highlighted,d=a.entry,e=a.onSelect;a=a.onHighlight;var f="_599m"+(c?" _599n":"");return b("React").jsx("li",{"aria-selected":c,className:f,id:d.getUniqueID(),role:"option",onMouseDown:e,onMouseEnter:a,children:b("React").jsxs(b("ImageBlock.react"),{spacing:"medium",children:[b("React").jsx(b("Image.react"),{src:d.getPhoto(),width:32,round:!0,height:32,style:{borderRadius:"50%"}}),b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_599p",children:b("React").jsx(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:d.getTitle()})}),b("React").jsx("div",{className:"_599q",children:d.getSubtitle()})]})]})})};return c}(b("React").Component);var h=a(c);d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.props;return b("React").jsx(h,{entry:a,highlighted:a===c.highlightedEntry,onHighlight:c.onHighlight,onRenderHighlight:c.onRenderHighlight,onSelect:c.onSelect},a.getUniqueID())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=(this.props.entries.length?"":"_599s")+(this.props.isRightToLeft?" _1c5r":"")+(this.props.scrolled?" _62w5":"");a=b("joinClasses")(this.props.className,a);return b("React").jsx(b("XUITypeaheadViewContainer.react"),{className:a,id:this.props.controlleeID,role:"listbox",children:this.props.entries.map(this.$1)})};return c}(b("React").Component);e.exports=d}),null);
__d("ReactComposerGroupsJoinCTATaggerComponent.react",["cx","fbt","Grid.react","React","ReactComposerGroupsJoinCTATypeaheadView.react","SUITypeahead.react","SUIBusinessTheme"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={query:""},c.onChange=function(a){c.setState({query:a})},c.onSelect=function(a){c.setState({query:a.getTitle()}),c.props.onSelect(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs(b("Grid.react"),{className:"_5esl",cols:2,children:[a.jsx(i,{className:"_5esm",children:h._("Group")},"label"),a.jsx(i,{className:"_5esw",children:a.jsx(b("SUITypeahead.react"),{onChange:this.onChange,onSelectAttempt:this.onSelect,placeholder:h._("Which group would you like to promote?"),queryString:this.state.query,focusedOnInit:!0,searchSource:this.props.groupData,showEntriesOnFocus:!0,theme:b("SUIBusinessTheme"),presenter:{ViewRenderer:b("ReactComposerGroupsJoinCTATypeaheadView.react")}})},"tokenizer")]})};return c}(b("React").Component);e.exports=a}),null);
__d("XGroupsForPagesCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/{page_id}/group_cta/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ReactComposerGroupsJoinCTATaggerContainer.react",["React","ReactComposerGroupsJoinCTATaggerComponent.react","ReactComposerJoinGroupCTAAttachmentActions","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react","ReactComposerTaggerType","WebAsyncSearchSource","XGroupsForPagesCTAController","prop-types"],(function(a,b,c,d,e,f){a=b("React").createClass({displayName:"ReactComposerGroupsJoinCTATaggerContainer",mixins:[b("ReactComposerTaggerContainerStateMixin")()],statics:{taggerID:b("ReactComposerTaggerType").GROUP_JOIN_CTA},propTypes:{pageID:b("prop-types").string},_onSelect:function(a){a=a?babelHelpers["extends"]({},a.toPlainObject(),{groupID:a.getUniqueID()}):{};b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,"group_join_cta","GROUP_JOIN_CTA",a);b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,"group_join_cta");b("ReactComposerJoinGroupCTAAttachmentActions").fetchJoinGroupCTAAttachment(this.context.composerID,a.groupID,this.context.actorID)},getGroupDataSearchSource:function(){return new(b("WebAsyncSearchSource"))({bootstrapRequests:[{uri:b("XGroupsForPagesCTAController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()}],getAllForEmptyQuery:!0})},render:function(){return!this.state.isSelected?null:b("React").jsx("div",{children:b("React").jsx(b("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:this.state.isSelected,children:b("React").jsx(b("ReactComposerGroupsJoinCTATaggerComponent.react"),{groupData:this.getGroupDataSearchSource(),onSelect:this._onSelect})})})}});e.exports=a}),null);
__d("XReactComposerGroupSearchBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/composer/group_typeahead_bootstrap/",{actor_id:{type:"FBID"}})}),null);
__d("XReactComposerGroupSearchTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/composer/group_typeahead/",{value:{type:"String",defaultValue:""},actor_id:{type:"FBID"}})}),null);
__d("ReactComposerGroupSearchSource",["AbstractSearchSource","GroupSearchSource","SearchableEntry","WebAsyncSearchSource","XReactComposerGroupSearchBootstrapController","XReactComposerGroupSearchTypeaheadController","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").OrderedSet(b("GroupSearchSource").top_groups);a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;var e={uri:b("XReactComposerGroupSearchTypeaheadController").getURIBuilder().setFBID("actor_id",c).getURI()},f={uri:b("XReactComposerGroupSearchBootstrapController").getURIBuilder().setFBID("actor_id",c).getURI()};d.$ReactComposerGroupSearchSource1=new(b("WebAsyncSearchSource"))({queryRequests:[e],bootstrapRequests:[f]});d.$ReactComposerGroupSearchSource2=c;return d}var d=c.prototype;d.bootstrapImpl=function(a){a(),this.$ReactComposerGroupSearchSource1.bootstrap()};d.searchImpl=function(a,c){if(a.length)this.$ReactComposerGroupSearchSource1.search(a,c);else{var d=g.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,photo:a.photo,auxiliaryData:{memberCount:a.memberCount,privacyIcon:a.privacyIcon,privacyTitle:a.privacyTitle,privacyDescription:a.privacyDescription}})}).toArray();c(d,a)}};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("LiveVideoBroadcastEditShareSurfacesMutation",["RelayAPIConfig","RelayModern","uuid","LiveVideoBroadcastEditShareSurfacesMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditShareSurfacesMutation.graphql");function a(a,c,d){return h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:c.clientMutationID!=null?c.clientMutationID:b("uuid")(),share_surfaces:c.shareSurfaces,video_id:c.videoID}},onCompleted:d==null?void 0:d.onSuccess,onError:d==null?void 0:d.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastShareSurfaceSelector.react",["fbt","FDSText.react","LiveVideoBroadcastEditShareSurfacesMutation","React","RelayFBEnvironment","RelayModern","XUISelector.react","stylex","LiveVideoBroadcastShareSurfaceSelector_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("LiveVideoBroadcastEditShareSurfacesMutation").commit,k=b("React").useEffect,l=b("React").useState;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var m=b("XUISelector.react").Option;(i||(i=b("stylex"))).inject(".m8h3af8h{margin-top:0}",1);i.inject(".l7ghb35v{margin-right:0}",1,".l7ghb35v{margin-left:0}");i.inject(".qjfq86k5{margin-bottom:12px}",1);i.inject(".el74kkpw{margin-left:14px}",1,".el74kkpw{margin-right:14px}");i.inject(".alzwoclg{display:flex}",1);i.inject(".cqf1kptm{flex-direction:column}",1);i.inject(".mfn553m3{margin-bottom:8px}",1);var n="0",o="1",p={0:{type:["POST"],text:g._("Post")},1:{type:["POST","STORIES"],text:g._("Post, Story")}},q=function(a){return a.includes("STORIES")?o:n};c=function(a){__p&&__p();a=a.video;var c=a.id,d=a.video_broadcast_share_surfaces;a=l(!0);var e=a[0],f=a[1];a=l(q(d));var h=a[0],i=a[1];k(function(){i(q(d))},[d]);if(c==null||d==null)return null;var r=function(a){f(!1);var d=h;i(a);j(b("RelayFBEnvironment"),{videoID:c,shareSurfaces:p[a].type},{onSuccess:function(){f(!0)},onFailure:function(a){i(d),f(!0)}})};return b("React").jsxs("div",{className:"cqf1kptm alzwoclg el74kkpw qjfq86k5 l7ghb35v m8h3af8h",children:[b("React").jsx("div",{className:"mfn553m3",children:b("React").jsxs(b("XUISelector.react"),{onChange:function(a){return r(a.value)},value:h,isDisabled:!e,children:[b("React").jsx(m,{value:o,children:p[o].text}),b("React").jsx(m,{value:n,children:p[n].text})]})}),b("React").jsx(b("FDSText.react"),{children:g._("To: Your {The surface the user is sharing to}",[g._param("The surface the user is sharing to",p[h].text)])})]})};e.exports=a(c,{video:h!==void 0?h:h=b("LiveVideoBroadcastShareSurfaceSelector_video.graphql")})}),null);
__d("LiveVideoBroadcastShareSurfaceContainer.react",["LiveVideoBroadcastShareSurfaceSelector.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastShareSurfaceContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastShareSurfaceContainerQuery.graphql");a=function(a){a=a.videoID;return a==null?null:b("React").jsx(h,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:i,render:function(a){var c=a.error;a=a.props;a=a==null?void 0:a.video;return c!=null||a==null?null:b("React").jsx(b("LiveVideoBroadcastShareSurfaceSelector.react"),{video:a})},variables:{video_id:a}})};e.exports=a}),null);
__d("VideoCopyrightGeoSelector.react",["cx","fbt","CopyrightCountryNames","PolicyRuleTokenizedTypeahead.react","React","VideoCopyrightGeoSearchSource","XUIRadioList.react","XUISingleSelector.react","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("XUIRadioList.react").Item,j=b("XUISingleSelector.react").Option,k=new(b("VideoCopyrightGeoSearchSource"))(),l=b("keyMirror")(b("CopyrightCountryNames")),m=b("keyMirror")({WORLDWIDE:null,BY_COUNTRY:null}),n=b("keyMirror")({INCLUDE:null,EXCLUDE:null});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={selectedCountries:b.selectedCountries||[],selectedValue:b.selectedCountries&&b.selectedCountries.length>0?m.BY_COUNTRY:m.WORLDWIDE,includeSelectedCountries:c.props.areCountriesIncluded};return c}var d=c.prototype;d.$1=function(a){a===m.WORLDWIDE&&this.props.onChange([],!0),this.setState({selectedValue:a,selectedCountries:[],includeSelectedCountries:!0})};d.$2=function(){return this.props.shouldShowIncludeExcludeGeoOptions!==!0?null:b("React").jsxs(b("XUISingleSelector.react"),{className:"_28-i",value:this.state.selectedValue!==m.BY_COUNTRY||this.state.includeSelectedCountries,disabled:this.props.disabled||this.state.selectedValue!==m.BY_COUNTRY,onChange:this.$3.bind(this),children:[b("React").jsx(j,{value:!0,children:h._("Is")},n.INCLUDE),b("React").jsx(j,{value:!1,children:h._("Is Not")},n.EXCLUDE)]})};d.$4=function(a){this.props.onChange(a,this.state.includeSelectedCountries),this.setState({selectedCountries:a})};d.$3=function(a){this.props.onChange(this.state.selectedCountries,a.value),this.setState({includeSelectedCountries:a.value})};d.$5=function(){return this.state.selectedValue!==m.BY_COUNTRY?null:b("React").jsx("div",{display:"block",children:b("React").jsx(b("PolicyRuleTokenizedTypeahead.react"),{className:"_2oc",disabled:this.props.disabled,name:"typeahead",onEntriesUpdated:this.$4.bind(this),placeholder:h._("Choose countries"),searchSource:k,searchSourceLabels:this.props.useCountryCodeLabels?l:b("CopyrightCountryNames"),value:this.state.selectedCountries})})};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:b("joinClasses")(this.props.className,"_2or"),children:[a.jsxs(b("XUIRadioList.react"),{className:"_2os",selectedValue:this.state.selectedValue,onValueChange:this.$1.bind(this),children:[a.jsx(i,{className:"_2ot",disabled:this.props.disabled,value:m.WORLDWIDE,children:h._("Worldwide")}),a.jsxs(i,{className:"_2ot",disabled:this.props.disabled,value:m.BY_COUNTRY,children:[h._("By Country"),this.$2()]})]}),this.$5()]})};return c}(b("React").Component);a.defaultProps={areCountriesIncluded:!0};e.exports=a}),null);
__d("LiveVideoBroadcastEditRHCButton.react",["cx","fbt","ErrorDialog","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastConstants","React","XUIButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoBroadcastConstants").BROADCAST_STATE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialMetadata:d.props.metadataConfig},d.$3=function(){b("LiveVideoBroadcastActions").updateMetadataConfig(d.state.initialMetadata),b("LiveVideoBroadcastActions").setBroadcastState(i.LIVE)},d.$2=function(){__p&&__p();b("LiveVideoBroadcastActions").setUpdateRequestPending(!0);var a={crosspost_page_ids:d.props.crosspostingConfig.filter(function(a){return a.allow&&a.type==="page"}).map(function(a){return a.id}),share_with_owning_business:d.props.shareWithOwningBusiness,is_continuous:d.props.isContinuous,is_embeddable:d.props.isEmbeddable,is_rewind_enabled:d.props.isRewindEnabled,should_expire_after_live:d.props.shouldExpireAfterGoLive,should_show_graphic_content_warning:d.props.shouldShowGraphicContentWarning,live_comment_moderation_setting:d.props.commentModes};d.props.enableEventTicketPromotion!=null&&(a=babelHelpers["extends"]({},a,{enable_event_ticket_promotion:d.props.enableEventTicketPromotion}));d.props.canEnableLiveCoverVideo&&(a=babelHelpers["extends"]({},a,{is_page_live_cover_video_enabled:d.props.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));d.props.episodeData&&(a=babelHelpers["extends"]({},a,{is_episode:d.props.episodeData.isEpisode,season_id:d.props.episodeData.seasonID,series_id:d.props.episodeData.seriesID,playlist_ids:d.props.episodeData.playlistIDs}));b("LiveVideoBroadcastAfterBootloadUtils").updateBroadcastRequest(d.props.accessToken,d.props.actorID,d.props.apiVideoID,d.props.broadcastID,d.props.composerConfig,d.props.copyrightData,d.props.targetID,d.props.isCopyrighted,d.props.metadataConfig,a,function(){b("LiveVideoBroadcastActions").setUpdateRequestPending(!1),b("LiveVideoBroadcastActions").setBroadcastState(i.LIVE)},function(){b("LiveVideoBroadcastActions").setUpdateRequestPending(!1),b("ErrorDialog").show(h._("Saving error"),h._("Error saving changes, please try again"))},!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.isUpdateRequestPending?h._("Saving"):h._("Save"),c=this.props.isUpdateRequestPending?b("React").jsx(b("XUISpinner.react"),{background:"dark"}):null;return b("React").jsx(b("XUIButton.react"),{className:"_227w _273n _3-9a",disabled:this.props.isUpdateRequestPending,image:c,label:a,use:"confirm",onClick:this.$2})};d.render=function(){return b("React").jsxs("div",{children:[b("React").jsx(b("XUIButton.react"),{className:"_227w _273n",disabled:this.props.isUpdateRequestPending,label:h._("Cancel"),use:"default",onClick:this.$3}),this.$1()]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastEditAutoCaptionsEnabledMutation",["RelayAPIConfig","RelayModern","uuid","LiveVideoBroadcastEditAutoCaptionsEnabledMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditAutoCaptionsEnabledMutation.graphql");function a(a,c,d){return h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:c.clientMutationID!=null?c.clientMutationID:b("uuid")(),auto_captions_enabled:c.autoCaptionsEnabled,video_id:c.videoID}},onCompleted:d==null?void 0:d.onSuccess,onError:d==null?void 0:d.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastAutoCaptionsEnabledSwitch.react",["fbt","FDSSwitch.react","FDSText.react","LiveVideoBroadcastActions","LiveVideoBroadcastEditAutoCaptionsEnabledMutation","React","RelayModern","nullthrows","LiveVideoBroadcastAutoCaptionsEnabledSwitch_liveStreamMetadata.graphql","LiveVideoBroadcastAutoCaptionsEnabledSwitchRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("LiveVideoBroadcastEditAutoCaptionsEnabledMutation").commit;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){j(b("nullthrows")(d.props.relay.environment,"relay environment is null"),{videoID:d.props.videoID,autoCaptionsEnabled:a},{onSuccess:function(){b("LiveVideoBroadcastActions").setAutoCaptionsEnabled(a)},onFailure:function(a){b("LiveVideoBroadcastActions").errorAutoCaptionsEnabledChange(a)}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=((a=this.props.liveStreamMetadata)==null?void 0:(a=a.live_stream_config)==null?void 0:a.auto_captions_enabled)===!0;return b("React").jsx(b("FDSSwitch.react"),{label:g._("{=Auto-Generated Captions}",[g._param("=Auto-Generated Captions",b("React").jsx(b("FDSText.react"),{color:"primary",size:"body2",weight:"bold",children:g._("Auto-Generated Captions")}))]),value:a,onChange:this.$1})};return c}(b("React").Component);e.exports=a(c,{liveStreamMetadata:h!==void 0?h:h=b("LiveVideoBroadcastAutoCaptionsEnabledSwitch_liveStreamMetadata.graphql")},i!==void 0?i:i=b("LiveVideoBroadcastAutoCaptionsEnabledSwitchRefetchQuery.graphql"))}),null);
__d("LiveAutoCaptionToggleContainer.react",["FDSSpinner.react","FluxContainer","LiveVideoBroadcastAutoCaptionsEnabledSwitch.react","LiveVideoBroadcastIDStore","React","RelayFBEnvironment","RelayModern","gkx","nullthrows","LiveAutoCaptionToggleContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;if(c!=null)return null;return!a||!a.video?b("React").jsx(b("FDSSpinner.react"),{center:!0}):b("React").jsx(b("LiveVideoBroadcastAutoCaptionsEnabledSwitch.react"),{liveStreamMetadata:a.video,videoID:b("nullthrows")(d.state.videoID)})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LiveVideoBroadcastIDStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastIDStore").get("videoID");return{videoID:a}};var d=c.prototype;d.render=function(){if(!b("gkx")("1149313"))return null;var a=this.state.videoID;return a==null?null:b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,render:this.$1,variables:{video_id:a}})};return c}(b("React").PureComponent);var i=g!==void 0?g:g=b("LiveAutoCaptionToggleContainerQuery.graphql");e.exports=b("FluxContainer").create(a)}),null);
__d("InteractiveToolsEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("EventEmitter"));e.exports=new a()}),null);
__d("LiveVideoBroadcastAPIBroadcastStoreUtils",["DateConsts","LiveVideoBroadcastAPIBroadcastStore"],(function(a,b,c,d,e,f){"use strict";a={getDisplayStartTimeForBroadcast:function(a,c){c=c.getState().toObject();var d=c.isScheduledManualMode;c=c.scheduleStartTime;return c==null||d===!0?a:c*b("DateConsts").MS_PER_SEC}};e.exports=a}),null);
__d("LiveVideoBroadcastHealthUtils",["fbt","LiveVideoBroadcastConstants","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LiveVideoBroadcastConstants").BROADCAST_STATE,i=b("LiveVideoBroadcastConstants").INPUT_SOURCE,j=b("intlNumUtils").formatNumberWithLimitedSigFig;a={formatBPS:function(a,b){__p&&__p();if(a>=1e6){var c=j(a/1e6,null,b);return g._("{bitrate} Mbps",[g._param("bitrate",c)])}if(a>=1e3){c=j(a/1e3,null,b);return g._("{bitrate} Kbps",[g._param("bitrate",c)])}c=j(a,null,b);return g._("{bitrate} bps",[g._param("bitrate",c)])},shouldShowHealthTray:function(a,b,c){return(a===h.LIVE||b&&a===h.PREVIEW)&&c!=null&&c!==i.CAMERA}};e.exports=a}),null);
__d("LiveVideoBroadcastInputStreamHealth.react",["cx","fbt","FDSSpinner.react","Grid.react","GridItem.react","LiveVideoBroadcastHealthUtils","React","RelayModern","Tooltip.react","nullthrows","LiveVideoBroadcastInputStreamHealth_health.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("LiveVideoBroadcastHealthUtils").formatBPS;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=function(a,c,d){return b("React").jsxs(b("GridItem.react"),{alignh:"left",children:[b("React").jsx("div",{className:"_6zb9",children:a}),b("React").jsx("div",{className:"_6zba",children:d!=null?b("React").jsx(b("Tooltip.react"),{position:"right",tooltip:d,children:c}):c})]})},l=3,m=h._("Video Resolution"),n=h._("Audio Format"),o=h._("Video Bitrate"),p=h._("Audio Bitrate"),q=h._("Video Framerate");c=function(a){a=a.health;a=a==null?void 0:a.stream_info;if(!a)return b("React").jsx(b("FDSSpinner.react"),{center:!0});var c=b("nullthrows")(a.video_width_px,"video width is null"),d=b("nullthrows")(a.video_height_px,"video height is null");return b("React").jsxs(b("Grid.react"),{alignh:"center",alignv:"middle",className:"_6zas",cols:3,fixed:!0,children:[k(m,c+"x"+d),k(o,j(b("nullthrows")(a.video_bitrate_bps,"video bitrate is null"),l)),k(q,Math.round(b("nullthrows")(a.framerate_per_sec,"framerate is null"))+" fps"),k(p,j(b("nullthrows")(a.audio_bitrate_bps,"audio bitrate is null"),l)),k(n,b("nullthrows")(a.audio_codec,"audio codec is null"))]})};e.exports=a(c,{health:i!==void 0?i:i=b("LiveVideoBroadcastInputStreamHealth_health.graphql")})}),null);
__d("LiveVideoBroadcastInputStreamHealthInfoContainer.react",["FDSSpinner.react","LiveVideoBroadcastInputStreamHealth.react","LiveVideoBroadcastStreamHealthConfig","React","RelayModern","clearInterval","setInterval","LiveVideoBroadcastInputStreamHealthInfoContainer_inputStreams.graphql","LiveVideoBroadcastInputStreamHealthInfoContainerRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=null;return b}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("setInterval")(function(){var b;a.props.relay.refetch({video_id:(b=a.props.inputStreams)==null?void 0:b.id},null,function(){},{force:!0})},b("LiveVideoBroadcastStreamHealthConfig").refetch_interval_ms)};d.componentWillUnmount=function(){this.$1&&b("clearInterval")(this.$1)};d.render=function(){var a;a=(a=this.props.inputStreams)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;return!a?b("React").jsx(b("FDSSpinner.react"),{center:!0}):b("React").jsx(b("LiveVideoBroadcastInputStreamHealth.react"),{health:a[this.props.selectedInputStreamIndex]})};return c}(b("React").PureComponent);e.exports=a(c,{inputStreams:g!==void 0?g:g=b("LiveVideoBroadcastInputStreamHealthInfoContainer_inputStreams.graphql")},h!==void 0?h:h=b("LiveVideoBroadcastInputStreamHealthInfoContainerRefetchQuery.graphql"))}),null);
__d("LiveVideoBroadcastMaxSupportedVideoFormatEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FORMAT_2160:"FORMAT_2160",FORMAT_1080:"FORMAT_1080",FORMAT_720:"FORMAT_720"})}),null);
__d("LiveVideoBroadcastPromoteInputStreamMutation",["RelayAPIConfig","RelayModern","uuid","LiveVideoBroadcastPromoteInputStreamMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastPromoteInputStreamMutation.graphql");function a(a,c,d){return h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:c.clientMutationID!=null?c.clientMutationID:b("uuid")(),broadcast_id:c.broadcastID,promote_host_num:c.hostNumberToPromote}},onCompleted:d==null?void 0:d.onSuccess,onError:d==null?void 0:d.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastStreamValidationIndicator.react",["ix","cx","FDSSpinner.react","Image.react","LiveVideoBroadcastConstants","React","asset"],(function(a,b,c,d,e,f,g,h){var i=b("LiveVideoBroadcastConstants").STREAM_VALIDATION_STATUS,j=g("412163"),k=g("413160");function a(a){return b("React").jsx("div",{className:"_7z82",children:function(){switch(a.status){case i.IN_PROGRESS:return b("React").jsx(b("FDSSpinner.react"),{});case i.FAILED:return b("React").jsx(b("Image.react"),{className:"_7z83",src:j});case i.SUCCESS:return b("React").jsx(b("Image.react"),{className:"_7z83",src:k});default:return null}}()})}e.exports=a}),null);
__d("LiveVideoBroadcastHealthTray.react",["ix","cx","fbt","errorCode","DateConsts","ErrorBoundary.react","FBLogger","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","Image.react","Layout.react","LayoutFillColumn.react","LiveVideoBroadcastActions","LiveVideoBroadcastAutoCaptionsEnabledSwitch.react","LiveVideoBroadcastConstants","LiveVideoBroadcastInputStreamHealthInfoContainer.react","LiveVideoBroadcastMaxSupportedVideoFormatEnum","LiveVideoBroadcastPromoteInputStreamMutation","LiveVideoBroadcastStreamValidationIndicator.react","React","RelayModern","Tooltip","XUIButton.react","asset","cxMargin","getJSEnumSafe","gkx","nullthrows","LiveVideoBroadcastHealthTray_videoMetadata.graphql"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("LiveVideoBroadcastPromoteInputStreamMutation").commit,m=(a=b("React")).useCallback,n=a.useEffect,o=a.useState;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var p=b("LiveVideoBroadcastConstants").STREAM_VALIDATION_STATUS,q=i._("2160p (4K)"),r=i._("1080p"),s=i._("720p"),t=i._("Stream 0"),u=i._("Broadcast Stream"),v=i._("Make this input stream the source for the broadcast. This is what viewers will see."),w=function(a){switch(a){case"FORMAT_2160":return q;case"FORMAT_1080":return r;case"FORMAT_720":return s;default:a,b("FBLogger")("live_video").mustfix("Invalid max supported resolution value",a,typeof a)}},x=function(a,c){if(c===!1)return i._("N\/A");a=(c=a)!=null?c:4*b("DateConsts").SEC_PER_HOUR;c=Math.floor(a/b("DateConsts").SEC_PER_HOUR);return i._({"*":"{hour} hours","_1":"1 hour"},[i._plural(c,"hour")])},y=function(a,b){var c;a&&(a==null?void 0:a.length)>0&&(a==null?void 0:(c=a[0])==null?void 0:c.error_type)!=null&&(a==null?void 0:(c=a[0])==null?void 0:c.error_type)!=="INFO"&&(a==null?void 0:(c=a[0])==null?void 0:c.error_message)!=="Passthrough validated successfully"&&b(!0)},z=function(a,b,c){__p&&__p();c===void 0&&(c=!1);if(!a||a.length<1){c&&b(p.SUCCESS);return}for(var c=a,a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(d>=c.length)break;e=c[d++]}else{d=c.next();if(d.done)break;e=d.value}e=e;if(e==null)continue;if(e.error_code===1969040){b(p.FAILED);break}if(e.error_code===0&&e.error_message==="Passthrough validated successfully"){b(p.SUCCESS);break}}},A=a.jsx(b("Image.react"),{src:g("650674")}),B=a.jsx(b("Image.react"),{src:g("893157")});d=function(a){__p&&__p();var c,d;a.accessToken;var e=a.apiVideoID,f=a.broadcastID;a.canEndLiveVideo;var g=a.isLive,h=a.isRedundantStreamMonitoringEnabled,j=a.selectedInputStreamIndex,k=a.showAutoCaptionsToggle;a.onEndLiveVideo;var p=a.onShowEventLog,q=a.relay,r=a.videoMetadata,s=a.streamValidationStatus,C=a.isPassThroughValidationEnabled;a=o(!1);var D=a[0],E=a[1];a=b("LiveVideoBroadcastActions").setSelectedInputStreamIndex;var F=b("LiveVideoBroadcastActions").setStreamValidationStatus,G=r==null?void 0:r.input_streams,H=G==null?void 0:G.count,I=null,J=null;if(G!=null&&H!=null&&H>0){var K;I=(K=G.nodes)==null?void 0:(K=K[j].errors)==null?void 0:K.count;K=(K=G.nodes)==null?void 0:(K=K[j])==null?void 0:(K=K.errors)==null?void 0:K.edges;K!=null&&(J=K.map(function(a){return a.node}).reverse())}n(function(){y(J,E),C&&z(J,F)},[J,C,F]);K=m(function(){E(!1),p()},[p]);var L=i._("Event Logs ({event_count})",[i._param("event_count",I)]),M=i._("Max Supported Resolution");c=w(b("nullthrows")(b("getJSEnumSafe")(b("LiveVideoBroadcastMaxSupportedVideoFormatEnum"),r==null?void 0:(c=r.live_stream_config)==null?void 0:c.max_supported_resolution),"max supported resolution is null"));var N=i._("Max Broadcast Length");d=x(r==null?void 0:(d=r.live_stream_config)==null?void 0:d.max_duration_sec,r==null?void 0:(d=r.live_stream_config)==null?void 0:d.has_length_limit);h=h&&H!=null&&H>0;var O=[];for(var P=0;P<b("nullthrows")(H,"number of input streams is null");P++){var Q="stream-"+P+"-option";O.push(b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:P,children:i._("Stream {stream_number}",[i._param("stream_number",P)])},Q))}Q=(G==null?void 0:G.nodes[j].is_stream_viewer_visible)===!0;P=o(!1);H=P[0];var R=P[1];G=m(function(){R(!0),l(b("nullthrows")(q.environment,"relay environment is null"),{broadcastID:b("nullthrows")(f,"broadcast id is null"),hostNumberToPromote:j},{onSuccess:function(){R(!1)},onFailure:function(a){R(!1)}})},[f,q,j]);return b("React").jsxs(b("Layout.react"),{className:"_6uve",children:[b("React").jsx(b("FlexLayout.react"),{className:"_6zaq"+(g?"":" _78pr")+(g?" _78ps":""),direction:"vertical",children:b("React").jsxs(b("FlexLayout.react"),{className:"_3-8x _3-95",direction:"vertical",children:[k?b("React").jsx("div",{className:"_3-95",children:b("React").jsx(b("LiveVideoBroadcastAutoCaptionsEnabledSwitch.react"),{liveStreamMetadata:r,videoID:e})}):null,h?b("React").jsxs(b("FlexLayout.react"),{className:"_3-95",children:[b("React").jsx(b("FDSDropdownSelector.react"),{buttonIcon:Q?A:B,buttonUse:"default",placeholder:t,value:j,onChange:a,children:O},"dropdown-selector"),b("gkx")("927763")?b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({className:"_7-of",disabled:Q||H,label:u,use:"default",onClick:G},b("Tooltip").propsFor(v)),"promotion-button"):null]}):null,I!=null&&I>0?b("React").jsx(b("XUIButton.react"),{className:"_6ycf"+(D?" _6-cg":""),label:L,use:"default",onClick:K}):null,b("React").jsxs(b("FlexLayout.react"),{direction:"vertical",children:[b("React").jsxs(b("FlexLayoutItem.react"),{className:"_3-95",children:[b("React").jsx(b("FDSText.react"),{weight:"bold",children:M})," ",b("React").jsx("span",{className:"_3-99",children:b("React").jsx(b("FDSText.react"),{children:c})})]}),b("React").jsxs(b("FlexLayoutItem.react"),{className:"_3-95",children:[b("React").jsx(b("FDSText.react"),{weight:"bold",children:N})," ",b("React").jsx("span",{className:"_3-99",children:b("React").jsx(b("FDSText.react"),{children:d})})]}),C&&s!=null&&b("React").jsxs(b("FlexLayoutItem.react"),{className:"_3-95",children:[b("React").jsx(b("FDSText.react"),{weight:"bold",children:i._("Stream Validation")})," ",b("React").jsx("span",{className:"_3-99",children:b("React").jsx(b("LiveVideoBroadcastStreamValidationIndicator.react"),{status:s})})]})]})]})}),b("React").jsx(b("LayoutFillColumn.react"),{className:"_2ph_ _21op",children:b("React").jsx(b("ErrorBoundary.react"),{project:"live_video_stream_health",children:b("React").jsx(b("LiveVideoBroadcastInputStreamHealthInfoContainer.react"),{inputStreams:r,selectedInputStreamIndex:j})})})]})};e.exports=c(d,{videoMetadata:k!==void 0?k:k=b("LiveVideoBroadcastHealthTray_videoMetadata.graphql")})}),null);
__d("LiveVideoBroadcastAPIHealthTrayContainer.react",["fbt","FDSSpinner.react","FDSText.react","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastHealthTray.react","LiveVideoBroadcastUIStore","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastAPIHealthTrayContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=g._("Error fetching stream health information.");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingStreamHealth();return b("React").jsx(b("FDSText.react"),{children:j})}return!a||!a.video?b("React").jsx(b("FDSSpinner.react"),{center:!0}):b("React").jsx(b("LiveVideoBroadcastHealthTray.react"),{accessToken:d.props.accessToken,apiVideoID:d.state.apiVideoID,broadcastID:d.props.broadcastID,canEndLiveVideo:d.props.canEndLiveVideo,isLive:d.props.isLive,isPassThroughValidationEnabled:d.state.isPassThroughValidationEnabled,isRedundantStreamMonitoringEnabled:d.state.isRedundantStreamMonitoringEnabled,selectedInputStreamIndex:d.state.selectedInputStreamIndex,showAutoCaptionsToggle:d.state.showAutoCaptionsToggle,streamValidationStatus:d.state.streamValidationStatus,videoMetadata:a.video,onEndLiveVideo:d.props.onEndLiveVideo,onShowEventLog:d.$1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastUIStore")]};c.calculateState=function(a){a=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject();var c=a.apiVideoID,d=a.selectedInputStreamIndex;a=a.streamValidationStatus;var e=b("LiveVideoBroadcastUIStore").getState().toObject();e=e.gks;var f=(e==null?void 0:e.www_live_video_redundant_stream_monitoring)===!0,g=(e==null?void 0:e.live_premium_cpu_pst_validation)===!0;e=(e==null?void 0:e.www_live_video_auto_captions_enabled_checkbox)===!0;return{apiVideoID:c,isRedundantStreamMonitoringEnabled:f,showAutoCaptionsToggle:e,selectedInputStreamIndex:d,streamValidationStatus:a,isPassThroughValidationEnabled:g}};var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastAPIActions").setShowEventLogDialog(!0)};d.render=function(){var a=this.state,c=a.apiVideoID,d=a.selectedInputStreamIndex;a=a.streamValidationStatus;return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:k,render:this.$2,variables:babelHelpers["extends"]({video_id:c,selectedInputStreamIndex:d,streamValidationStatus:a},this.props)})};return c}(b("React").Component);var k=h!==void 0?h:h=b("LiveVideoBroadcastAPIHealthTrayContainerQuery.graphql");e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastAPIGoLiveButton.react",["ix","cx","fbt","AsyncRequest","FBConfirmDialog.react","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastAPIActions","LiveVideoBroadcastConstants","LiveVideoBroadcastCopyrightUtils","LiveVideoBroadcastStatusUpdateSubscriptionHack","LiveVideoBroadcastUIStore","LiveVideoCrosspostingConfig","React","ReactComposerStatusStore","ReactDOM","ScheduleLiveVideoDialog.react","SimpleXUIDialog","Tooltip","VideoBroadcastFlowTypes","VideoBroadcastStatus","XLiveVideoCheckIsPublishedController","XUIButton.react","XUIText.react","asset","cxMargin","expectationViolation","fbglyph","gkx","isStringNullOrEmpty","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoCrosspostingConfig").maxCrossposts;b("VideoBroadcastFlowTypes").BroadcastPlaybackMode;var k=(a=b("LiveVideoBroadcastConstants")).BROADCAST_STATE,l=a.INPUT_SOURCE,m=a.ENCODER_TYPE,n=a.STREAM_VALIDATION_STATUS,o=2e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showManualModeConfirmDialog:!1,showRequiredTitleDialog:!1},d.$8=function(){return d.props.inputSource===l.EDIT_SCHEDULE&&!d.props.isScheduledManualMode},d.$20=function(a,c,e,f,g,h,i){__p&&__p();var j=function(){if(!d.props.actorID){b("expectationViolation")("cannot start broadcast without an actorID");return}b("LiveVideoBroadcastActions").scheduledLiveRequest(d.props.actorID||"",d.props.apiBroadcastID,a,c,e,f,g,h,!1,i)},k={video_broadcast_status:b("VideoBroadcastStatus").SCHEDULED_PREVIEW,is_continuous:d.props.isContinuous,is_embeddable:d.props.isEmbeddable,should_expire_after_live:d.props.shouldExpireAfterGoLive,should_show_graphic_content_warning:d.props.shouldShowGraphicContentWarning,is_rewind_enabled:d.props.isRewindEnabled,live_comment_moderation_setting:d.props.commentModes,crosspost_page_ids:d.props.crosspostingConfig.filter(function(a){return a.allow&&a.type==="page"}).map(function(a){return a.id}),share_with_owning_business:d.props.shareWithOwningBusiness,is_commentating_disabled:d.props.isCommentatingDisabled,is_isr_enabled:d.props.isIsrEnabled,broadcast_playback_mode:d.props.broadcastPlaybackMode,announcement_post_message:i,planned_start_time:a};d.props.enableEventTicketPromotion!=null&&(k=babelHelpers["extends"]({},k,{enable_event_ticket_promotion:d.props.enableEventTicketPromotion}));d.props.episodeData&&(k=babelHelpers["extends"]({},k,{is_episode:d.props.episodeData.isEpisode,season_id:d.props.episodeData.seasonID,series_id:d.props.episodeData.seriesID,playlist_ids:d.props.episodeData.playlistIDs}));d.props.canEnableLiveCoverVideo&&(k=babelHelpers["extends"]({},k,{is_page_live_cover_video_enabled:d.props.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));b("LiveVideoBroadcastActions").prepareBroadcastForScheduledLive();b("LiveVideoBroadcastAfterBootloadUtils").updateBroadcastRequest(d.props.accessToken,d.props.actorID,d.props.apiVideoID,d.props.apiBroadcastID,d.props.composerConfig,d.props.copyrightData,d.props.targetID,d.props.isCopyrighted,d.props.metadataConfig,k,j,function(a,c){b("LiveVideoBroadcastActions").scheduledLiveFail(c&&c.$21)})},d.$4=function(){var a=b("ReactComposerStatusStore").getEditorState(d.props.composerConfig.contextConfig.composerID);a=a?a.getCurrentContent().getPlainText():"";var c=b("ReactComposerStatusStore").getMentionsSource(d.props.composerConfig.contextConfig.composerID),e=d.props.scheduleStartTime?new Date(d.props.scheduleStartTime*1e3):void 0;a=b("React").jsx(b("ScheduleLiveVideoDialog.react"),{actorID:d.props.actorID,broadcastID:d.props.apiBroadcastID,canAddAnnouncementPostMessage:d.props.canAddAnnouncementPostMessage,canAddLiveAnnouncementThumbnail:d.props.isShowPage&&d.props.episodeData&&d.props.episodeData.isEpisode,description:a,initialPublishDate:e,isPageTarget:d.props.shareMode==="page",mentionsSource:c,previewTitle:d.props.previewTitle,targetID:d.props.targetID,timezoneStr:d.props.timezoneString?d.props.timezoneString:"",onSubmit:d.$20});a=b("ReactDOM").render(a,b("ReactDOM").findDOMNode(d.refs.scheduleDialogPlaceholder));a.show instanceof Function&&a.show()},d.$6=function(){d.setState({showManualModeConfirmDialog:!1})},d.$7=function(){d.setState({showManualModeConfirmDialog:!1});if(!d.props.actorID){b("expectationViolation")("cannot update broadcast without an actorID");return}b("LiveVideoBroadcastActions").scheduledLiveRequest(d.props.actorID,d.props.apiBroadcastID,null,null,null,null,null,null,!0)},d.$23=function(){d.setState({showRequiredTitleDialog:!1})},d.$24=function(){d.$23(),d.$13()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){if(this.$2()||!this.props.showScheduleButton)return null;var a=this.props.inputSource===l.EDIT_SCHEDULE?i._("Edit Schedule"):i._("Schedule");return b("React").jsx(b("XUIButton.react"),{className:"_227w"+(this.props.showGoLiveButton?" _273n":"")+(this.props.showGoLiveButton?"":" _66d8"),disabled:this.$3(),image:b("React").jsx(b("Image.react"),{src:g("113033")}),label:a,use:"default",onClick:this.$4})};d.$5=function(){if(!this.state.showManualModeConfirmDialog)return null;var a=i._("Manually Start This Live Video?"),c=b("React").jsxs("div",{className:"_3-8w _3-96",children:[b("React").jsx(b("XUIText.react"),{className:"_3-96",display:"block",children:i._("You can decide when you want to publish this broadcast manually. This action can't be undone and you won't be able to schedule this live video again.")}),b("React").jsx(b("XUIText.react"),{className:"_3-96",display:"block",children:i._("To start your live video manually, click \"OK\" here then use the \"Go Live\" button")})]});return b("React").jsx(b("FBConfirmDialog.react"),{cancelButtonText:i._("Cancel"),confirmButtonText:i._("OK"),content:c,shown:!0,title:a,onCancel:this.$6,onConfirm:this.$7})};d.$9=function(){var a=this.$8();if(this.props.isRehearsal&&!a)return i._("Start Test");return a?i._("Manual Start"):i._("Go Live")};d.render=function(){var a=this,c=this.$8(),d=this.props.additionalButton==null,e=d?b("React").jsx(b("Image.react"),{src:g("570643")}):b("React").jsx(b("Image.react"),{src:g("483315")}),f=function(){if(a.props.isPassThroughValidationEnabled&&a.props.streamValidationStatus!==n.SUCCESS)return a.$10();var d=b("gkx")("678845")&&b("isStringNullOrEmpty")(a.props.previewTitle);return c?a.$11():d?a.$12():a.$13()},h=c?void 0:b("Tooltip").propsFor(i._("Check that your stream is connected and all required information is provided before going live.")),j=c?this.$14():this.$15();return b("React").jsxs("div",{children:[b("React").jsx("div",{ref:"scheduleDialogPlaceholder"}),this.$5(),this.$16(),b("React").jsxs("div",{className:this.props.showGoLiveButton?"_eg3":"",children:[this.$1(),this.props.showGoLiveButton?b("React").jsx("span",babelHelpers["extends"]({},h,{children:b("React").jsx(b("XUIButton.react"),{className:"_227w _273n _3-9a","data-testid":"go_live_button",disabled:j,image:e,label:this.$9(),use:d?"confirm":void 0,onClick:f})})):null,this.props.additionalButton]})]})};d.$14=function(){return!this.props.apiBroadcastID||!this.props.actorID||this.props.isScheduledLiveRequestPending};d.$15=function(){return!this.props.apiLivePreviewPlaying||!this.props.apiBroadcastID||!this.props.actorID||this.props.isScheduledLiveRequestPending||this.$17()||this.$18()||this.$19()||this.props.isUpdateRequestPending||this.props.crosspostingConfig.reduce(function(a,b){return b.allow?a+1:a},0)>j};d.$3=function(){return!this.props.apiBroadcastID||!this.props.actorID||this.props.isScheduledLiveRequestPending||this.$17()||this.$18()||this.props.isUpdateRequestPending};d.$17=function(){return this.props.isShowPage&&(!this.props.metadataConfig.videoTitle||!this.props.episodeData||this.props.episodeData.isEpisode==null)};d.$19=function(){return!1};d.$18=function(){return this.props.isCopyrighted&&!this.props.copyrightData.selectedCategory};d.$11=function(){this.setState({showManualModeConfirmDialog:!0})};d.$13=function(){__p&&__p();var a=this;b("LiveVideoBroadcastAPIActions").apiGoLiveClicked();b("LiveVideoBroadcastStatusUpdateSubscriptionHack").subscribe(this.props.apiVideoID,function(a){a=a.live_video_broadcast_status_update_subscribe;a=a.video_broadcast_status;a===b("VideoBroadcastStatus").LIVE_STOPPED&&b("LiveVideoBroadcastAPIActions").apiBroadcastStopped()});b("LiveVideoBroadcastCopyrightUtils").subscribeToCopyrightEvents(this.props.apiBroadcastID);var c;b("gkx")("678846")?c=this.props.isScheduledManualMode?b("VideoBroadcastStatus").SCHEDULED_LIVE:b("VideoBroadcastStatus").PRE_LIVE:c=b("VideoBroadcastStatus").LIVE;c={attribution_app_id:this.props.attributionAppID||null,video_broadcast_status:c,is_continuous:this.props.isContinuous,is_embeddable:this.props.isEmbeddable,should_expire_after_live:this.props.shouldExpireAfterGoLive,should_show_graphic_content_warning:this.props.shouldShowGraphicContentWarning,is_rewind_enabled:this.props.isRewindEnabled,crosspost_page_ids:this.props.crosspostingConfig.filter(function(a){return a.allow&&a.type==="page"}).map(function(a){return a.id}),share_with_owning_business:this.props.shareWithOwningBusiness,live_comment_moderation_setting:this.props.commentModes,is_commentating_disabled:this.props.isCommentatingDisabled,is_isr_enabled:this.props.isIsrEnabled,broadcast_playback_mode:this.props.broadcastPlaybackMode};this.props.enableEventTicketPromotion!=null&&(c=babelHelpers["extends"]({},c,{enable_event_ticket_promotion:this.props.enableEventTicketPromotion}));this.props.episodeData&&(c=babelHelpers["extends"]({},c,{is_episode:this.props.episodeData.isEpisode,season_id:this.props.episodeData.seasonID,series_id:this.props.episodeData.seriesID,playlist_ids:this.props.episodeData.playlistIDs}));this.props.canEnableLiveCoverVideo&&(c=babelHelpers["extends"]({},c,{is_page_live_cover_video_enabled:this.props.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));b("LiveVideoBroadcastAfterBootloadUtils").updateBroadcastRequest(this.props.accessToken,this.props.actorID,this.props.apiVideoID,this.props.apiBroadcastID,this.props.composerConfig,this.props.copyrightData,this.props.targetID,this.props.isCopyrighted,this.props.metadataConfig,c,function(){if(a.props.selectedEncoderType===m.PAIRED_ENCODER)b("setTimeout")(function(){return a.$22()},1e3);else{var c;b("LiveVideoBroadcastActions").startLiveBroadcastSuccess();((c=a.props.composerConfig.contextConfig)==null?void 0:c.composerType)==="games_video_streamer_dashboard"&&b("LiveVideoBroadcastActions").cleanup()}},function(){return b("LiveVideoBroadcastAPIActions").errorStartingAPIBroadcast("update endpoint")})};d.$12=function(){this.setState({showRequiredTitleDialog:!0})};d.$16=function(){var a,c=i._("Add a Title"),d=i._("Go Live Anyway");return(a=b("React")).jsx(b("FDSModal.react"),{footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{label:c,use:"primary",onClick:this.$23}),secondaryButton:a.jsx(b("FDSButton.react"),{label:d,use:"default",onClick:this.$24})}),header:a.jsx(b("FDSModalHeader.react"),{title:c}),isShown:this.state.showRequiredTitleDialog,label:c,width:300,onHide:this.$23,children:a.jsx(b("FDSSection.react"),{children:a.jsx(b("FDSText.react"),{size:"body1",children:i._("Reach more people by adding a title to your live video.")})})})};d.$10=function(){var a=this,c=this.props.streamValidationStatus,d=function(b){return b?a.$8()?a.$11():a.$13():null},e="";switch(c){case n.IN_PROGRESS:e=i._("Stream validation in progress. Wait until validation is complete or go live with 720p.");break;case n.FAILED:e=i._("Stream validation failed, please check Event Logs. You will be restricted to 720p if you go live.");break;default:break}b("SimpleXUIDialog").showConfirm(e,i._("Stream Validation Warning"),d,{confirmBtnTxt:i._("Go Live Anyway")})};d.$2=function(){return this.props.composerConfig.contextConfig&&this.props.composerConfig.contextConfig.composerType==="social_plugin"};d.$22=function(){__p&&__p();var a=this,c=this.props.apiBroadcastID;c=b("XLiveVideoCheckIsPublishedController").getURIBuilder().setFBID("broadcast_id",c).setBool("end_if_unpublished",!1).getURI();var d=function(c){var d=b("LiveVideoBroadcastUIStore").getState().toObject();d=d.broadcastState;if(d===k.FINISHED)return;d=c.payload;d.is_published?(b("LiveVideoBroadcastActions").setStartTime(Date.now()),b("LiveVideoBroadcastActions").startLiveBroadcastSuccess()):b("setTimeout")(function(){a.$22()},o)};new(b("AsyncRequest"))().setURI(c).setHandler(function(a){return d(a)}).send()};return c}(b("React").Component);e.exports=c}),null);
__d("XLiveVideoBroadcastRefreshCrosspostingSettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/broadcast/refresh_crossposting_settings/",{broadcast_id:{type:"Int"},selected_ids:{type:"FBIDVector"}})}),null);
__d("LiveVideoBroadcastCrosspostStore",["ActorURI","AsyncRequest","FluxMapStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","XLiveVideoBroadcastRefreshCrosspostingSettingsController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({crosspostingConfig:b("immutable").OrderedMap(),initialCrosspostingConfig:b("immutable").OrderedMap(),shouldShowCrosspostingNux:!1})};d.reduce=function(a,c){__p&&__p();switch(c.type){case g.UPDATE_UI_CONFIG:var d=c.values,e=d.canEditShowAndParent;d=d.shouldShowCrosspostingNux;var f=c.values.crosspostingConfig;if(f!==void 0){var h=b("immutable").OrderedMap().withMutations(function(a){f.forEach(function(c){return a.set(c.id,b("immutable").Map(c))})});h=this.$LiveVideoBroadcastCrosspostStore1(h);a=a.set("canEditShowAndParent",e);a=a.set("crosspostingConfig",h);a=a.set("initialCrosspostingConfig",h);d!=void 0&&(a=a.set("shouldShowCrosspostingNux",d))}break;case g.SET_SHOULD_CROSSPOST_TO_PAGE:var i=c.pageId,j=c.shouldCrosspost;a=a.update("crosspostingConfig",function(a){return a.update(i,function(a){return a.set("allow",j)})});break;case g.SET_SHOULD_CROSSPOST_TO_ALL_PAGES:var k=c.shouldCrosspost;a=a.update("crosspostingConfig",function(a){return a.map(function(a){return a.set("allow",k)})});break;case g.RESORT_CROSSPOST_CONFIGS:a=a.update("crosspostingConfig",this.$LiveVideoBroadcastCrosspostStore1);break;case g.START_BROADCAST_SUCCESS:e=this.get("crosspostingConfig");if(!e)break;h=Array.from(e.filter(function(a){return a.get("allow",!1)}).keys());a=a.set("crosspostingConfig",b("immutable").OrderedMap());new(b("AsyncRequest"))().setURI(b("ActorURI").create(b("XLiveVideoBroadcastRefreshCrosspostingSettingsController").getURIBuilder().setInt("broadcast_id",b("LiveVideoBroadcastBroadcastStore").get("broadcastId")).setFBIDVector("selected_ids",h).getURI(),b("LiveVideoBroadcastBroadcastStore").get("actorID")||"")).send();break}return a};d.$LiveVideoBroadcastCrosspostStore1=function(a){__p&&__p();return a.sort(function(a,b){__p&&__p();var c=a.get("type")==="business",d=b.get("type")==="business";if(c===d){d=a.get("allow",!1);a=b.get("allow",!1);if(d===a)return 0;else if(d)return-1;else return 1}else if(c)return-1;else return 1})};d.convertCrosspostingConfig=function(a){return Array.from(a.map(function(a){return{id:a.get("id",""),name:a.get("name",""),allow:a.get("allow",!1),type:a.get("type",""),profile_pic_uri:a.get("profile_pic_uri",null),can_create_post:a.get("can_create_post",!1)}}).values())};d.shouldShareWithOwningBusiness=function(){var a=this.get("crosspostingConfig");return a==null?!1:a.some(function(a){return a.get("allow",!1)&&a.get("type")==="business"})};d.getSelectedCrosspostPagesCount=function(){var a=this.get("crosspostingConfig");return a==null?0:a.count(function(a){return a.get("allow",!1)})};d.hasRemovedCrosspostPages=function(){var a=this.get("initialCrosspostingConfig"),c=this.get("crosspostingConfig");if(a===c)return!1;else if(a==null)return!1;else if(c==null)return!0;return a.some(function(a,d){return a.get("allow")===!0&&c.get(d,b("immutable").Map()).get("allow")===!1})};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastMetadataInputStore",["FluxMapStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({contentTags:[],fundraiserGoal:null,language:null,videoTitle:null,selectedGame:null,selectedGroups:b("immutable").List(),thumbnailUpload:null,videoTJApp:null})};d.reduce=function(a,c){__p&&__p();switch(c.type){case g.SET_INPUT_SOURCE:break;case g.SET_CONTENT_TAGS:a=a.set("contentTags",c.value);break;case g.SET_VIDEO_TITLE:a=a.set("videoTitle",c.value);break;case g.SET_GAME:a=a.set("selectedGame",c.value);break;case g.SET_LANGUAGE:a=a.set("language",c.value);break;case g.SET_VIDEO_TJ_APP:a=a.set("videoTJApp",c.value);break;case g.SET_GROUPS:a=a.set("selectedGroups",c.value);break;case g.SET_FUNDRAISER_GOAL:a=a.set("fundraiserGoal",c.value);break;case g.SET_THUMBNAIL_UPLOAD:a=a.set("thumbnailUpload",c.value);break;case g.CLEANUP:a=a.set("contentTags",[]);a=a.set("videoTitle",null);a=a.set("selectedGame",null);a=a.set("selectedGroups",b("immutable").List());a=a.set("videoTJApp",null);a=a.set("fundraiserGoal",null);a=a.set("language",null);a=a.set("thumbnailUpload",null);break;case g.UPDATE_METADATA_CONFIG:a=a.set("contentTags",c.config.contentTags);a=a.set("videoTitle",c.config.videoTitle);a=a.set("selectedGame",c.config.selectedGame);a=a.set("selectedGroups",c.config.selectedGroups);a=a.set("videoTJApp",c.config.videoTJApp);a=a.set("fundraiserGoal",c.config.fundraiserGoal);a=a.set("language",c.config.language);a=a.set("thumbnailUpload",c.config.thumbnailUpload);break;case g.SET_TARGET:a=a.set("selectedGroups",b("immutable").List());break;case g.UPDATE_UI_CONFIG:c.values.previousGame&&(a=a.set("selectedGame",c.values.previousGame));c.values.previousLanguage&&(a=a.set("language",c.values.previousLanguage));break}return a};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastAPIGoLiveButtonContainer.react",["FluxContainer","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIGoLiveButton.react","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastUIStore","React","VideoBroadcastFlowTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("VideoBroadcastFlowTypes").BroadcastPlaybackMode;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastCrosspostStore")]};c.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.canEnableLiveCoverVideo,e=a.commentModes,f=a.composerConfig,g=a.episodeData,h=a.gks,i=a.inputSource,j=a.selectedEncoderType,k=a.isCommentatingDisabled,l=a.isIsrEnabled,m=a.broadcastPlaybackMode,n=a.isLiveCoverVideoEnabled,o=a.isRewindEnabled,p=a.isScheduledLiveRequestPending,q=a.isShowPage,r=a.shareMode,s=a.timezoneString;a=a.enableEventTicketPromotion;var t=b("LiveVideoBroadcastCrosspostStore").getState().toObject();t=t.crosspostingConfig;var u=b("LiveVideoBroadcastCrosspostStore").shouldShareWithOwningBusiness(),v=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),w=b("LiveVideoBroadcastMetadataInputStore").getState().toObject();w=w.videoTitle;var x=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),y=x.apiBroadcastID,z=x.apiLivePreviewPlaying,A=x.apiVideoID,B=x.areCountriesIncluded,C=x.attributionAppID,D=x.copyrightMonitoringType,E=x.copyrightRuleID,F=x.copyrightWhitelistedFBUsers,G=x.copyrightWhitelistedIGUserNames,H=x.isCopyrighted,I=x.isContinuous,J=x.isEmbeddable,K=x.isRehearsal,L=x.isScheduledManualMode,M=x.isUpdateRequestPending,N=x.ownershipCountries,O=x.scheduleStartTime,P=x.selectedCategory,Q=x.shouldExpireAfterGoLive,R=x.shouldShowGraphicContentWarning;x=x.streamValidationStatus;var S=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),T=S.actorID;S=S.targetID;D={copyrightMonitoringType:D,copyrightRuleID:E,copyrightWhitelistedFBUsers:F,copyrightWhitelistedIGUserNames:G,areCopyrightCountriesIncluded:B,copyrightOwnershipCountries:N,selectedCategory:P};E=(h==null?void 0:h.live_premium_cpu_pst_validation)===!0;return{accessToken:c,actorID:T,attributionAppID:C,canEnableLiveCoverVideo:d,commentModes:e,composerConfig:f,copyrightData:D,crosspostingConfig:t,apiBroadcastID:y,apiLivePreviewPlaying:z,apiVideoID:A,episodeData:g,isEmbeddable:J,metadataConfig:v,previewTitle:w,inputSource:i,selectedEncoderType:j,isCommentatingDisabled:k,isIsrEnabled:l,broadcastPlaybackMode:m,isCopyrighted:H,isLiveCoverVideoEnabled:n,isRewindEnabled:o,isScheduledManualMode:L,isScheduledLiveRequestPending:p,scheduleStartTime:O,shareMode:r,shareWithOwningBusiness:u,shouldExpireAfterGoLive:Q,shouldShowGraphicContentWarning:R,isContinuous:I,isRehearsal:K,isShowPage:q,isUpdateRequestPending:M,targetID:S,timezoneString:s,streamValidationStatus:x,isPassThroughValidationEnabled:E,enableEventTicketPromotion:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoBroadcastAPIGoLiveButton.react"),{accessToken:this.state.accessToken,actorID:this.state.actorID,additionalButton:this.props.additionalButton,apiBroadcastID:this.state.apiBroadcastID,apiLivePreviewPlaying:this.state.apiLivePreviewPlaying,apiVideoID:this.state.apiVideoID,attributionAppID:this.state.attributionAppID,broadcastPlaybackMode:this.state.broadcastPlaybackMode,canAddAnnouncementPostMessage:this.props.canAddAnnouncementPostMessage,canEnableLiveCoverVideo:this.state.canEnableLiveCoverVideo,commentModes:this.state.commentModes,composerConfig:this.state.composerConfig,copyrightData:this.state.copyrightData,crosspostingConfig:b("LiveVideoBroadcastCrosspostStore").convertCrosspostingConfig(this.state.crosspostingConfig),enableEventTicketPromotion:this.state.enableEventTicketPromotion,episodeData:this.state.episodeData,inputSource:this.state.inputSource,isCommentatingDisabled:this.state.isCommentatingDisabled,isIsrEnabled:this.state.isIsrEnabled,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable,isLiveCoverVideoEnabled:this.state.isLiveCoverVideoEnabled,isPassThroughValidationEnabled:this.state.isPassThroughValidationEnabled,isRehearsal:this.state.isRehearsal,isRewindEnabled:this.state.isRewindEnabled,isScheduledLiveRequestPending:this.state.isScheduledLiveRequestPending,isScheduledManualMode:this.state.isScheduledManualMode,isShowPage:this.state.isShowPage,isUpdateRequestPending:this.state.isUpdateRequestPending,metadataConfig:this.state.metadataConfig,previewTitle:this.state.previewTitle,scheduleStartTime:this.state.scheduleStartTime,selectedEncoderType:this.state.selectedEncoderType,shareMode:this.state.shareMode,shareWithOwningBusiness:this.state.shareWithOwningBusiness,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,showGoLiveButton:this.props.showGoLiveButton,showScheduleButton:this.props.showScheduleButton,streamValidationStatus:this.state.streamValidationStatus,targetID:this.state.targetID,timezoneString:this.state.timezoneString})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastVolumeMeter.react",["cx","fbt","React","RTCSettingsAudioInputPreview.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("No microphone"),c=this.props.className?this.props.className:"_10e4",d=this.props.fillStyle?this.props.fillStyle:"rgb(198, 217, 255)",e=this.props.height?this.props.height:48,f=this.props.width?this.props.width:200;return b("React").jsx("div",{className:"_10e2",children:b("React").jsx(b("RTCSettingsAudioInputPreview.react"),{className:c,fillStyle:d,gain:4.5,height:e,mediaStream:this.props.mediaStream,noMicMessage:a,width:f})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastVolumeMeterContainer.react",["FluxContainer","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastDispatcher","LiveVideoBroadcastVolumeMeter.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;b("LiveVideoBroadcastDispatcher").explicitlyRegisterStores([b("LiveVideoBroadcastBroadcastStore")]);c.state={mediaStream:null};return c}c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastBroadcastStore").getState().toObject();a=a.mediaStream;return{mediaStream:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoBroadcastVolumeMeter.react"),{className:this.props.className,fillStyle:this.props.fillStyle,height:this.props.height,mediaStream:this.state.mediaStream,width:this.props.width})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastCameraSettings.react",["ix","cssVar","cx","fbt","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastVolumeMeterContainer.react","React","RTCSettingsMediaDeviceSelector.react","SUINotice.react","XUIButton.react","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.$2(c.props.selectedVideoInputSource==="CAMERA"?"SCREEN":"CAMERA",c.props.audioInput,c.props.videoInput)},c.$3=function(a){c.$2(c.props.selectedVideoInputSource,c.props.audioInput,a)},c.$4=function(a){c.$2(c.props.selectedVideoInputSource,a,c.props.videoInput)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a,c,d){switch(a){case"SCREEN":b("LiveVideoBroadcastActions").getScreenStreamUrlRequest({audioInput:c});break;case"CAMERA":b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest({audioInput:c,videoInput:d});break}};d.render=function(){return b("React").jsxs("div",{className:"_60n3",children:[this.$5(),this.$6(),this.$7()]})};d.$8=function(){return!!(this.props.videoInputs&&this.props.videoInputs.length>0&&this.props.videoInput)};d.$5=function(){return this.$8()?null:b("React").jsx(b("SUINotice.react"),{margin:"_3-91 _3-94",type:"information",children:j._("Refresh window to see available cameras")})};d.$6=function(){__p&&__p();var a=this.props,c=a.showScreenSharingOption;a=a.selectedVideoInputSource;var d="_60n1",e=b("React").jsx("div",{className:d,children:b("React").jsx(b("Image.react"),{src:g("122523")})}),f=this.$8()&&this.props.videoInputs?b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:this.props.videoInputs,disabled:c&&a==="SCREEN",onChange:this.$3,value:this.props.videoInput,width:160}):null;e=b("React").jsxs("div",{className:"_60n4",children:[e,f]});f=e;e=null;if(c){e=(c=b("React")).jsxs("div",{className:"_60n4",children:[c.jsx("div",{className:d,children:c.jsx(b("Image.react"),{src:g("122802")})}),c.jsx(b("XUIButton.react"),{className:a==="SCREEN"?"_1tqv":"",label:a==="CAMERA"?"Share Screen":"Stop Sharing",size:"large",onClick:this.$1})]})}return b("React").jsxs("div",{children:[f,e]})};d.$7=function(){var a=b("React").jsx("div",{className:"_60n2",children:b("React").jsx(b("Image.react"),{src:g("123250")})}),c=this.props.audioInputs&&this.props.audioInputs.length>0?b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:this.props.audioInputs,onChange:this.$4,value:this.props.audioInput,width:160}):null,d=b("React").jsx("div",{className:"_60m_",children:b("React").jsx(b("LiveVideoBroadcastVolumeMeterContainer.react"),{className:"_60n0",fillStyle:"#4080ff",height:28,width:82})});return b("React").jsx("div",{children:b("React").jsxs("div",{className:"_60n5",children:[b("React").jsxs("div",{className:"_60n6",children:[a,c]}),d]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastCameraSettingsContainer.react",["FluxContainer","LiveVideoBroadcastCameraSettings.react","React","RTCAppDispatcher","RTCMediaDevicesStore","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state=c.calculateState(),b)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")])};c.getStores=function(){return[b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};c.calculateState=function(a){a===void 0&&({});a=b("RTCMediaDevicesStore").getState();if(a==null)return{audioInput:null,audioInputs:[],videoInput:null,videoInputs:[]};var c=b("RTCUserSettingsStore").getState(),d=c.audioInput;c=c.videoInput;return{audioInput:d,audioInputs:a.filter(function(a){return a.kind==="audioinput"}),videoInput:c,videoInputs:a.filter(function(a){return a.kind==="videoinput"})}};d.render=function(){return b("React").jsx(b("LiveVideoBroadcastCameraSettings.react"),babelHelpers["extends"]({selectedVideoInputSource:this.props.selectedVideoInputSource,showScreenSharingOption:this.props.showScreenSharingOption},this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastPageLiveCoverVideoToggleButton.react",["cx","fbt","FBToggleSwitch.react","LiveVideoBroadcastActions","React","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("LiveVideoBroadcastActions").setLiveCoverVideoEnabled(a)};d.render=function(){return b("React").jsxs("span",{className:"_kcn",children:[b("React").jsx(b("FBToggleSwitch.react"),{animate:!0,checked:this.props.isLiveCoverVideoEnabled,onToggle:this.$1}),b("React").jsx(b("XUIText.react"),{className:"_3-9a",weight:"bold",children:h._("Enable live cover video")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastComposer.react",["ix","cx","fbt","BasicTypeaheadLoggerJSConstants","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","ExternalWebShareDialogAudienceHeader.react","FBLoadShimmer.react","FBToggleSwitch.react","Image.react","Layout.react","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAudienceSelectorContainer.react","ReactComposerBody.react","ReactComposerBreakingNewsButtonContainer.react","ReactComposerBreakingNewsContainer.react","ReactComposerFundraiserAttachmentContainer.react","ReactComposerGroupsJoinCTATaggerButton.react","ReactComposerGroupsJoinCTATaggerContainer.react","ReactComposerJoinGroupCTAAttachmentContainer","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerPagesPrivacyContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerProfilePhoto.react","ReactComposerSponsorTaggerButton.react","ReactComposerSponsorTaggerContainer.react","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTargetingTaggerButton.react","ReactComposerTargetingTaggerContainer.react","LeftRight.react","LiveVideoBroadcastPageLiveCoverVideoToggleButton.react","React","ShareDialogAudienceTypes","Tooltip.react","XUICardSection.react","LiveVideoBroadcastShareSurfaceContainer.react","asset","emptyFunction","fbglyph","LiveVideoBroadcastConstants"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("BasicTypeaheadLoggerJSConstants").EventNames,k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=b("LiveVideoBroadcastConstants").BROADCAST_STATE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return this.props.config.taggersConfig.PEOPLE&&this.props.config.taggersConfig.PEOPLE.enabled&&this.props.shareMode!==b("ShareDialogAudienceTypes").PAGE};d.$2=function(){return this.props.config.taggersConfig.TARGETING&&this.props.config.taggersConfig.TARGETING.enabled};d.$3=function(){return this.props.shareMode===b("ShareDialogAudienceTypes").PAGE&&this.props.showJoinGroupCTA!==void 0&&this.props.showJoinGroupCTA!==null&&this.props.showJoinGroupCTA};d.$4=function(){if(!this.props.enableTaggers)return null;var a=b("React").jsx(b("ReactComposerActivityTaggerButton.react"),{}),c=this.$1()?b("React").jsx(b("ReactComposerPeopleTaggerButton.react"),{isMultiCompanyGroup:!1}):null,d=b("React").jsx(b("ReactComposerLocationTaggerButton.react"),{}),e=this.$3()?b("React").jsx(b("ReactComposerGroupsJoinCTATaggerButton.react"),{}):null,f=this.props.config.taggersConfig.TARGETING;f=this.props.targetingEnabled?b("React").jsx(b("ReactComposerTargetingTaggerButton.react"),{accessToken:this.props.contextConfig.accessToken,allowExclusionsWithoutInclusions:!0,appID:this.props.contextConfig.appID,createLiveVideoTooltipText:i._("Restrict who can see this video"),enableLanguageGating:f&&f.enableLanguageGating||!1,enableLocationExclusionGating:f&&f.enableLocationExclusionGating||!1,hideFeedTargeting:!0,hideGating:f?f.gatingKillswitch:!1,isLiveVideo:!0,showWoodhengeGating:f==null?!1:f.showWoodhengeGating,woodhengeTiers:f==null?[]:f.woodhengeTiers}):null;var g=this.props.sponsorEnabled?b("React").jsx(b("ReactComposerSponsorTaggerButton.react"),{}):null,h=this.props.showBreakingNews?b("React").jsx(b("ReactComposerBreakingNewsButtonContainer.react"),{breakingTaggerConfig:this.props.config.taggersConfig[b("ReactComposerTaggerType").BREAKING_NEWS]}):null,j=this.props.fundraiserEnabled?b("React").jsx(b("BootloadedReactComposerFundraiserTaggerButton.react"),{source:"composer",taggersConfig:this.props.config.taggersConfig}):null;return b("React").jsxs(b("ReactComposerTaggerButtons.react"),{children:[c,a,d,f,g,h,j,e]})};d.$5=function(){return!this.props.showLiveChallengeSelector?null:b("React").jsxs("div",{className:"_p5q _2xsx",children:[b("React").jsxs("div",{className:"_2xsy",children:[i._("Go Live with Inspiration"),b("React").jsx(b("Tooltip.react"),{className:"_2xt0",tooltip:i._("Live inspirations provide weekly topics to broadcast about. Use these topics as inspiration to create a short Live video detailing your experiences."),children:b("React").jsx(b("Image.react"),{src:g("394873")})}),b("React").jsx("span",{className:"_2xt1",children:b("React").jsx(b("FBToggleSwitch.react"),{animate:!0})})]}),b("React").jsx("div",{className:"_2xt5",children:i._("This weeks inspiration: What is your favorite dance move?")})]})};d.render=function(){__p&&__p();var a=null,c=null,d=this.props.shareMode==="event"?this.props.targetID:void 0,e=this.props.shareMode==="group"?this.props.targetID:void 0,f=this.props.shareMode==="fundraiser"?this.props.targetID:void 0,h=this.props.shareMode==="page"?[this.props.targetID,this.props.actorID]:[void 0,void 0],n=h[0];h=h[1];var o=this.props.targetSelectorProps!=null&&this.props.targetSelectorProps.contextConfig!=null&&this.props.shareMode!=null,p=this.props.showLiveChallengeSelector?this.$5():null;d=this.props.showSurfaceSelector&&o?b("React").jsx("div",{className:"_33u9",children:b("React").createElement(b("ExternalWebShareDialogAudienceHeader.react"),babelHelpers["extends"]({},this.props.targetSelectorProps,{audience:this.props.shareMode,defaultEventTargetID:d,defaultFundraiserTargetID:f,defaultGroupTargetID:e,defaultPageActorID:h,defaultPageTargetID:n,hidePagePostingAs:!0,key:1,onAudienceSelect:this.props.onAudienceTypeChange,onChange:this.props.onAudienceTargetChange}))},"audienceSelector"):null;f=this.props.videoID!=null&&this.props.showShareSurfaceSelector&&o&&b("React").jsx(b("LiveVideoBroadcastShareSurfaceContainer.react"),{videoID:this.props.videoID},"shareSurfaceSelector");if(this.props.enableTaggers){e=this.props.config.taggersConfig;h=e[b("ReactComposerTaggerType").OG];n=b("React").jsx(b("ReactComposerActivityTaggerContainer.react"),{actionTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,actionTypeIDsToPrefetch:h?h.actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:h?h.actionTypeIDsWithNoFreeForm:{},actorID:this.props.contextConfig.actorID,isPersonalTimeline:!1,layerPosition:"below",objectTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,placeID:void 0,rankVerbs:h?h.rankVerbs:null,typeaheadLoggerEventName:j.OGCOMPOSER_TAGGER});o=e[b("ReactComposerTaggerType").PEOPLE]?b("React").jsx(b("ReactComposerPeopleTaggerContainer.react"),{actorID:this.props.contextConfig.actorID,layerPosition:"below",placeholder:void 0,showEntriesOnFocus:!1,taggerConfig:e[b("ReactComposerTaggerType").PEOPLE],taggerSource:this.props.peopleTaggerSource}):null;h=e[b("ReactComposerTaggerType").LOCATION]?b("React").jsx(b("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:e[b("ReactComposerTaggerType").LOCATION].implicitLocationEnabled,layerPosition:"below",taggerConfig:e[b("ReactComposerTaggerType").LOCATION],taggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:j.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:"web_composer"}):null;var q=this.props.targetID?b("React").jsx(b("ReactComposerGroupsJoinCTATaggerContainer.react"),{pageID:this.props.targetID}):null,r=this.props.config.defaultDemographicsConfig;r=r?r.defaultDemographicsList:[];var s=this.$2()?b("React").jsx(b("ReactComposerTargetingTaggerContainer.react"),{}):null,t=this.props.sponsorEnabled&&this.props.sponsorConfig?b("React").jsx(b("ReactComposerSponsorTaggerContainer.react"),{showBrandedContentComposerUIV2:this.props.sponsorConfig.showSponsorTaggerBrandedContentComposerUIV2,showDirectBoost:this.props.sponsorConfig.showSponsorTaggerDirectBoost,showDirectBoostNUX:this.props.sponsorConfig.showSponsorTaggerDirectBoostNUX,showSponsorRelationship:this.props.sponsorConfig.showSponsorTaggerSponsorRelationship,viewer:this.props.sponsorConfig.viewer},"sponsor_container"):null,u=this.props.showBreakingNews?b("React").jsx(b("ReactComposerBreakingNewsContainer.react"),{pageID:this.props.targetID},"breaking_news_container"):null;e=this.props.fundraiserEnabled?b("React").jsx(b("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:e}):null;c=b("React").jsxs(b("ReactComposerTaggers.react"),{children:[n,o,h,s,t,u,e,q]});if(this.props.broadcastState!==m.EDITING){n=r.length>0?b("React").jsx(b("ReactComposerPagesPrivacyContainer.react"),{defaultDemographicsList:r,targetingEnabled:!1,useTargetingAsFilter:!1},"privacy_selector"):null;n?a=n:this.props.composerPrivacySelector&&(a=b("React").jsx(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.composerPrivacySelector,viewerIsTarget:this.props.config.targetData.viewerIsTarget}))}}o=this.props.profilePicUri?b("React").jsx(b("ReactComposerProfilePhoto.react"),{src:this.props.profilePicUri,onClick:b("emptyFunction")}):b("React").jsx(b("FBLoadShimmer.react"),{height:b("ReactComposerProfilePhoto.react").PROFILE_PIC_WIDTH,width:b("ReactComposerProfilePhoto.react").PROFILE_PIC_WIDTH});h=i._("Say something about this live video...");s=b("React").jsx("div",{className:"_36bx _609t"+(this.props.forceNoLargeText?" _1tp_":""),children:b("React").jsxs(b("ReactComposerBody.react"),{children:[b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(k,{className:"_q-v",children:o}),b("React").jsx(l,{children:b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{className:(this.props.forceNoLargeText?"_1tq0":"")+" _609u _1tqg",config:this.props.config,placeholder:h})})]}),b("ReactComposerFundraiserAttachmentContainer.react")?b("React").jsx(b("ReactComposerFundraiserAttachmentContainer.react"),{}):null,b("React").jsx(b("ReactComposerJoinGroupCTAAttachmentContainer"),{}),b("React").jsx(b("ReactComposerTaggerSummaryContainer.react"),{}),b("React").jsxs("div",{className:"_1j2v",children:[c,b("React").jsx(b("XUICardSection.react"),{background:"white",className:"_2dck",children:b("React").jsxs(b("LeftRight.react"),{children:[this.$4(),b("React").jsxs(b("XUICardSection.react"),{className:"_2ph-",children:[a,this.props.actionButton]})]})})]}),this.props.showTriangle&&b("React").jsx(b("Image.react"),{className:"_609w",src:g("115698")})]})},this.props.contextConfig.composerID);t=this.props.canEnableLiveCoverVideo?b("React").jsx(b("LiveVideoBroadcastPageLiveCoverVideoToggleButton.react"),{isLiveCoverVideoEnabled:!!this.props.isLiveCoverVideoEnabled},"pages_live_cover_video_toggle_button"):null;return[d,f,p,s,t]};return c}(b("React").PureComponent);a.defaultProps={showTriangle:!0};e.exports=a}),null);
__d("LiveVideoBroadcastComposerCrosspostNUX.react",["fbt","BasicFBNux","LayerAutoFocus","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=5507;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:d.props.shouldShowNUX&&d.props.crosspostConfigs.length>0},d.$1=function(){d.setState({shown:!1},function(){return b("BasicFBNux").onDismiss(h)})},d.$2=function(){d.setState({shown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$3()&&b("BasicFBNux").onView(h)};d.$3=function(){var a=this.props.crosspostConfigs;return this.state.shown&&a.length>0};d.$4=function(){var a=this.props.crosspostConfigs;if(a.length===1)return g._("Go to Settings to post this video to {page}.",[g._param("page",a[0].name)]);else return g._({"*":"Go to Settings to post this video to {page} and {number} other pages.","_1":"Go to Settings to post this video to {page} and 1 other page."},[g._param("page",a[0].name),g._plural(a.length-1,"number")])};d.render=function(){return!this.$3()?null:b("React").jsxs(b("XUIAmbientNUX.react"),{alignment:"center",behaviors:{LayerAutoFocus:b("LayerAutoFocus")},contextRef:this.props.contextRef,hideOnBlur:!0,position:"below",shown:!0,onBeforeHide:this.$2,onCloseButtonClick:this.$1,children:[b("React").jsx("b",{children:g._("New! Crosspost This Video")}),b("React").jsx("br",{}),this.$4()]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastComposerCrosspostToggle.react",["ix","cx","fbt","FBToggleSwitch.react","Image.react","ImageBlock.react","InlineBlock.react","Layout.react","ProfileTile.react","React","Tooltip","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=30;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props,d=b.config;b=b.onToggle;b(d,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.config,c=a.profile_pic_uri!=null?b("React").jsx(b("Image.react"),{src:a.profile_pic_uri}):b("React").jsx(b("ProfileTile.react"),{id:a.id,size:l}),d=a.can_create_post?null:b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:"_2aep",src:g("485899")},b("Tooltip").propsFor(i._("They can manually crosspost your live videos to their Page."))));return b("React").jsxs(b("Layout.react"),{className:"_160y",children:[b("React").jsx(k,{children:b("React").jsxs(b("ImageBlock.react"),{className:"_1616",children:[c,b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:l,children:b("React").jsx(b("XUIText.react"),{className:"_160z",size:"body1",children:a.name})})]})}),b("React").jsx(j,{children:d}),b("React").jsx(j,{children:b("React").jsx(b("InlineBlock.react"),{alignv:"middle",height:l,children:b("React").jsx(b("FBToggleSwitch.react"),{animate:!0,checked:a.allow,onToggle:this.$1})})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastCrosspostErrorMessageWrapper.react",["fbt","LiveVideoCrosspostingConfig","React","XUIError.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LiveVideoCrosspostingConfig").maxCrossposts;function a(a){return a.selectedCount>h?b("React").jsx(b("XUIError.react"),{xuiError:g._("Crossposting is limited to a maximum of {max_count} pages.",[g._param("max_count",h)]),children:a.children}):a.children}e.exports=a}),null);
__d("LiveVideoBroadcastComposerCrosspostSelectionPane.react",["cx","fbt","LiveVideoBroadcastActions","LiveVideoBroadcastComposerCrosspostToggle.react","LiveVideoBroadcastCrosspostErrorMessageWrapper.react","LiveVideoCrosspostingConfig","React","SearchableEntry","StaticSearchSource","XUIButton.react","XUIGrayText.react","XUITypeahead.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoCrosspostingConfig").maxCrossposts;function j(a){return new(b("StaticSearchSource"))(a.configs.map(function(a){return new(b("SearchableEntry"))({keywordString:a.name,title:a.name,uniqueID:a.id})}))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={queryString:"",searchSource:j(d.props)},d.$5=function(a,b){d.props.onToggleAll(b)},d.$6=function(a){return b("React").jsx(b("LiveVideoBroadcastComposerCrosspostToggle.react"),{config:a,onToggle:d.props.onToggle},a.id)},d.$2=function(a){d.setState({queryString:a.target.value})},d.$4=function(a){var c=a.getUniqueID(),e=d.props.configs.some(function(a){return a.id===c&&a.allow});b("LiveVideoBroadcastActions").setCrosspostToPage(a.getUniqueID(),!e);d.setState({queryString:""})},d.$3=function(a){d.setState({queryString:""})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c=this.$1();return[(a=b("React")).jsx("div",{className:"_1umu",children:a.jsx(b("XUIGrayText.react"),{shade:"medium",size:"header3",children:h._("Select Pages")})},"header"),a.jsx("div",{className:"_1umv",children:a.jsx(b("XUITypeahead.react"),{autoHighlight:!0,className:"_1una",clearable:!1,highlightOnSelect:!0,placeholder:h._("Search for Pages you can crosspost to"),queryString:this.state.queryString,searchSource:this.state.searchSource,tallInput:!0,viewStyle:"textonly",onChange:this.$2,onClear:this.$3,onSelectAttempt:this.$4})},"typeahead"),a.jsxs("div",{className:"_1unb",children:[a.jsx(b("LiveVideoBroadcastComposerCrosspostToggle.react"),{config:{allow:this.props.configs.every(function(a){return a.allow}),id:"__selectall__",name:h._("Select All").toString(),type:"page",can_create_post:!0},onToggle:this.$5},"selectall"),this.props.configs.map(this.$6)]},"rest"),a.jsx(b("LiveVideoBroadcastCrosspostErrorMessageWrapper.react"),{selectedCount:c,children:a.jsxs("div",{className:"_1unc",children:[a.jsx("div",{className:"_2ip6 _1und",children:a.jsx(b("XUIGrayText.react"),{shade:"light",children:h._("{count} selected",[h._param("count",c)])})}),a.jsx("div",{className:"_eg3",children:a.jsx(b("XUIButton.react"),{className:"_227w",disabled:c>i,label:h._("Done"),use:"confirm",onClick:this.props.onClosePane})})]})},"action")]};d.$1=function(){return this.props.configs.reduce(function(a,b){return b.allow?a+1:a},0)};return c}(b("React").Component);e.exports=a}),null);
__d("Bullet.react",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx("span",babelHelpers["extends"]({},a,{"aria-hidden":!0,children:"\u2022"}))}e.exports=a}),null);
__d("LiveVideoBroadcastComposerLiveProducerUpsellNUX.react",["fbt","BasicFBNux","Bullet.react","FDSText.react","FlexLayout.react","LayerFadeOnHide","LiveVideoBroadcastActions","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React").useCallback,i=b("React").useState,j=b("React").useEffect,k=7544;function l(a){a=a.content;return b("React").jsxs(b("FlexLayout.react"),{children:[b("React").jsx(b("Bullet.react"),{className:"_3-90"}),b("React").jsx(b("FDSText.react"),{children:a})]})}function a(a){var c,d=i(!0),e=d[0],f=d[1],m=a.navigateToLiveProducer;d=h(function(){b("BasicFBNux").onDismiss(k),f(!1)},[]);a=h(function(){b("LiveVideoBroadcastActions").tryLiveProducerNuxClicked(),m(),b("BasicFBNux").onDismiss(k),f(!1)},[m]);b("BasicFBNux").onView(k);j(function(){b("LiveVideoBroadcastActions").tryLiveProducerNuxShown()},[]);return(c=b("React")).jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,shown:e,width:520,onHide:d,children:[c.jsx(b("XUIDialogTitle.react"),{children:c.jsx(b("FDSText.react"),{color:"primary",size:"header1",children:g._("Try the New Design for Going Live")})}),c.jsxs(b("XUIDialogBody.react"),{children:[c.jsx(b("FDSText.react"),{children:g._("We've designed a new way to go live on Facebook. Try the pre-release version for an updated way to connect and interact with your audience. You can easily switch back to the current version.")}),c.jsxs("div",{className:"_3-8z",children:[c.jsx(b("FDSText.react"),{children:g._("Here's a look at what's new:")}),c.jsx(l,{content:g._("A cleaner interface")}),c.jsx(l,{content:g._("Simpler ways to manage your live video through multiple devices")}),c.jsx(l,{content:g._("Easier access to the tools you're looking for")}),c.jsx(l,{content:g._("More to come!")})]})]}),c.jsxs(b("XUIDialogFooter.react"),{children:[c.jsx(b("XUIDialogButton.react"),{label:g._("Not Now"),onClick:d}),c.jsx(b("XUIDialogButton.react"),{action:"confirm",label:g._("Try Live Producer"),use:"confirm",onClick:a})]})]})}e.exports=a}),null);
__d("LiveVideoBroadcastComposerRHCTooltip.react",["ix","cx","Image.react","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").jsx(b("Tooltip.react"),{alignH:"left",position:"above",tooltip:b("React").jsx("div",{className:"_3-7m",children:a.tooltipText}),children:b("React").jsx(b("Image.react"),{className:"_5igb",src:g("481013")})})}e.exports=a}),null);
__d("LiveVideoBroadcastComposerRHCCheckbox.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","LiveVideoBroadcastComposerRHCTooltip.react","React","XUICheckboxInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=h._("Learn more.");c=a.learnMoreLink?b("React").jsx(b("Link.react"),{href:a.learnMoreLink,target:"_blank",children:c}):null;var d=a.tooltipText?b("React").jsx(b("LiveVideoBroadcastComposerRHCTooltip.react"),{tooltipText:a.tooltipText}):null;return b("React").jsxs(b("InputLabel_DEPRECATED.react"),{className:"_4n2q",children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:a.checked,disabled:a.disabled,onChange:a.onChange}),b("React").jsxs(b("InputLabelLabel_DEPRECATED.react"),{className:a.disabled?"_29wf":"",children:[a.label,"\xa0",c,d]})]})}e.exports=a}),null);
__d("LiveVideoBroadcastDeleteStreamBehaviorEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IGNORE:"ignore",END_STREAM:"end_stream"})}),null);
__d("LiveVideoBroadcastDeleteStreamBehaviorKeys",["LiveVideoBroadcastDeleteStreamBehaviorEnum","keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")(b("LiveVideoBroadcastDeleteStreamBehaviorEnum"))}),null);
__d("LiveVideoBroadcastEditDeleteStreamBehaviorMutation",["RelayAPIConfig","RelayModern","uuid","LiveVideoBroadcastEditDeleteStreamBehaviorMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditDeleteStreamBehaviorMutation.graphql");function a(a,c,d){return h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:c.clientMutationID!=null?c.clientMutationID:b("uuid")(),delete_stream_behavior:c.deleteStreamBehavior,video_id:c.videoID}},onCompleted:d==null?void 0:d.onSuccess,onError:d==null?void 0:d.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastComposerRHCDeleteStreamBehaviorCheckbox.react",["fbt","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastComposerRHCCheckbox.react","LiveVideoBroadcastDeleteStreamBehaviorKeys","LiveVideoBroadcastEditDeleteStreamBehaviorMutation","React","RelayModern","nullthrows","LiveVideoBroadcastComposerRHCDeleteStreamBehaviorCheckbox_liveStreamMetadata.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("LiveVideoBroadcastEditDeleteStreamBehaviorMutation").commit;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=g._("End broadcast when stream ends"),k=g._("You may not be able to disconnect and reconnect an encoder during your live broadcast."),l=g._("You may not be able to disconnect and reconnect an encoder during your live broadcast. If a backup stream is enabled, you cannot use this function.");c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isEditingDeleteStreamBehavior:!1},d.$1=function(a){a=a.currentTarget.checked;var c=b("LiveVideoBroadcastDeleteStreamBehaviorKeys").IGNORE,e=b("LiveVideoBroadcastDeleteStreamBehaviorKeys").END_STREAM;d.setState({isEditingDeleteStreamBehavior:!0});a=a?e:c;b("LiveVideoBroadcastAPIActions").deleteStreamBehaviorChanged(a);i(b("nullthrows")((e=d.props.relay)==null?void 0:e.environment,"relay environment is null"),{videoID:b("nullthrows")(d.props.videoID,"video id is null"),deleteStreamBehavior:a},{onSuccess:function(){d.setState({isEditingDeleteStreamBehavior:!1})},onFailure:function(a){b("LiveVideoBroadcastActions").errorDeleteStreamBehaviorChange(),d.setState({isEditingDeleteStreamBehavior:!1})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){var a;a=(a=this.props.liveStreamMetadata)==null?void 0:(a=a.input_streams)==null?void 0:a.count;return a!=null&&a>1};d.$3=function(){};d.render=function(){var a;if(this.props.liveStreamMetadata==null)return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!1,disabled:!0,label:j,tooltipText:k,onChange:this.$3});a=(a=this.props.liveStreamMetadata)==null?void 0:(a=a.live_stream_config)==null?void 0:a.delete_stream_behavior;var c=this.$2();return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:a===b("LiveVideoBroadcastDeleteStreamBehaviorKeys").END_STREAM&&!c,disabled:a==null||this.state.isEditingDeleteStreamBehavior||c,label:j,tooltipText:c?l:k,onChange:this.$1})};return c}(b("React").Component);e.exports=a(c,{liveStreamMetadata:h!==void 0?h:h=b("LiveVideoBroadcastComposerRHCDeleteStreamBehaviorCheckbox_liveStreamMetadata.graphql")})}),null);
__d("LiveVideoBroadcastEditIGCrosspostEnabledMutation",["RelayAPIConfig","RelayModern","uuid","LiveVideoBroadcastEditIGCrosspostEnabledMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditIGCrosspostEnabledMutation.graphql");function a(a,c,d){return h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:c.clientMutationID!=null?c.clientMutationID:b("uuid")(),is_instagram_crosspost_enabled:c.isInstagramCrosspostEnabled,video_id:c.videoID}},onCompleted:d==null?void 0:d.onSuccess,onError:d==null?void 0:d.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastComposerRHCIGCrosspostEnabledCheckbox.react",["fbt","LiveVideoBroadcastActions","LiveVideoBroadcastComposerRHCCheckbox.react","LiveVideoBroadcastEditIGCrosspostEnabledMutation","React","RelayModern","nullthrows","LiveVideoBroadcastComposerRHCIGCrosspostEnabledCheckbox_liveStreamMetadata.graphql"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("LiveVideoBroadcastEditIGCrosspostEnabledMutation").commit;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=g._("Crosspost to Instagram"),k=g._("This will crosspost your Facebook livestream to the Instagram account linked to your page, where it will be public.");c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isEditingIGCrosspostEnabled:!1},d.$1=function(a){a=a.currentTarget.checked;d.setState({isEditingIGCrosspostEnabled:!0});i(b("nullthrows")(d.props.relay.environment,"relay environment is null"),{videoID:d.props.videoID,isInstagramCrosspostEnabled:a},{onSuccess:function(){d.setState({isEditingIGCrosspostEnabled:!1})},onFailure:function(a){b("LiveVideoBroadcastActions").errorIGCrosspostEnabledChange(),d.setState({isEditingIGCrosspostEnabled:!1})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){};d.render=function(){var a;if(this.props.liveStreamMetadata==null)return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!1,disabled:!0,label:j,tooltipText:k,onChange:this.$2});a=((a=this.props.liveStreamMetadata)==null?void 0:(a=a.live_stream_config)==null?void 0:a.ig_crosspost_enabled)===!0;return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:a,disabled:this.state.isEditingIGCrosspostEnabled,label:j,tooltipText:k,onChange:this.$1})};return c}(b("React").Component);e.exports=a(c,{liveStreamMetadata:h!==void 0?h:h=b("LiveVideoBroadcastComposerRHCIGCrosspostEnabledCheckbox_liveStreamMetadata.graphql")})}),null);
__d("LiveEncoderAssociateMutation",["Promise","RelayAPIConfig","RelayModern","uuid","LiveEncoderAssociateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveEncoderAssociateMutation.graphql");function a(a,c){return new(b("Promise"))(function(d,e){var f;h(a,{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,client_mutation_id:(f=c.clientMutationID)!=null?f:b("uuid")(),video_broadcast_id:c.broadcastID,live_encoder_ids:c.liveEncoderIDs}},onCompleted:function(a,b){if(b!=null){e(b);return}d(a)},onError:e})})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastComposerRHCSection.react",["ix","cx","FBToggle.react","Image.react","LeftRight.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=(a=b("React")).jsxs("span",{children:[this.props.glyph,a.jsx("span",{className:"_uzr",children:this.props.sectionTitle})]}),d=a.jsxs(b("LeftRight.react"),{children:[c,a.jsx(b("Image.react"),{className:"_65r-",src:g("364970")})]});c=a.jsxs(b("LeftRight.react"),{children:[c,a.jsx(b("Image.react"),{className:"_65r-",src:g("412708")})]});a=this.props.startOpen?!0:null;return b("React").jsxs(b("FBToggle.react"),{animate:!0,headingLevel:2,open:a,children:[c,d,b("React").jsx("div",{className:"_65rz",children:this.props.children})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastEncoderSelector.react",["fbt","LiveVideoBroadcastComposerRHCTooltip.react","React","XUISingleSelector.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("XUISingleSelector.react").Option;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=a.value;if(a==null)return;c.props.onSelectEncoder(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.encoderLabel!==void 0?b("React").jsx("label",{className:"_3-90",children:this.props.encoderLabel}):null,d=this.props.selectedEncoderID==null?"encoder-null":"encoder-"+this.props.selectedEncoderID;return b("React").jsxs("div",{className:"_3-8y","data-testid":"live-encoder-selector",children:[c,b("React").jsxs(b("XUISingleSelector.react"),{disabled:this.props.disabled===!0,value:this.props.selectedEncoderID,onChange:this.$1,children:[this.props.selectedEncoderID==null?b("React").jsx(h,{value:null,children:g._("None")}):null,this.props.encoders.map(function(c){return b("React").jsx(h,{disabled:a.props.selectedEncoderIDs.includes(c.id),value:c.id,children:c.name},"encoder-"+c.id)})]},d),this.props.tooltipLabel!=null?b("React").jsx(b("LiveVideoBroadcastComposerRHCTooltip.react"),{tooltipText:this.props.tooltipLabel}):null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastComposerRHCPairedEncoderSection.react",["ix","cx","fbt","FBLogger","Image.react","LayerFadeOnHide","LiveEncoderAssociateMutation","LiveVideoBroadcastActions","LiveVideoBroadcastComposerRHCSection.react","LiveVideoBroadcastEncoderSelector.react","LiveVideoBroadcastUtils","React","RelayFBEnvironment","RelayModern","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","asset","promiseDone","LiveVideoBroadcastComposerRHCPairedEncoderSectionActiveEncoderQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LiveVideoBroadcastUtils").logProducerEvent,l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=800,n=i._("PAIRED ENCODERS"),o=i._("Primary Encoder"),p=i._("Backup Encoder"),q=i._("You must pair a primary encoder and enable a backup stream before you can pair a backup encoder.");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoadingInitialState:!1,selectedEncoderIDs:[],showErrorLogDialog:!1},c.$4=function(){c.setState(function(a){return{showErrorLogDialog:!a.showErrorLogDialog}})},c.$7=function(a){c.$6(0,a)},c.$8=function(a){c.$6(1,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){};d.$2=function(a){return this.state.selectedEncoderIDs.length<a?null:this.state.selectedEncoderIDs[a]};d.$3=function(a){var c=this;k({videoID:this.props.videoID,broadcastID:this.props.broadcastID,event:"live_encoder_associate_clicked"});var d=function(){c.setState({selectedEncoderIDs:a,showErrorLogDialog:!0}),b("LiveVideoBroadcastActions").errorRegisteringPairedEncoders()};try{b("promiseDone")(b("LiveEncoderAssociateMutation").commit(b("RelayFBEnvironment"),{broadcastID:this.props.broadcastID,liveEncoderIDs:this.state.selectedEncoderIDs}),this.$1,d)}catch(a){d()}};d.$5=function(){return!this.state.showErrorLogDialog?null:b("React").jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:this.state.showErrorLogDialog,width:m,onToggle:this.$4,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:i._("Error Pairing Encoder")}),b("React").jsx(b("XUIDialogBody.react"),{children:i._("An error occurred while pairing the encoder to the broadcast. Please try again.")}),b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogOkayButton.react"),{action:"confirm",use:"confirm",onClick:this.$4})})]})};d.$6=function(a,b){var c=this,d=[];for(var e=0;e<2;e++)d.push(a===e?b:this.$2(e));var f=this.state.selectedEncoderIDs;this.setState({selectedEncoderIDs:d.filter(Boolean)},function(){c.$3(f)})};d.componentDidMount=function(){__p&&__p();var a=this,c=this.props.broadcastID;this.setState({isLoadingInitialState:!0});if(c==null){b("FBLogger")("live_videos").mustfix("broadcastID must be non-zero, received %s",c);this.setState({isLoadingInitialState:!1});return}l(b("RelayFBEnvironment"),r,{videoID:this.props.videoID}).then(function(b){__p&&__p();b=(b=b.video)==null?void 0:(b=b.input_streams)==null?void 0:b.nodes;if(b==null)return;var c=[];for(var d=0;d<b.length;d++){var e,f=b[d].host_number;e=(e=b[d].live_encoder)==null?void 0:e.id;if(f==null||e==null)continue;c[f]=e}a.setState({selectedEncoderIDs:c})})["catch"](function(){a.setState({showErrorLogDialog:!0})})["finally"](function(){a.setState({isLoadingInitialState:!1})})};d.render=function(){var a=this.props,c=a.encoders;a=a.isBackupStreamEnabled;if(c.length<1)return null;var d=this.$2(0);d=[b("React").jsx(b("LiveVideoBroadcastEncoderSelector.react"),{disabled:this.state.isLoadingInitialState,encoderLabel:o,encoders:c,selectedEncoderID:d,selectedEncoderIDs:this.state.selectedEncoderIDs.filter(Boolean),onSelectEncoder:this.$7},"primary-encoder-selector"),b("React").jsx(b("LiveVideoBroadcastEncoderSelector.react"),{disabled:this.state.isLoadingInitialState||d==null||!a,encoderLabel:p,encoders:c,selectedEncoderID:this.$2(1),selectedEncoderIDs:this.state.selectedEncoderIDs.filter(Boolean),tooltipLabel:q,onSelectEncoder:this.$8},"backup-encoder-selector")];a=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("383904")});return b("React").jsxs("div",{className:"_1q75","data-testid":"paired-encoder-section",children:[b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:a,sectionTitle:n,startOpen:!0,children:b("React").jsx("div",{className:"_zwj _3-8x",children:d})}),this.$5()]})};return c}(b("React").Component);var r=j!==void 0?j:j=b("LiveVideoBroadcastComposerRHCPairedEncoderSectionActiveEncoderQuery.graphql");e.exports=a}),null);
__d("LiveVideoBroadcastComposerRHCPlayback",["ix","cx","fbt","Image.react","InputLabel.react","LiveVideoBroadcastComposerRHCSection.react","React","VideoBroadcastFlowTypes","XUIGrayText.react","XUIRadioInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("VideoBroadcastFlowTypes").BroadcastPlaybackMode;function a(a){var c,d=i._("LIVE PLAYBACK LATENCY"),e=(c=b("React")).jsx(b("Image.react"),{className:"_1q74",src:g("377824")});return c.jsx("div",{className:"_1q75",children:c.jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:e,sectionTitle:d,startOpen:!0,children:c.jsxs("div",{children:[c.jsx(b("XUIGrayText.react"),{className:"_3-95 _3-8x _3-9b",display:"block",shade:"medium",size:"meta1",weight:"normal",children:i._("Customize Live playback delivery for your viewers.")}),c.jsxs("div",{className:"_3-9a",children:[c.jsx(b("InputLabel.react"),{label:i._("Optimize for slow mobile networks"),children:c.jsx(b("XUIRadioInput.react"),{defaultChecked:a.broadcastPlaybackMode===j.HIGH_LATENCY,name:"playback-mode",value:j.HIGH_LATENCY,onChange:a.onBroadcastPlaybackModeChange})}),c.jsx(b("InputLabel.react"),{label:i._("Default"),children:c.jsx(b("XUIRadioInput.react"),{defaultChecked:a.broadcastPlaybackMode===j.NORMAL_LATENCY,name:"playback-mode",value:j.NORMAL_LATENCY,onChange:a.onBroadcastPlaybackModeChange})}),c.jsx(b("InputLabel.react"),{label:i._("Optimize for more comments and interactions"),children:c.jsx(b("XUIRadioInput.react"),{defaultChecked:a.broadcastPlaybackMode===j.LOW_LATENCY,name:"playback-mode",value:j.LOW_LATENCY,onChange:a.onBroadcastPlaybackModeChange})})]})]})})})}e.exports=a}),null);
__d("LiveVideoBroadcastComposerRHCNumberInput.react",["cx","fbt","FBNumberInput.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","LiveVideoBroadcastComposerRHCTooltip.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=h._("Learn more.");c=a.learnMoreLink?b("React").jsx(b("Link.react"),{href:a.learnMoreLink,target:"_blank",children:c}):null;var d=a.tooltipText?b("React").jsx(b("LiveVideoBroadcastComposerRHCTooltip.react"),{tooltipText:a.tooltipText}):null;return b("React").jsxs(b("InputLabel_DEPRECATED.react"),{className:"_3dz5",children:[b("React").jsx(b("FBNumberInput.react"),{className:"_1e26",defaultValue:a.defaultValue,disabled:a.disabled,maxValue:a.maxValue,minValue:a.minValue,name:a.name,onlyIntegers:!0,value:a.value||a.defaultValue||180,onValueChange:a.onChange}),b("React").jsxs(b("InputLabelLabel_DEPRECATED.react"),{className:"_4f3e"+(a.disabled?" _29wf":""),children:[a.label,"\xa0",c,d]})]})}e.exports=a}),null);
__d("LiveVideoBroadcastSphericalConfigurationSearchSource",["fbt","SearchableEntry","StaticSearchSource","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("678853"),i=b("gkx")("678852");a=function(){var a=[{projection:"equirectangular",stereoMode:"mono",subtitle:g._("Equirectangular monoscopic"),title:g._("360 Video - Standard")},{projection:"equirectangular",stereoMode:"top-bottom",subtitle:g._("Equirectangular top-bottom stereoscopic"),title:g._("360 Video - 3D")},{projection:"cubemap",stereoMode:"mono",subtitle:g._("Cubemap monoscopic"),title:g._("360 Video - Cubemap")}];h&&(a.push({projection:"half_equirectangular",stereoMode:"mono",subtitle:g._("Half equirectangular monoscopic"),title:g._("180 Video - Standard")}),a.push({projection:"half_equirectangular",stereoMode:"left-right",subtitle:g._("Half equirectangular side-by-side stereoscopic"),title:g._("180 Video - 3D")}));i&&a.push({projection:"single_fish_eye",stereoMode:"mono",subtitle:g._("Single fisheye monoscopic"),title:g._("Fisheye Video")});return a};c=a().map(function(a,c){return new(b("SearchableEntry"))({auxiliaryData:{projection:a.projection,stereoMode:a.stereoMode},subtitle:a.subtitle,title:a.title,uniqueID:c})});d=new(b("StaticSearchSource"))(c);e.exports=d}),null);
__d("LiveVideoBroadcastComposerRHCSphericalSection.react",["fbt","LiveVideoBroadcastAPIActions","LiveVideoBroadcastComposerRHCCheckbox.react","LiveVideoBroadcastComposerRHCNumberInput.react","LiveVideoBroadcastSphericalConfigurationSearchSource","React","SUIBusinessTheme","SUISearchableSelector.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("gkx")("678852"),i=g._("Broadcast this as a spherical video"),j=g._("Go live with your 360 or 180 video."),k=g._("This broadcast has Audio 360 (ambix4)"),l=g._("Select only if your video has ambix4 audio format."),m=g._("Field Of View (FOV)"),n=g._("Required for the fisheye video type only. This is the original field of view of your fisheye lens.");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("LiveVideoBroadcastAPIActions").setIs360Audio(a.target.checked)};d.$2=function(a){b("LiveVideoBroadcastAPIActions").setIs360Video(a.target.checked)};d.$3=function(a){b("LiveVideoBroadcastAPIActions").update360Configuration(a)};d.$4=function(a){b("LiveVideoBroadcastAPIActions").setSingleFisheyeFOV(a)};d.render=function(){var a=!!(this.props.selectorValue&&this.props.selectorValue.getAuxiliaryData().projection==="single_fish_eye");return b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.is360Video,label:i,tooltipText:j,onChange:this.$2}),b("React").jsx(b("SUISearchableSelector.react"),{dropdownWidth:"sameAsSelector",emptySearchResultsContent:"No matching results.",isDisabled:!this.props.is360Video,placeholder:"Select spherical video type",searchSource:b("LiveVideoBroadcastSphericalConfigurationSearchSource"),shouldShowSubtitleInSelector:!1,style:{margin:"12px 28px"},theme:b("SUIBusinessTheme"),value:this.props.selectorValue||null,width:300,onChange:this.$3}),b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.is360Audio,disabled:!this.props.is360Video||!this.props.selectorValue||a,label:k,tooltipText:l,onChange:this.$1}),h&&a&&b("React").jsx(b("LiveVideoBroadcastComposerRHCNumberInput.react"),{defaultValue:180,label:m,maxValue:360,minValue:1,name:"singleFisheyeFOV",tooltipText:n,value:this.props.singleFisheyeFOV,onChange:this.$4})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastEditStarsGoalMutation",["Promise","RelayModern","LiveVideoBroadcastEditStarsGoalMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditStarsGoalMutation.graphql");function a(a,c){return new(b("Promise"))(function(b,d){h(a,{mutation:i,onCompleted:function(a,c){if(c!=null){d(c);return}b(a)},onError:d,variables:{input:{video_broadcast_id:c.videoBroadcastID,star_goal_id:c.starsGoalID}}})})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastComposerRHCStarsGoalSection.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastComposerRHCSection.react","LiveVideoBroadcastEditStarsGoalMutation","React","RelayFBLiveEnvironment","RelayModern","SUIBusinessTheme","SUIButton.react","SUISelector.react","SUISelectorOption.react","XMediaManagerController","asset","cxMargin","LiveVideoBroadcastComposerRHCStarsGoalSection_starsGoals.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LiveVideoBroadcastEditStarsGoalMutation").commit;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function l(){return b("React").jsx("div",{className:"_8dxq",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("Show a Stars goal during your live video. Viewers will be able to purchase Stars and send them to you to support your goal.")})})}function m(){var a=b("XMediaManagerController").getURIBuilder().setString("tab","monetization_stars").getURI().toString();return b("React").jsx(b("SUIButton.react"),{href:a,label:i._("Add Stars Goal"),margin:"_3-9a",target:"_blank",use:"default"})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectorDisabled:!1},d.$1=function(a){d.setState({selectorDisabled:!0}),k(b("RelayFBLiveEnvironment"),{videoBroadcastID:d.props.broadcastID,starsGoalID:a}).then(function(a){b("LiveVideoBroadcastActions").settingStarsGoalSuccess()})["catch"](function(a){b("LiveVideoBroadcastActions").settingStarsGoalFailed(),d.setState({selectorDisabled:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){((a=a.starsGoals)==null?void 0:(a=a.stars_goal)==null?void 0:a.id)!==((a=this.props.starsGoals)==null?void 0:(a=a.stars_goal)==null?void 0:a.id)&&this.setState({selectorDisabled:!1})};d.render=function(){var a,c;a=((a=(a=this.props.starsGoals)==null?void 0:(a=a.owner)==null?void 0:(a=a.gaming_video_creator_settings)==null?void 0:(a=a.goals_settings)==null?void 0:(a=a.gaming_video_goals)==null?void 0:a.nodes)!=null?a:[]).filter(function(a){return a.gaming_video_goal_type==="STARS"&&a.gaming_video_goal_status==="IN_PROGRESS"});return b("React").jsx("div",{className:"_1q75",children:b("React").jsxs(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:b("React").jsx(b("Image.react"),{className:"_1q74",src:g("657883")}),sectionTitle:i._("STAR GOALS"),startOpen:!0,children:[b("React").jsx(l,{}),a.length>0?b("React").jsxs(b("FlexLayout.react"),{className:"_8ktp",direction:"vertical",children:[b("React").jsxs(b("SUISelector.react"),{disabled:this.state.selectorDisabled,dropdownWidth:"sameAsSelector",placeholder:i._("Choose Goal"),theme:b("SUIBusinessTheme"),value:(c=this.props.starsGoals)==null?void 0:(c=c.stars_goal)==null?void 0:c.id,width:300,onChange:this.$1,children:[b("React").jsx(b("SUISelectorOption.react"),{value:null,children:i._("Choose Goal")}),a.map(function(a){return b("React").jsx(b("SUISelectorOption.react"),{description:i._({"*":"{goal} goals"},[i._param("goal",a.target_value,[0])]),value:a.id,children:a.title_string},a.id)})]}),((c=this.props.starsGoals)==null?void 0:(a=c.stars_goal)==null?void 0:a.id)!=null&&b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"body3",children:i._({"*":"Your goal of {goal} Stars will be promoted in your live video to your viewers."},[i._param("goal",(c=this.props.starsGoals)==null?void 0:(a=c.stars_goal)==null?void 0:a.target_value,[0])])})]}):b("React").jsx(m,{})]})})};return c}(b("React").Component);e.exports=a(c,{starsGoals:j!==void 0?j:j=b("LiveVideoBroadcastComposerRHCStarsGoalSection_starsGoals.graphql")})}),null);
__d("LiveVideoBroadcastCrossshareGroupSelector.react",["ix","cx","fbt","GroupsTokenizer.react","Image.react","React","Tooltip.react","XUIGrayText.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React").useRef,k=3;function a(a){var c,d=j(null);return(c=b("React")).jsxs("div",{children:[c.jsxs(b("XUIGrayText.react"),{className:"_3-95",display:"block",shade:"medium",size:"meta1",weight:"bold",children:[i._("Share to Your Groups"),c.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Share your broadcast to multiple groups when you go live."),children:c.jsx(b("Image.react"),{className:"_4vmq",src:g("1111122")})})]}),c.jsx("div",{ref:d,children:c.jsx(b("GroupsTokenizer.react"),{actorID:a.actorID,groups:a.selectedGroups,maxNumberOfGroups:k,onChange:a.onGroupsChange})})]})}e.exports=a}),null);
__d("EntLiveVideoErrorType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INFO:"info",STREAM:"stream",ENCODING:"encoding",COPYRIGHT:"copyright"})}),null);
__d("LiveVideoBroadcastErrorLogs.react",["ix","cx","fbt","DateConsts","EntLiveVideoErrorType","Image.react","Link.react","LiveVideoBroadcastActions","React","RelayModern","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react","XUISortableDataTable.react","XUISpinner.react","asset","cxMargin","nullthrows","LiveVideoBroadcastErrorLogs_inputStreams.graphql","LiveVideoBroadcastErrorLogsQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=10,m={typeWidth:20,messageWidth:575,timeWidth:185},n=m.typeWidth+m.messageWidth+m.timeWidth;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoadingMore:!1},d.$3=function(a){a=d.props.relay;var c=a.isLoading;a=a.loadMore;if(c())return;d.setState({isLoadingMore:!0});a(l,function(a){a!=null&&b("LiveVideoBroadcastActions").errorPaginatingBroadcastErrorLogs(),d.setState({isLoadingMore:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){__p&&__p();var a;a=(a=this.props.inputStreams)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;if(a==null||a.length<1)return b("React").jsx("div",{className:"_57-x",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})});a=(a=a[0].errors)==null?void 0:a.edges;if(a==null||a.length<1)return b("React").jsx(b("XUINotice.react"),{use:"success",children:i._("There are no errors for your video.")});a=a.map(function(a,b){return{error_type:(b=a.node)==null?void 0:b.error_type,error_message:(b=a.node)==null?void 0:b.error_message,creation_time:(b=a.node)==null?void 0:b.creation_time}});return b("React").jsx(b("XUISortableDataTable.react"),{columnToSortBy:"creation_time",columns:this.$2(),rows:a})};d.$2=function(){return[{id:"error_type",cellRenderer:function(a){if(a==null)return null;return b("EntLiveVideoErrorType")[a]==="info"?b("React").jsx(b("Image.react"),{src:g("419132")}):b("React").jsx(b("Image.react"),{src:g("367570")})},label:"Type",width:m.typeWidth},{id:"error_message",label:"Event",width:m.messageWidth-m.typeWidth},{id:"creation_time",cellRenderer:function(a){a=parseInt(a,10);a=new Date(a*b("DateConsts").MS_PER_SEC);var c=a.toDateString();a=a.toLocaleTimeString();return c+" "+a},label:"Date & Time",width:m.timeWidth}]};d.$4=function(){var a,c;a=(a=this.props.inputStreams)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;if(a==null||a.length<1)return!1;c=(c=a[0].errors)==null?void 0:c.edges;if(c==null||c.length<1)return!1;a=c.length<b("nullthrows")((c=a[0].errors)==null?void 0:c.count,"error count is null");return a};d.$5=function(){if(!this.$4())return null;var a=[];this.state.isLoadingMore?a.push(b("React").jsx(b("XUISpinner.react"),{size:"small"},"spinner")):(a.push(b("React").jsx(b("Link.react"),{onClick:this.$3,children:b("React").jsx(b("Image.react"),{className:"_3-90",src:g("558749")})},"link-triangle")),a.push(b("React").jsx(b("Link.react"),{onClick:this.$3,children:i._("See More")},"link-text")));return b("React").jsx("div",{className:"_7yka",children:a})};d.render=function(){return b("React").jsxs(b("XUIDialog.react"),{shown:!0,width:n,onToggle:this.props.onClose,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:i._("Live Video Event Log")}),this.$5(),b("React").jsx(b("XUIDialogBody.react"),{className:"_7ti0"+(this.$4()?" _7ykb":""),children:this.$1()})]})};return c}(b("React").PureComponent);e.exports=a(c,{inputStreams:j!==void 0?j:j=b("LiveVideoBroadcastErrorLogs_inputStreams.graphql")},{direction:"backward",getConnectionFromProps:function(a){a=a==null?void 0:(a=a.inputStreams)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;return a==null||a.length<1?null:a[0].errors},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){return babelHelpers["extends"]({},b,{videoID:a.videoID})},query:k!==void 0?k:k=b("LiveVideoBroadcastErrorLogsQuery.graphql")})}),null);
__d("LiveVideoBroadcastErrorLogsContainer.react",["LiveVideoBroadcastActions","LiveVideoBroadcastErrorLogs.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastErrorLogsContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastErrorLogs();return null}return b("React").jsx(b("LiveVideoBroadcastErrorLogs.react"),{inputStreams:a==null?void 0:a.video,videoID:d.props.videoID,onClose:d.props.onClose})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,render:this.$1,variables:{video_id:this.props.videoID}})};return c}(b("React").Component);var i=g!==void 0?g:g=b("LiveVideoBroadcastErrorLogsContainerQuery.graphql");e.exports=a}),null);
__d("LiveVideoBroadcastEditPromotedEventsMutation",["Promise","RelayModern","LiveVideoBroadcastEditPromotedEventsMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastEditPromotedEventsMutation.graphql");function a(a,c){return new(b("Promise"))(function(b,d){h(a,{mutation:i,onCompleted:function(a,c){if(c!=null){d(c);return}b(a)},onError:d,variables:{input:{video_id:c.videoID,event_ids:c.eventIDs}}})})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastEventPromotionOptions.react",["ix","cx","fbt","FBCheckbox.react","FBConfirmDialog.react","FDSLink.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","Image.react","Link.react","LiveVideoBroadcastActions","LiveVideoBroadcastEditPromotedEventsMutation","Middot.react","React","RelayFBEnvironment","RelayModern","Tooltip.react","XEventsPermalinkController","XUIGrayText.react","XUIText.react","cxMargin","fbglyph","formatDate","qex","LiveVideoBroadcastEventPromotionOptions_videoWithEventPromotionOptions.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LiveVideoBroadcastEditPromotedEventsMutation").commit,l=(c=b("React")).useCallback,m=c.useEffect,n=c.useRef,o=c.useState;d=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var p=2;function q(a){var c=a.id,d=a.name,e=a.dayTimeSentence,f=a.venueContextName,g=a.venueCityContextName,h=a.startTimestamp,i=a.selected,j=a.disabled,k=a.onEventSelectionChanged;a=b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",c).getURI();f=(f=f)!=null?f:g;g=b("formatDate")(h,"M").toLocaleUpperCase();h=b("formatDate")(h,"j");var m=l(function(a){c!=null&&k(c,a)},[c,k]);return b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_8ptg",children:[b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_8pth",direction:"vertical",children:[b("React").jsx(b("FDSText.react"),{color:"negative",size:"body3",weight:"normal",children:g}),b("React").jsx(b("FDSText.react"),{color:"header",size:"header2",weight:"normal",children:h})]}),b("React").jsxs(b("FlexLayout.react"),{className:"_8pto",direction:"vertical",children:[b("React").jsx(b("Link.react"),{href:a,target:"_blank",children:b("React").jsx(b("FDSText.react"),{color:"header",size:"body2",weight:"bold",children:d})}),b("React").jsxs(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"normal",children:[e,b("React").jsx(b("Middot.react"),{}),f]})]}),b("React").jsx(b("FlexLayoutItem.react"),{className:"_8pti",children:b("React").jsx(b("FBCheckbox.react"),{checked:i,disabled:j,onToggle:m})})]})}function a(a){__p&&__p();var c,d=(c=(c=a.videoWithEventPromotionOptions)==null?void 0:(c=c.owner)==null?void 0:(c=c.owned_events)==null?void 0:c.nodes)!=null?c:[],e=((c=(c=a.videoWithEventPromotionOptions)==null?void 0:(c=c.event_promotion_options)==null?void 0:(c=c.promoted_events)==null?void 0:c.nodes)!=null?c:[]).map(function(a){return a.id});c=n(!1);var f=o(!1),h=f[0],j=f[1];f=e.length>0&&d.every(function(a){return e.includes(a.id)});m(function(){d.length>0&&j(b("qex")._("1178831")===!0)},[d.length]);var r=o(!1),s=r[0],t=r[1];r=o(d.length>p);var u=r[0],v=r[1];r=o(!u);var w=r[0],x=r[1],y=l(function(c){t(!0),b("LiveVideoBroadcastActions").settingPromotedEventsStarted(),k(b("RelayFBEnvironment"),{videoID:a.videoID,eventIDs:c}).then(function(a){b("LiveVideoBroadcastActions").settingPromotedEventsSuccess()})["catch"](function(a){b("LiveVideoBroadcastActions").settingPromotedEventsFailed()})["finally"](function(){t(!1)})},[a.videoID]),z=l(function(a,b){var c=e.filter(function(b){return b!=a}).filter(Boolean);b&&c.push(a);y(c)},[e,y]);r=l(function(){if(s)return;var a=d.map(function(a){return a==null?void 0:a.id}).filter(Boolean);y(a)},[s,d,y]);var A=l(function(){if(s)return;y([])},[s,y]),B=l(function(){v(!1),x(!0)},[]),C=o(!1),D=C[0],E=C[1];C=l(function(){E(!0)},[]);var F=l(function(){E(!1)},[]),G=u?p:d.length;if(d.length==0||h===!1)return b("React").jsx(b("React").Fragment,{});c.current||(b("LiveVideoBroadcastActions").eventPromotionSectionShown(),c.current=!0);return b("React").jsxs("div",{className:"_kgu",children:[b("React").jsx("div",{className:"_3-95",children:b("React").jsxs(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"bold",children:[i._("Tickets & Events"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Select events to promote during your live video. Viewers will see the event closest to them and be able to get tickets."),children:b("React").jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]})}),b("React").jsxs(b("FlexLayout.react"),{className:"_8ptj",direction:"vertical",children:[b("React").jsx(b("FlexLayoutItem.react"),{children:b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"normal",children:i._("EVENTS YOU'RE HOSTING")})}),b("React").jsx(b("FlexLayoutItem.react"),{align:"end",children:f?b("React").jsx(b("FDSLink.react"),{onClick:A,children:i._("Unselect All")}):b("React").jsx(b("FDSLink.react"),{onClick:r,children:i._("Select All")})}),d.slice(0,G).filter(function(a){return(a==null?void 0:a.id)!=null}).map(function(a){var c=a.id,d=a.name,f=a.day_time_sentence,g=a.event_place;a=a.tz_agnostic_start_timestamp;return b("React").jsx(q,{dayTimeSentence:f,disabled:s,id:c,name:d,selected:e.includes(c),startTimestamp:a,venueCityContextName:g==null?void 0:(f=g.city)==null?void 0:f.contextual_name,venueContextName:g==null?void 0:g.contextual_name,onEventSelectionChanged:z},c)}),u&&b("React").jsx(b("FlexLayoutItem.react"),{align:"center",children:b("React").jsx(b("FDSLink.react"),{onClick:B,children:i._("See All Events")})}),w&&b("React").jsx(b("FlexLayoutItem.react"),{align:"center",children:b("React").jsx(b("FDSLink.react"),{onClick:C,children:i._("Don't see the event you want to promote?")})})]}),D&&b("React").jsx(b("FBConfirmDialog.react"),{confirmButtonText:i._("Got It"),content:i._("You can only promote events you're hosting. To host an event, create a new event or ask an event host to add you as a co-host."),shown:!0,title:i._("How to Promote More Events"),onCancel:F,onConfirm:F,onToggle:F})]})}e.exports=d(a,{videoWithEventPromotionOptions:j!==void 0?j:j=b("LiveVideoBroadcastEventPromotionOptions_videoWithEventPromotionOptions.graphql")})}),null);
__d("LiveVideoBroadcastEventPromotionSearchSource",["SearchableEntry","WebAsyncSearchSource","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,{getAllForEmptyQuery:!0,queryRequests:[{data:{filter:["event"],max_result:10,viewer:c},uri:"/ajax/typeahead/search.php"}],packageFn:function(a,c){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!b("isValidUniqueID")(e)?null:new(b("SearchableEntry"))({uniqueID:e,order:a.order||a.index||c,title:d,subtitle:a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:null})}})||this;c.$LiveVideoBroadcastEventPromotionSearchSource1=d.map(function(a,c){return new(b("SearchableEntry"))({uniqueID:a.id,order:c,title:a.name,subtitle:a.startTimeSentence,photo:a.photo})});return c}var d=c.prototype;d.searchImpl=function(b,c){b.trim().length===0?c(this.$LiveVideoBroadcastEventPromotionSearchSource1,b):a.prototype.searchImpl.call(this,b,c)};return c}(b("WebAsyncSearchSource"));e.exports=a}),null);
__d("LiveVideoBroadcastEventSearchTypeAheadView.react",["cx","fbt","FlexLayout.react","FlexLayoutItem.react","React","XUIText.react","XUITypeaheadView.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var c;return(c=b("React")).jsx("div",{className:"_8uka",children:c.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[c.jsx(b("FlexLayoutItem.react"),{className:"_8ukb",children:c.jsx(b("XUIText.react"),{size:"meta1",weight:"normal",children:h._("EVENTS YOU'RE HOSTING")})}),c.jsx(b("FlexLayoutItem.react"),{children:a.prototype.render.call(this)})]})})};return c}(b("XUITypeaheadView.react"));e.exports=a}),null);
__d("LiveVideoBroadcastEventPromotionOptionsWithSearch.react",["ix","cx","fbt","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastEditPromotedEventsMutation","LiveVideoBroadcastEventPromotionSearchSource","LiveVideoBroadcastEventSearchTypeAheadView.react","React","RelayHooks","RelayModern","SearchableEntry","Tooltip.react","XUIGrayText.react","XUITokenizer.react","XUITokenizerToken.react","XUITypeaheadView.react","cxMargin","fbglyph","LiveVideoBroadcastEventPromotionOptionsWithSearch_videoWithEventPromotionOptions.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LiveVideoBroadcastEditPromotedEventsMutation").commit,l=b("React").useCallback,m=b("React").useRef,n=b("React").useState,o=b("RelayHooks").useRelayEnvironment;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var p={ViewRenderer:b("XUITypeaheadView.react"),TokenRenderer:b("XUITokenizerToken.react"),useLayer:!0},q={ViewRenderer:b("LiveVideoBroadcastEventSearchTypeAheadView.react"),TokenRenderer:b("XUITokenizerToken.react"),useLayer:!0};function a(a){__p&&__p();var c,d=(c=(c=a.videoWithEventPromotionOptions)==null?void 0:(c=c.owner)==null?void 0:(c=c.owned_events)==null?void 0:c.nodes)!=null?c:[];c=(c=(c=a.videoWithEventPromotionOptions)==null?void 0:(c=c.event_promotion_options)==null?void 0:(c=c.promoted_events)==null?void 0:c.nodes)!=null?c:[];var e=o(),f=n(!1),h=f[0],j=f[1];f=n("");var r=f[0],s=f[1];f=n(c.map(function(a){var c;return new(b("SearchableEntry"))({uniqueID:(c=a==null?void 0:a.id)!=null?c:"",title:(c=a==null?void 0:a.name)!=null?c:""})}));var t=f[0],u=f[1],v=l(function(c,d){__p&&__p();var f=d?t.concat([c]):t.filter(function(a){return a.getUniqueID()!==c.getUniqueID()});j(!0);b("LiveVideoBroadcastActions").settingPromotedEventsStarted();k(e,{videoID:a.videoID,eventIDs:f.map(function(a){return a.getUniqueID()}).filter(Boolean)}).then(function(a){var c=((a=(a=a.set_promoted_events_in_video)==null?void 0:(a=a.event_promotion_options)==null?void 0:(a=a.promoted_events)==null?void 0:a.nodes)!=null?a:[]).map(function(a){return a.id});b("LiveVideoBroadcastActions").settingPromotedEventsSuccess();u(f.filter(function(a){return c.includes(a.getUniqueID())}))})["catch"](function(){b("LiveVideoBroadcastActions").settingPromotedEventsFailed()})["finally"](function(){j(!1)})},[t,a.videoID,e]);c=l(function(a){v(a,!0)},[v]);f=l(function(a){v(a,!1)},[v]);var w=m();w.current||(w.current=new(b("LiveVideoBroadcastEventPromotionSearchSource"))(a.targetID,d.map(function(a){var b;return{id:(b=a.id)!=null?b:"",name:(b=a.name)!=null?b:"",startTimeSentence:a.start_time_sentence,photo:(b=a.featurable_image)==null?void 0:b.uri}})));var x=n(d.length>0?q:p),y=x[0],z=x[1];x=l(function(a){a=a.target.value;s(a);z(a.trim()===""&&d.length>0?q:p)},[d.length]);return b("React").jsxs("div",{className:"_kgu",children:[b("React").jsx("div",{className:"_3-95",children:b("React").jsxs(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"bold",children:[i._("Tickets & Events"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Select events to promote during your live video. Viewers will see the event closest to them and be able to get tickets."),children:b("React").jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]})}),b("React").jsx(b("XUITokenizer.react"),{disabled:h,entries:t,limit:10,placeholder:i._("Search events to promote in your live video"),presenter:y,queryString:r,searchSource:w.current,showEntriesOnFocus:!0,onAddEntryAttempt:c,onQueryStringChange:x,onRemoveEntryAttempt:f})]})}e.exports=c(a,{videoWithEventPromotionOptions:j!==void 0?j:j=b("LiveVideoBroadcastEventPromotionOptionsWithSearch_videoWithEventPromotionOptions.graphql")})}),null);
__d("LiveVideoBroadcastEventTicketPromotionSection.react",["ix","cx","fbt","FDSText.react","Image.react","InputLabel.react","LiveVideoBroadcastComposerRHCSection.react","React","XUICheckboxInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onChange(!c.props.enabled)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:"_1q75",children:a.jsxs(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:a.jsx(b("Image.react"),{className:"_1q74",src:g("562223")}),sectionTitle:i._("TICKETS & EVENTS"),startOpen:!0,children:[a.jsx("div",{className:"_8dxq",children:a.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("Promote and sell tickets to your events during your live video. Viewers will be able to get tickets after they respond {=Interested}.",[i._param("=Interested",a.jsx("strong",{children:i._("Interested")}))])})}),a.jsx(b("InputLabel.react"),{className:"_8dy7",label:i._("Turn on tickets and events in your live video."),children:a.jsx(b("XUICheckboxInput.react"),{checked:this.props.enabled,onChange:this.$1})})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastGameSelectorGamerGraph.react",["ix","cx","fbt","GamesTypeahead.react","Image.react","React","Token.react","Tooltip.react","XUIGrayText.react","cxMargin","fbglyph","videoGetVideoGameNameSelectorPlaceholder"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsxs(b("XUIGrayText.react"),{className:"_3-95",display:"block",shade:"medium",size:"meta1",weight:"normal",children:[i._("Video Game"),a.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("You can go live with your gameplay and broadcast from multiple screens or cameras."),children:a.jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]}),this.renderGameTypeahead()]})};d.renderGameTypeahead=function(){var a=this,c=this.props.selectedGame;if(c){var d=function(){a.props.onGameChange(null)};return b("React").jsx("div",{className:"_oii",children:b("React").jsx(b("Token.react"),{label:c.getTitle(),removable:!0,value:c.getUniqueID(),onRemove:d})})}return b("React").jsx(b("GamesTypeahead.react"),{className:"_oie",clearOnSelect:!1,filterVideoTags:!0,includeSeries:!1,placeholder:b("videoGetVideoGameNameSelectorPlaceholder")(),tallInput:!0,onGameSelect:this.props.onGameChange,queryInstantGames:!1,showEntriesOnFocus:!1})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ColumbusLanguage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARABIC:"Arabic",BELARUSIAN:"Belarusian",CANTONESE:"Cantonese",CZECH:"Czech",DANISH:"Danish",DUTCH:"Dutch",ENGLISH:"English",FARSI:"Farsi",FINNISH:"Finnish",FRENCH:"French",GERMAN:"German",GREEK:"Greek",HEBREW:"Hebrew",HINDI:"Hindi",HUNGARIAN:"Hungarian",INDONESIAN:"Indonesian",ITALIAN:"Italian",JAPANESE:"Japanese",KOREAN:"Korean",MALAYSIAN:"Malaysian",MANDARIN:"Mandarin",MARATHI:"Marathi",NORWEGIAN:"Norwegian",POLISH:"Polish",PORTUGUESE_BRAZIL:"Portuguese (Brazil)",PORTUGUESE_PORTUGAL:"Portuguese (Portugal)",PUNJABI:"Punjabi",ROMANIAN:"Romanian",RUSSIAN:"Russian",SIMPLIFIED_CHINESE:"Simplified Chinese",SPANISH_AMERICAS:"Spanish (Americas)",SPANISH_SPAIN:"Spanish (Spain)",SWEDISH:"Swedish",TAGALOG:"Tagalog",TAIWANESE:"Taiwanese",TAMIL:"Tamil",TELUGU:"Telugu",THAI:"Thai",TRADITIONAL_CHINESE_HONG_KONG:"Traditional Chinese (Hong Kong)",TRADITIONAL_CHINESE_TAIWAN:"Traditional Chinese (Taiwan)",TURKISH:"Turkish",VIETNAMESE:"Vietnamese",OTHER:"Other"})}),null);
__d("LiveVideoBroadcastCoStreamerInput.react",["fbt","React","XUIGrayText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsx("div",{className:"_3-95",children:a.jsx(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"normal",children:g._("Streaming With")})}),a.jsx("div",{children:a.jsx(b("XUITokenizer.react"),{placeholder:g._("Add other streamers to this broadcast (optional)"),searchSource:this.props.searchSource})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoContentTagSelectorToken.react",["cx","fbt","AnyTokenSearchSource","ComposerVideoTabsIdentifiers","CompositeSearchSource","DOMQuery","React","ReactLayeredComponentMixin_DEPRECATED","SearchableEntry","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XUIAmbientNUX.react","XUIText.react","XUITokenizer.react","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=8,j=255;c=b("React").createClass({displayName:"VideoContentTagSelectorToken",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_compositeSearchSource:b("CompositeSearchSource"),propTypes:{accessToken:(a=b("prop-types")).string,isBroadcast:a.bool,logger:a.object,onChange:a.func,showTagSelectorNux:a.bool,value:a.array},getInitialState:function(){return{allowFreeForm:!0,currentEntries:[],disabled:!1,entries:[],queryString:"",showTagSelectorNux:this.props.showTagSelectorNux}},UNSAFE_componentWillMount:function(){var a=b("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",1).getURI();this._compositeSearchSource=new(b("CompositeSearchSource"))([new(b("WebAsyncSearchSource"))({queryRequests:[{uri:a}]})].concat(this.props.isBroadcast?[]:[new(b("AnyTokenSearchSource"))(function(a){var c=h._("Add a new tag \"{free form tag}\"",[h._param("free form tag",a)]);return new(b("SearchableEntry"))({uniqueID:a,title:c,auxiliaryData:{isFreeForm:!0}})})]))},componentDidMount:function(){this.props.value&&this.props.value.length>0&&this._onEntriesChange(this.props.value)},_isExceedingMaxTagCount:function(){return this.state.entries.length>=i},_onEntriesChange:function(a){this.props.onChange&&this.props.onChange(a),this.setState({entries:a})},_hasEntry:function(a){var b=a.getUniqueID(),c=a.getAuxiliaryData().isFreeForm,d=a.getTitle();a=this.state.entries;a=a.some(function(a){if(a.getUniqueID()===b)return!0;else if(c&&b===a.getTitle()||a.getAuxiliaryData().isFreeForm&&a.getUniqueID()===d)return!0;return!1});return a},_onAddEntryAttempt:function(a){__p&&__p();this._logEvent("content_tags_selected");if(this._hasEntry(a))return;var c=this.state.entries;if(this._isExceedingMaxTagCount(c))return;var d=a;a.getAuxiliaryData().isFreeForm&&(d=new(b("SearchableEntry"))({uniqueID:a.getUniqueID(),title:a.getUniqueID(),auxiliaryData:{isFreeForm:!0}}));c.push(d);this._onEntriesChange(c)},_onRemoveEntryAttempt:function(a){this._logEvent("content_tags_removed");var b=this.state.entries;this._hasEntry(a)&&b.splice(b.indexOf(a),1);this._onEntriesChange(b)},_hasFreeFormEntry:function(a,b){b=b.some(function(b){return a===b.getTitle()});return b},_onInputChange:function(a){a=a.target.value;var b=this._hasFreeFormEntry(a,this.state.entries.concat(this.state.currentEntries));this.setState({allowFreeForm:!b,queryString:a})},_onEntriesFound:function(a){var b=this._hasFreeFormEntry(this.state.queryString,a.concat(this.state.currentEntries));this.setState({allowFreeForm:this.state.allowFreeForm&&!b,currentEntries:a})},_logEvent:function(a,c){this.props.logger&&this.props.logger.logEvent(a,b("ComposerVideoTabsIdentifiers").BASIC,c)},renderLayers:function(){var a=null;if(this.state.showTagSelectorNux){var c;a=(c=b("React")).jsxs(b("XUIAmbientNUX.react"),{context:b("DOMQuery").find(document.body,".videoContentTagSelectorToken"),onCloseButtonClick:this._onNuxClose,position:"below",shown:!0,width:"custom",customwidth:j,children:[c.jsx("div",{children:c.jsx(b("XUIText.react"),{size:"meta1",weight:"bold",children:h._("Add Video Tags")})}),c.jsx("div",{children:c.jsx(b("XUIText.react"),{size:"meta1",children:h._("Tag topics and themes in this video to help reach audiences that may enjoy your content.")})})]})}return{tagNux:a}},renderNotice:function(){return!this._isExceedingMaxTagCount()?null:b("React").jsx("div",{className:"_5f81",children:b("React").jsx(b("XUIText.react"),{size:"meta1",display:"block",children:h._("You've added the maximum number of tags.")})})},render:function(){var a=this._compositeSearchSource,c={};this.state.allowFreeForm||(c[this.state.queryString]=new(b("SearchableEntry"))({uniqueID:this.state.queryString,title:this.state.queryString}));return b("React").jsxs("div",{children:[b("React").jsx(b("XUITokenizer.react"),{className:"videoContentTagSelectorToken",entries:this.state.entries,excludedEntries:c,limit:i,placeholder:h._("Add tags (ex: comedy, animals, make-up etc.)"),searchSource:a,onEntriesFound:this._onEntriesFound,onQueryStringChange:this._onInputChange,onRemoveEntryAttempt:this._onRemoveEntryAttempt,onAddEntryAttempt:this._onAddEntryAttempt,onInputFocus:this._onNuxClose}),this.renderNotice()]})}});e.exports=c}),null);
__d("LiveVideoBroadcastContentTagSelector.react",["ix","cx","fbt","Image.react","React","Tooltip.react","VideoContentTagSelectorToken.react","XUIGrayText.react","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsxs(b("XUIGrayText.react"),{className:"_3-95",display:"block",shade:"medium",size:"meta1",weight:"bold",children:[this.props.title,a.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Tags help make the video more discoverable. They aren't displayed to the public."),children:a.jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]}),a.jsx(b("VideoContentTagSelectorToken.react"),{accessToken:this.props.accessToken,isBroadcast:!0,showTagSelectorNux:this.props.shouldShowSelectorNUX,value:this.props.contentTags,onChange:this.props.onContentTagChange})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastFundraiserGoalInput.react",["cx","fbt","AdsCurrencyInput_DEPRECATED.react","PECurrency","React","XUIGrayText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=b("PECurrency").getCurrencySymbol(this.props.currency);return(a=b("React")).jsxs(a.Fragment,{children:[a.jsx("div",{className:"_3-95",children:a.jsx(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"normal",children:h._("Fundraiser Goal")})}),a.jsx(b("AdsCurrencyInput_DEPRECATED.react"),{className:"_2hey",currency:this.props.currency,height:"tall",maxLength:255,placeholder:c,value:this.props.fundraiserGoal,onDataUpdate:this.props.onFundraiserGoalChange})]})};return c}(b("React").PureComponent);a.defaultProps={currency:"USD"};e.exports=a}),null);
__d("LiveVideoBroadcastLanguageInput.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","React","Tooltip.react","XUIGrayText.react","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=i._("Select language");return(a=b("React")).jsxs("div",{children:[a.jsx("div",{className:"_3-95",children:a.jsxs(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"bold",children:[i._("Language"),a.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Select the primary language of the stream"),children:a.jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]})}),a.jsx(b("FDSDropdownSelector.react"),{placeholder:c,value:this.props.currentLanguage,onChange:this.props.onChange,children:this.props.languages.slice().sort().map(function(a){return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:a},a)})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XGamesVideoThumbnailPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/video/thumbnail/preview/",{container_width:{type:"Int",required:!0},container_height:{type:"Int",required:!0}})}),null);
__d("LiveVideoBroadcastUploadThumbnail.react",["ix","cx","fbt","BUIProgressBar.react","FileInput.react","FileInputUploader","Image.react","React","SimpleXUIDialog","Tooltip.react","TooltipLink.react","XGamesVideoThumbnailPreviewController","XUIButton.react","XUIGrayText.react","cxMargin","emptyFunction","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=328,k=250;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a){__p&&__p();a=a.target;if(!(a instanceof HTMLInputElement))return;if(!a.files||a.files.length===0)return;a=new(b("FileInputUploader"))(a).setURI(b("XGamesVideoThumbnailPreviewController").getURIBuilder().setInt("container_width",j).setInt("container_height",k).getURI());a.subscribe("failure",function(){b("SimpleXUIDialog").showConfirm("Could not upload the file, please try again","Uploading failed")});a.subscribe("success",function(a,b){a=b.response.payload;a&&a.photoID&&d.props.onChangeThumbnailUpload({previewURI:a.previewURI,thumbURI:a.thumbURI,photoID:a.photoID,uploadProgress:0})});a.subscribe("progress",function(a,b){a=b.event.total===0?100:Math.round(b.event.loaded/b.event.total*100);d.props.onChangeThumbnailUpload({previewURI:null,thumbURI:null,photoID:null,uploadProgress:a})});a.send()},d.$5=function(){d.props.onChangeThumbnailUpload(null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{children:[a.jsxs(b("XUIGrayText.react"),{className:"_3-95",display:"block",shade:"medium",size:"meta1",weight:"bold",children:[i._("Thumbnail"),a.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Upload your preferred thumbnail for the video"),children:a.jsx(b("Image.react"),{className:"_4vmq",src:g("127942")})})]}),this.$1()]})};d.$1=function(){var a=this.props.thumbnailUpload;return a&&a.photoID!==null?this.$2():this.$3()};d.$2=function(){var a=this.props.thumbnailUpload;return!a||a.photoID===null?b("React").jsx("div",{}):b("React").jsxs("div",{style:{position:"relative"},children:[b("React").jsx(b("Image.react"),{src:a.previewURI,style:{height:k,width:j}}),b("React").jsxs("div",{className:"_89qz",children:[this.$4(),b("React").jsx(b("XUIButton.react"),{href:{url:"#"},image:b("React").jsx(b("Image.react"),{src:g("320198")}),label:"Delete Photo",labelIsHidden:!0,onClick:this.$5})]})]})};d.$3=function(){var a=this.props.thumbnailUpload;if(a&&a.uploadProgress>0){var c=a.uploadProgress<100?"Uploaded "+a.uploadProgress+"%":"Processing";return b("React").jsx(b("TooltipLink.react"),{href:"#",tooltip:c,onClick:b("emptyFunction"),children:b("React").jsx(b("BUIProgressBar.react"),{flexibleWidth:!0,isBuffering:a.uploadProgress===100,padding:!1,percentage:a.uploadProgress})})}return this.$4()};d.$4=function(){return b("React").jsx(b("FileInput.react"),{accept:"image/*",multiple:!1,name:"thumbnail",onChange:this.$6,children:b("React").jsx(b("XUIButton.react"),{href:"#",label:"Choose Thumbnail"})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastVideoTitleInput.react",["cx","fbt","BUITextInput_DEPRECATED.react","React","XUIGrayText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isRequired?h._("Add a title for your live broadcast"):h._("Add a title for your live broadcast (optional)");return b("React").jsxs("div",{children:[b("React").jsxs("div",{className:"_3-95",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"medium",size:"meta1",weight:"bold",children:h._("Title")}),this.props.subtitle?b("React").jsx(b("XUIGrayText.react"),{className:"_3-99",shade:"light",size:"meta1",children:this.props.subtitle}):null]}),b("React").jsx(b("BUITextInput_DEPRECATED.react"),{className:"_2hey",height:"tall",maxLength:255,placeholder:a,value:this.props.title,onChange:this.props.onChange})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastMetadataSection.react",["cx","fbt","ColumbusLanguage","GameVideoAttributionConfig","LiveVideoBroadcastConstants","LiveVideoBroadcastContentTagSelector.react","LiveVideoBroadcastCoStreamerInput.react","LiveVideoBroadcastCrossshareGroupSelector.react","LiveVideoBroadcastFundraiserGoalInput.react","LiveVideoBroadcastGameSelectorGamerGraph.react","LiveVideoBroadcastLanguageInput.react","LiveVideoBroadcastUploadThumbnail.react","LiveVideoBroadcastVideoTitleInput.react","LiveVideoTJAppSelectorGatedModule","React","gkx","immutable"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("LiveVideoTJAppSelectorGatedModule").reactElement,j=b("LiveVideoBroadcastConstants").BROADCAST_STATE;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={title:c.props.title,fundraiserGoal:c.props.fundraiserGoal},c.$10=function(a){c.setState({title:a.target.value}),c.props.onTitleChange&&c.props.onTitleChange(a)},c.$11=function(a){c.setState({fundraiserGoal:a}),c.props.onFundraiserGoalChange&&c.props.onFundraiserGoalChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.broadcastState===j.EDITING;a=this.props.isPageTarget&&!a;if(this.props.hasGamingContext){var c=a;return b("React").jsxs("div",{children:[this.props.shouldShowGameSelector?this.$1():null,this.$2(),this.$3(),b("gkx")("1104307")?this.$4():null,this.$5(),this.props.shouldShowFundraiserGoal?this.$6():null,this.props.isPageTarget?this.$7():null,c?this.$8():null,b("gkx")("1014675")?this.$9():null]})}c=a&&b("gkx")("678850");return b("React").jsxs("div",{children:[this.$3(),this.$5(),this.props.isPageTarget?this.$7():null,this.props.shouldShowGameSelector?this.$1():null,this.props.shouldShowFundraiserGoal?this.$6():null,this.$2(),c?this.$8():null]})};d.$9=function(){return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastUploadThumbnail.react"),{thumbnailUpload:this.props.thumbnailUpload,onChangeThumbnailUpload:this.props.onChangeThumbnailUpload})})};d.$5=function(){return!b("GameVideoAttributionConfig").show_language_selector?null:b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastLanguageInput.react"),{currentLanguage:this.props.language,languages:Object.keys(b("ColumbusLanguage")).map(function(a){return b("ColumbusLanguage")[a]}),onChange:this.props.onLanguageChange})})};d.$4=function(){return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastCoStreamerInput.react"),{searchSource:null})})};d.$3=function(){return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastVideoTitleInput.react"),{isRequired:this.props.isTitleRequired,subtitle:this.props.isTitleRequired?h._("(required)"):null,title:this.state.title,onChange:this.$10})})};d.$7=function(){var a=h._("Tags");return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastContentTagSelector.react"),{accessToken:this.props.accessToken,contentTags:this.props.contentTags,shouldShowSelectorNUX:!1,title:a,onContentTagChange:this.props.onContentTagChange})})};d.$1=function(){var a=this.props.game?this.props.game:null;return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastGameSelectorGamerGraph.react"),{hasGamingContext:this.props.hasGamingContext,selectedGame:a,onGameChange:this.props.onGameChange})})};d.$2=function(){var a=i?b("React").jsx("div",{className:"_2pif",children:b("React").jsx(i,{selectedVideoTJApp:this.props.videoTJApp,onVideoTJAppChange:this.props.onVideoTJAppChange})}):null;return a};d.$8=function(){return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastCrossshareGroupSelector.react"),{actorID:this.props.actorID,hasGamingContext:this.props.hasGamingContext,selectedGroups:this.props.groups,onGroupsChange:this.props.onGroupsChange})})};d.$6=function(){return b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastFundraiserGoalInput.react"),{fundraiserGoal:this.state.fundraiserGoal,onFundraiserGoalChange:this.$11})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastMetadataSectionContainer.react",["cx","CurrentUser","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastMetadataSection.react","LiveVideoBroadcastUIStore","React","ShareDialogAudienceTypes","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastUIStore")]};c.calculateState=function(a,c){__p&&__p();a=b("LiveVideoBroadcastBroadcastStore").getState().toObject();a=a.actorID;var d=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),e=d.attributionTagSearchSource,f=d.contentTags,g=d.fundraiserGoal,h=d.language,i=d.selectedAttributionTag,j=d.selectedGame,k=d.selectedGroups,l=d.thumbnailUpload,m=d.videoTitle;d=d.videoTJApp;var n=b("LiveVideoBroadcastUIStore").getState().toObject(),o=n.accessToken,p=n.broadcastState,q=n.fundraiserEnabled,r=n.isFundraiserSelected,s=n.isShowPage;n=n.shareMode;n=n===b("ShareDialogAudienceTypes").PAGE;var t=!!c&&!!c.hasGamingContext,u=!b("CurrentUser").isWorkUser()&&t,v=b("gkx")("698293");q=q&&r&&v;return{accessToken:o,actorID:a,attributionTagSearchSource:e,broadcastState:p,contentTags:f,fundraiserGoal:g,hasGamingContext:t,isPageTarget:n,isTitleRequired:s||!!c&&!!c.isTitleRequired,language:h,selectedAttributionTag:i,selectedGame:j,selectedGroups:k,shouldShowFundraiserGoal:q,shouldShowGameSelector:u,thumbnailUpload:l,videoTitle:m,videoTJApp:d}};var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_21s8",children:b("React").jsx(b("LiveVideoBroadcastMetadataSection.react"),{accessToken:this.state.accessToken,actorID:this.state.actorID,attributionTag:this.state.selectedAttributionTag,broadcastState:this.state.broadcastState,contentTags:this.state.contentTags,fundraiserGoal:this.state.fundraiserGoal,game:this.state.selectedGame,groups:this.state.selectedGroups,hasGamingContext:this.state.hasGamingContext,isPageTarget:this.state.isPageTarget,isTitleRequired:this.state.isTitleRequired,language:this.state.language,searchSource:this.state.attributionTagSearchSource||{},shouldShowFundraiserGoal:this.state.shouldShowFundraiserGoal,shouldShowGameSelector:this.state.shouldShowGameSelector,thumbnailUpload:this.state.thumbnailUpload,title:this.state.videoTitle||"",videoTJApp:this.state.videoTJApp,onAttributionTagChange:this.$1,onChangeThumbnailUpload:this.$2,onContentTagChange:this.$3,onFundraiserGoalChange:this.$4,onGameChange:this.$5,onGroupsChange:this.$6,onLanguageChange:this.$7,onTitleChange:this.$8,onVideoTJAppChange:this.$9})})};d.$1=function(a){b("LiveVideoBroadcastActions").setSelectedAttributionTag(a)};d.$3=function(a){b("LiveVideoBroadcastActions").setContentTags(a)};d.$9=function(a){b("LiveVideoBroadcastActions").setVideoTJApp(a)};d.$5=function(a){b("LiveVideoBroadcastActions").setGame(a)};d.$7=function(a){b("LiveVideoBroadcastActions").setLanguage(a)};d.$8=function(a){b("LiveVideoBroadcastActions").setVideoTitle(a.target.value)};d.$6=function(a){b("LiveVideoBroadcastActions").setGroups(a)};d.$4=function(a){b("LiveVideoBroadcastActions").setFundraiserGoal(a)};d.$2=function(a){b("LiveVideoBroadcastActions").setThumbnailUpload(a)};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoBroadcastModerationSettings.react",["ix","cx","fbt","Image.react","InputLabelLabel_DEPRECATED.react","React","ReactComposerLiveBroadcastModerationSettingsSelector.react","Tooltip.react","XUIGrayText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_39ka",children:[a.jsxs(b("XUIGrayText.react"),{className:"_3-95",display:"block",shade:"medium",size:"meta1",weight:"bold",children:[i._("Moderation"),a.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Choose how viewers can interact with this video."),children:a.jsx(b("Image.react"),{className:"_5igb",src:g("481013")})})]}),a.jsx(b("InputLabelLabel_DEPRECATED.react"),{children:a.jsx(b("ReactComposerLiveBroadcastModerationSettingsSelector.react"),{canSeeCommentProtectedMode:this.props.canSeeCommentProtectedMode,commentModes:this.props.commentModes,isWoodhengePage:this.props.isWoodhengePage,onCommentModesChange:this.props.onCommentModesChange})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoUploadVideoListSectionContainer.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","ComposerVideoShowsActions","ComposerVideoShowsDispatcher","ComposerVideoShowsStore","FluxContainer","React","SUIAtlasTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorOption.react","SUITooltip.react","XShowPagesCreateSeasonDialogController","cxMargin","fbglyph","mediaManagerComposerCreatePlaylistAction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=35,k="new";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore"));b("ComposerVideoShowsActions").requestVideoListOptions(c.pageID);return d}c.getStores=function(){return[b("ComposerVideoShowsStore")]};c.calculateState=function(){var a=b("ComposerVideoShowsStore").getState().toObject(),c=a.isEpisode,d=a.shouldShowPlaylistSelector,e=a.playlistIDs,f=a.seasonID,g=a.playlistOptions;a=a.seasonOptions;return{isEpisode:c,shouldShowPlaylistSelector:d,playlistIDs:e,seasonID:f,playlistOptions:g,seasonOptions:a}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.pageID&&a.pageID!==this.props.pageID&&b("ComposerVideoShowsActions").requestVideoListOptions(a.pageID)};d.render=function(){return b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:b("React").jsxs("div",{className:"_3-8y",children:[this.$1(),this.$2()]})})};d.$2=function(){var a=this;return this.state.shouldShowPlaylistSelector?b("React").jsxs(b("SUISelector.react"),{canSelectMultiple:!0,button:b("React").jsx(b("SUIButton.react"),{icon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("123408"),srcDisabled:g("126612")}),label:b("React").jsx(b("SUITooltip.react"),{position:"right",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("You can add videos and episodes to playlists"),children:this.$3()})}),onChange:function(c){c.length>0&&c[c.length-1]===k?b("mediaManagerComposerCreatePlaylistAction")(a.props.pageID,"video_list_selector"):b("ComposerVideoShowsActions").setPlaylists(c)},value:this.state.playlistIDs,className_DEPRECATED:"_4gt6",children:[Object.keys(this.state.playlistOptions).map(function(c){return b("React").jsx(b("SUISelectorOption.react"),{value:c,children:a.state.playlistOptions[c]},c)}),b("React").jsx(b("SUISelectorOption.react"),{value:k,children:i._("+ Create New Playlist")},k)]}):b("React").jsx("div",{})};d.$3=function(){if(this.state.playlistIDs.length===0||Object.keys(this.state.playlistOptions).length===0)return i._("Add to Playlist");var a=this.state.playlistIDs,c=this.state.playlistOptions[a[0]],d=1;while(c.length<j&&d<a.length)c+=", "+this.state.playlistOptions[a[d]],d+=1;if(c.length>=j)return b("React").jsxs("span",{children:[c.slice(0,j-10),i._("... {number of hidden selected playlists} more",[i._param("number of hidden selected playlists",a.length-d+1)])]});else return b("React").jsx("span",{children:c})};d.$4=function(){var a=this.state.seasonOptions;if(this.state.seasonID)return this.$5(a[this.state.seasonID]);else return i._("Add to Season")};d.$1=function(){var a=this,c,d=this.state.seasonOptions;return(c=b("React")).jsxs(b("SUISelector.react"),{button:c.jsx(b("SUIButton.react"),{icon:c.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("123652"),srcDisabled:g("126856")}),label:c.jsx(b("SUITooltip.react"),{position:"right",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("Only episodes can be added to seasons"),children:this.$4()}),disabled:!this.state.isEpisode}),onChange:function(c){if(c===k){var d=b("XShowPagesCreateSeasonDialogController").getURIBuilder().setFBID("page_id",a.props.pageID).setEnum("entry_point","video_list_selector").getURI();d=new(b("AsyncRequest"))().setURI(d);b("AsyncDialog").send(d)}else b("ComposerVideoShowsActions").setSeason(c)},value:this.state.seasonID,className_DEPRECATED:"_4gt6",disabled:!this.state.isEpisode,children:[c.jsx(b("SUISelectorOption.react"),{value:null,children:i._("Not in any season")},0),Object.keys(this.state.seasonOptions).map(function(c){return b("React").jsx(b("SUISelectorOption.react"),{value:c,children:a.$5(d[c])},c)}),c.jsx(b("SUISelectorOption.react"),{value:k,children:i._("+ Create New Season")},k)]})};d.$5=function(a){return i._("Season {seasonNumber}",[i._param("seasonNumber",a)])};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("VideoUploadVideoListShowsV2SectionContainer.react",["cx","fbt","ComposerVideoShowsActions","ComposerVideoShowsDispatcher","ComposerVideoShowsStore","ComposerVideoUploadSection.react","FluxContainer","React","SUIBusinessThemeContainer.react","VideoSeriesAndEpisodeSelector.react","cxMargin","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore"));d.props.videoID!=null&&b("ComposerVideoShowsActions").requestShowsV2VideoData(d.props.videoID);b("ComposerVideoShowsActions").requestVideoListOptions(c.pageID);return d}var d=c.prototype;d.componentDidUpdate=function(a){this.props.videoID!=null&&a.videoID!==this.props.videoID&&b("ComposerVideoShowsActions").requestShowsV2VideoData(this.props.videoID)};c.getStores=function(){return[b("ComposerVideoShowsStore")]};c.calculateState=function(){var a=b("ComposerVideoShowsStore").getState().toObject(),c=a.seasonID,d=a.seriesID,e=a.seriesOptionsMap;a=a.seriesToSeasonOptionsMap;return{seasonID:c,seriesID:d,seriesOptionsMap:e,seriesToSeasonOptionsMap:a}};d.UNSAFE_componentWillReceiveProps=function(a){a.pageID&&a.pageID!==this.props.pageID&&b("ComposerVideoShowsActions").requestVideoListOptions(a.pageID)};d.render=function(){return this.state.seriesOptionsMap.size===0?null:b("gkx")("1088925")?b("React").jsx(b("ComposerVideoUploadSection.react"),{className:"_3-8z",title:h._("Add to Series"),children:b("React").jsx(b("SUIBusinessThemeContainer.react"),{children:b("React").jsx("div",{className:"_4gt6",children:b("React").jsx(b("VideoSeriesAndEpisodeSelector.react"),{disabled:!1,seasonID:this.state.seasonID,seriesID:this.state.seriesID,seriesOptionsMap:this.state.seriesOptionsMap,seriesToSeasonOptionsMap:this.state.seriesToSeasonOptionsMap,onChange:this.$1,onLiveComposer:!0})})})}):null};d.$1=function(a){if(a==null)b("ComposerVideoShowsActions").setSeason(null),b("ComposerVideoShowsActions").setSeries(null);else{a=a.split(":");a.length>1?(b("ComposerVideoShowsActions").setSeries(a[0]),b("ComposerVideoShowsActions").setSeason(a[1])):a.length>0&&(b("ComposerVideoShowsActions").setSeries(a[0]),b("ComposerVideoShowsActions").setSeason(null))}};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("VideoUploadVideoTypeSectionContainer.react",["cx","fbt","ComposerVideoShowsActions","ComposerVideoShowsDispatcher","ComposerVideoShowsStore","ComposerVideoUploadSection.react","FluxContainer","React","SUIBusinessThemeContainer.react","SUIRadioList.react","XUIGrayText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore"));return c}c.getStores=function(){return[b("ComposerVideoShowsStore")]};c.calculateState=function(){var a=b("ComposerVideoShowsStore").getState().toObject();a=a.isEpisode;return{isEpisode:a}};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.state.isEpisode&&a.duration&&this.props.minEpisodeDuration&&a.duration<this.props.minEpisodeDuration&&b("ComposerVideoShowsActions").setIsEpisode(!1)};d.$1=function(){var a=this.props.duration,b=this.props.minEpisodeDuration;return a&&b&&a<b?h._({"*":"Episodes must be longer than {seconds} seconds."},[h._param("seconds",b,[0,b])]):""};d.render=function(){var a;return(a=b("React")).jsx(b("ComposerVideoUploadSection.react"),{className:"_3-98",title:h._("Video Type"),subtitle:h._("(required)"),tooltip:h._("Your followers will get notified whenever you publish a new episode. Both episodes and videos will appear in News Feed and on your Show Page."),children:a.jsx(b("SUIBusinessThemeContainer.react"),{children:a.jsxs("div",{children:[a.jsx(b("XUIGrayText.react"),{size:"meta1",shade:"light",children:h._("Episodes are the core content of your show. Other videos, like bonus footage, should be added as a Video.")}),this.$2()]})})})};d.$2=function(){var a=!1;this.props.duration&&this.props.minEpisodeDuration&&(a=this.props.duration<this.props.minEpisodeDuration);return b("React").jsxs(b("SUIRadioList.react"),{value:this.state.isEpisode,onChange:function(a){b("ComposerVideoShowsActions").setIsEpisode(a)},className:"_3x8a",children:[b("React").jsx(i,{disabled:a,tooltip:this.$1(),value:!0,className:"_35rm",children:h._("Episode")}),b("React").jsx(i,{value:!1,className:"_35rm",children:h._("Video")})]})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastComposerRHC.react",["ix","cx","fbt","ComposerVideoUploadSection.react","CopyrightReferenceCategorySelector.react","CurrentUser","FDSGuidanceCard.react","FDSGuidanceCardCloseButton.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentButton.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSSpinner.react","Image.react","JSResource","Link.react","LiveAutoCaptionToggleContainer.react","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastAPIActions","LiveVideoBroadcastCameraSettingsContainer.react","LiveVideoBroadcastComposer.react","LiveVideoBroadcastComposerCrosspostNUX.react","LiveVideoBroadcastComposerCrosspostSelectionPane.react","LiveVideoBroadcastComposerCrosspostToggle.react","LiveVideoBroadcastComposerLiveProducerUpsellNUX.react","LiveVideoBroadcastComposerRHCCheckbox.react","LiveVideoBroadcastComposerRHCDeleteStreamBehaviorCheckbox.react","LiveVideoBroadcastComposerRHCIGCrosspostEnabledCheckbox.react","LiveVideoBroadcastComposerRHCPairedEncoderSection.react","LiveVideoBroadcastComposerRHCPlayback","LiveVideoBroadcastComposerRHCSection.react","LiveVideoBroadcastComposerRHCSphericalSection.react","LiveVideoBroadcastComposerRHCStarsGoalSection.react","LiveVideoBroadcastConstants","LiveVideoBroadcastCrosspostErrorMessageWrapper.react","LiveVideoBroadcastCrossshareGroupSelector.react","LiveVideoBroadcastErrorLogsContainer.react","LiveVideoBroadcastEventPromotionOptions.react","LiveVideoBroadcastEventPromotionOptionsWithSearch.react","LiveVideoBroadcastEventTicketPromotionSection.react","LiveVideoBroadcastGameSelectorGamerGraph.react","LiveVideoBroadcastHealthUtils","LiveVideoBroadcastMetadataSectionContainer.react","LiveVideoBroadcastModerationSettings.react","PageContentTabRightsManagerStore","PagesPlatformLayout.react","React","ReactComposerJoinGroupCTAAttachmentActions","ReactComposerLiveBroadcastPreviewEmbedDialog.react","RelayFBEnvironment","RelayFBLiveEnvironment","RelayModern","ShareDialogAudienceTypes","TooltipData","URI","VideoBroadcastFlowTypes","VideoCopyrightGeoSelector.react","VideoCopyrightMatchRuleSelector.react","VideoCopyrightMonitoringSelector.react","VideoCopyrightWhitelistSection.react","VideoUploadVideoListSectionContainer.react","VideoUploadVideoListShowsV2SectionContainer.react","VideoUploadVideoTypeSectionContainer.react","XCometLiveProducerControllerRouteBuilder","XGamesVideoStreamerDashboardController","XMediaManagerController","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUIGrayText.react","XUINotice.react","XUIPageNavigation.react","XUIPageNavigationGroup.react","XUIPageNavigationItem.react","XUIText.react","asset","cxMargin","fbglyph","gkx","idx","immutable","isBusinessURI","lazyLoadComponent","nullthrows","LiveVideoBroadcastComposerRHCDeleteStreamBehaviorQuery.graphql","LiveVideoBroadcastComposerRHCIGCrosspostEnabledQuery.graphql","LiveVideoBroadcastComposerRHCStarsGoalsQuery.graphql","LiveVideoBroadcastComposerRHCPageOwnedEventsQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n,o=(a=b("LiveVideoBroadcastConstants")).BROADCAST_STATE,p=a.ENCODER_TYPE,q=a.INPUT_SOURCE,r=a.MAX_CROSSPOST_PAGES_IN_COMPACT_VIEW,s=a.RHC_TAB_TYPE,t=b("PagesPlatformLayout.react").LayoutColumn,u=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var v=b("VideoBroadcastFlowTypes").BroadcastPlaybackMode,w=b("lazyLoadComponent")(b("JSResource")("LiveVideoBroadcastPollCreationSection.react").__setRef("LiveVideoBroadcastComposerRHC.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=!1,d.state={showAllCrosspostPages:!1,showEmbedDialog:!1,showEventLogDialog:!1,showLiveProducerUpsellCard:b("gkx")("1187028")},d.$4=function(a){d.$5(a)},d.$6=function(a){b("LiveVideoBroadcastActions").clearBroadcastID();b("LiveVideoBroadcastActions").clearAPIBroadcastID();d.props.isRehearsal&&b("LiveVideoBroadcastAPIActions").setIsRehearsal(!1);b("ReactComposerJoinGroupCTAAttachmentActions").removeJoinGroupCTAAttachment(d.props.contextConfig.composerID);if(a===b("ShareDialogAudienceTypes").OWN){a={audience:a};d.$5(a)}},d.$8=function(){d.setState({showEmbedDialog:!1})},d.$9=function(){d.setState({showEmbedDialog:!0})},d.$10=function(){d.setState({showEventLogDialog:!1})},d.$11=function(){d.setState({showEventLogDialog:!0})},d.$32=function(){return d.$1},d.$33=function(){return d.$2},d.$37=function(){__p&&__p();var a=d.props,c=a.contextConfig;a=a.videoID;if(a==null)return;if((c==null?void 0:c.composerType)==="games_video_streamer_dashboard"){b("LiveVideoBroadcastActions").hideWarningOnExit();c=(c=d.$36())!=null?c:window.location.href;c={videoID:a,referral_url:c};c=b("XCometLiveProducerControllerRouteBuilder").buildURL(c);c=d.$35(c);(n||(n=b("URI"))).go(c)}else{c={videoID:a};a=b("XCometLiveProducerControllerRouteBuilder").buildURL(c);c=d.$35(a);(n||(n=b("URI"))).goURIOnNewWindow(c)}},d.$38=function(){b("LiveVideoBroadcastActions").tryLiveProducerCardClicked(),d.$37(),d.setState({showLiveProducerUpsellCard:!1})},d.$39=function(){d.setState({showLiveProducerUpsellCard:!1})},d.$45=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingPageStarsGoals();return null}return a==null||d.props.broadcastID==null?null:b("React").jsx(b("LiveVideoBroadcastComposerRHCStarsGoalSection.react"),{broadcastID:d.props.broadcastID,starsGoals:a.video,videoID:b("nullthrows")(d.props.videoID,"VideoID should not be null for getting Stars Goals")})},d.$40=function(a){__p&&__p();var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingPromotedEvents();return null}if(a==null)return null;if(d.props.canPromotePublicEvents===!0&&d.props.targetID!=null)return b("React").jsx(b("LiveVideoBroadcastEventPromotionOptionsWithSearch.react"),{targetID:d.props.targetID,videoID:b("nullthrows")(d.props.videoID,"VideoID should not be null for getting event promotion options."),videoWithEventPromotionOptions:a==null?void 0:a.video});else return b("React").jsx(b("LiveVideoBroadcastEventPromotionOptions.react"),{videoID:b("nullthrows")(d.props.videoID,"VideoID should not be null for getting event promotion options."),videoWithEventPromotionOptions:a==null?void 0:a.video})},d.$68=function(){d.setState({showAllCrosspostPages:!0})},d.$15=function(){b("LiveVideoBroadcastActions").resortCrosspostConfigs(),d.setState({showAllCrosspostPages:!1})},d.$88=function(a){return b("React").jsx(b("LiveVideoBroadcastComposerCrosspostToggle.react"),{config:a,onToggle:d.$16},a.id)},d.$97=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastMetadata();return null}return b("React").jsx(b("LiveVideoBroadcastComposerRHCDeleteStreamBehaviorCheckbox.react"),{liveStreamMetadata:a==null?void 0:a.video,videoID:b("nullthrows")(d.props.videoID,"video id is null")})},d.$98=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastMetadata();return null}return b("React").jsx(b("LiveVideoBroadcastComposerRHCIGCrosspostEnabledCheckbox.react"),{liveStreamMetadata:a==null?void 0:a.video,videoID:b("nullthrows")(d.props.videoID,"video id is null")})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$5=function(a){var c=b("LiveVideoBroadcastAfterBootloadUtils").getIDsFromTarget(a,this.props.accountID);c=c.targetID;c!==this.props.targetID&&(b("LiveVideoBroadcastAPIActions").setIsRehearsal(!1),b("LiveVideoBroadcastActions").setTarget(a),b("ReactComposerJoinGroupCTAAttachmentActions").removeJoinGroupCTAAttachment(this.props.contextConfig.composerID))};d.$7=function(a){b("LiveVideoBroadcastActions").setSelectedRHCTab(a)};d.$12=function(){b("LiveVideoBroadcastActions").copyEmbedCodeClicked()};d.$13=function(){return!this.state.showEmbedDialog||!this.props.embedHTML?null:b("React").jsx(b("ReactComposerLiveBroadcastPreviewEmbedDialog.react"),{accessToken:"",broadcastID:"",embeddedHtml:this.props.embedHTML,shown:this.state.showEmbedDialog,onCopy:this.$12,onToggle:this.$8})};d.$14=function(){return!this.state.showEventLogDialog?null:b("React").jsx(b("LiveVideoBroadcastErrorLogsContainer.react"),{videoID:b("nullthrows")(this.props.videoID,"video id is null"),onClose:this.$10})};d.render=function(){__p&&__p();var a=this.props.shareMode==="page"&&this.props.isEmbeddable?b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({className:"_2ip6",image:b("React").jsx(b("Image.react"),{src:g("129069")}),label:"",labelIsHidden:!0,use:"default",onClick:this.$9},b("TooltipData").propsFor(i._("Embed this video")))):null,c=null,d=b("LiveVideoBroadcastHealthUtils").shouldShowHealthTray(this.props.broadcastState,this.props.apiLivePreviewPlaying,this.props.inputSource);if(!d&&this.props.errorCount){d=i._("Event Logs ({event_count})",[i._param("event_count",this.props.errorCount)]);c=b("React").jsx(b("XUIButton.react"),{className:"_2ip6",label:d,use:"default",onClick:this.$11})}d=this.props.broadcastState===o.EDITING?null:b("React").jsxs("div",{className:"_609-",children:[this.props.topButton,this.props.topButton?b("React").jsx("hr",{className:"_4ela"}):null,a,c,this.props.actionButton]});a=this.props;c=a.canSeeCrosspostingOption;a=a.crosspostingConfig;if(this.state.showAllCrosspostPages&&c&&a!=null)return b("React").jsx("div",{className:"_609_",children:b("React").jsx(b("LiveVideoBroadcastComposerCrosspostSelectionPane.react"),{configs:a,onClosePane:this.$15,onToggle:this.$16,onToggleAll:this.$17})});c=null;a=null;switch(this.props.selectedRHCTab){case s.POST:c=this.$18();a=this.$19()&&b("React").jsx("div",{className:"_p5q",children:b("React").jsx(b("XUIText.react"),{size:"meta1",weight:"normal",children:i._("Choose where to post your live broadcast:")})});break;case s.SETTINGS:c=this.$20();break;case s.MONETIZATION:c=this.$21();break;case s.TOOLS:c=this.$22();break;case s.DEBUG:c=this.$23();break;default:this.props.selectedRHCTab;break}return b("React").jsxs(t,{className:"_609_",children:[this.$24(),b("React").jsxs("div",{className:"_22fx",children:[a,c]}),d,this.$13(),this.$14(),this.$25(),this.$26(),this.$27()]})};d.$24=function(){__p&&__p();var a=this;if(this.props.isBroadcastStarting)return null;if(!this.$28()&&!this.$29()&&!this.props.showToolsTab)return this.$30();var c=this.$28()?b("React").jsx(b("XUIPageNavigationItem.react"),{"data-testid":"settings-tab",ref:function(b){return a.$1=b},children:i._("Settings")},s.SETTINGS):null,d=this.$29()?b("React").jsx(b("XUIPageNavigationItem.react"),{children:i._("Monetization")},s.MONETIZATION):null,e=b("gkx")("783499");e=this.props.showToolsTab?b("React").jsx(b("XUIPageNavigationItem.react"),{ref:function(b){return a.$2=b},children:e?i._("Engage Your Audience"):i._("Interactive")},s.TOOLS):null;var f=this.$31()?b("React").jsx(b("XUIPageNavigationItem.react"),{children:i._("Debug")},s.DEBUG):null;return b("React").jsx(b("XUICard.react"),{className:"_609r",children:b("React").jsx(b("XUIPageNavigation.react"),{activeTabKey:this.props.selectedRHCTab,className:"_619c",onTabClick:this.$7,children:b("React").jsxs(b("XUIPageNavigationGroup.react"),{width:"340",children:[b("React").jsx(b("XUIPageNavigationItem.react"),{children:i._("Post")},s.POST),c,d,e,f]})})})};d.$30=function(){var a=this.props.broadcastState===o.EDITING||this.props.inputSource===q.EDIT_SCHEDULE?i._("Edit Broadcast"):i._("Create a Live Broadcast");return b("React").jsx("div",{className:"_609r",children:b("React").jsx("div",{className:"_609s",children:b("React").jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:a})})})};d.$34=function(){return this.props.videoID!=null&&this.props.broadcastState==="PREVIEW"&&(this.props.contextConfig.composerType!=="games_video_streamer_dashboard"||b("gkx")("1235824"))};d.$35=function(a){a=new(n||(n=b("URI")))(a).getQualifiedURI();return b("isBusinessURI")(a)?a.setSubdomain("www").toString():a.toString()};d.$36=function(){var a=this.props.targetID;if(a==null)return null;return b("gkx")("1237352")?b("XMediaManagerController").getURIBuilder().setFBID("selected_single_page_id",a).setString("tab","streaming_live_dashboard").getURI().getQualifiedURI().toString():b("XGamesVideoStreamerDashboardController").getURIBuilder().setString("page",a).getURI().getQualifiedURI().toString()};d.$26=function(){return this.$34()&&this.props.shouldShowLiveProducerUpsellNux===!0&&this.props.videoID!=null?b("React").jsx(b("LiveVideoBroadcastComposerLiveProducerUpsellNUX.react"),{navigateToLiveProducer:this.$37}):b("React").jsx(b("React").Fragment,{})};d.$27=function(){if(this.$34()===!1||this.state.showLiveProducerUpsellCard!==!0||this.props.shouldShowLiveProducerUpsellNux!==!1)return b("React").jsx(b("React").Fragment,{});this.$3===!1&&(b("LiveVideoBroadcastActions").tryLiveProducerCardShown(),this.$3=!0);return b("React").jsx("div",{className:"_8q1y",children:b("React").jsxs(b("FDSGuidanceCard.react"),{action:b("React").jsx(b("FDSGuidanceCardCloseButton.react"),{onPress:this.$39}),category:"new-products-and-features",children:[b("React").jsx(b("FDSGuidanceCardHeader.react"),{children:i._("Try the New Design for Going Live")}),b("React").jsxs(b("FDSGuidanceCardContent.react"),{children:[b("React").jsx(b("FDSGuidanceCardContentText.react"),{children:i._("We've designed a new way to go live on Facebook. Try the pre-release version for an updated way to connect and interact with your audience. You can easily switch back to the current version.")}),b("React").jsx(b("FDSGuidanceCardContentButton.react"),{label:i._("Try Live Producer"),use:"special",onPress:this.$38})]})]})})};d.$25=function(){var a=this.props,c=a.crosspostingConfig;a=a.shouldShowCrosspostingNux;return c==null?null:b("React").jsx(b("LiveVideoBroadcastComposerCrosspostNUX.react"),{contextRef:this.$32,crosspostConfigs:c,shouldShowNUX:a||!1})};d.$19=function(){return this.props.broadcastState!==o.EDITING&&this.props.inputSource!==q.EDIT_SCHEDULE&&this.props.contextConfig.composerType!=="social_plugin"&&!this.props.isBroadcastStarting};d.$18=function(){var a=null,c=null,d=null;this.props.isBroadcastStarting||(a=b("React").jsx(b("LiveVideoBroadcastComposer.react"),{actorID:this.props.actorID,broadcastID:this.props.broadcastID,broadcastState:this.props.broadcastState,canEnableLiveCoverVideo:this.props.canEnableLiveCoverVideo,composerPrivacySelector:this.props.composerPrivacySelector,config:this.props.config,contextConfig:this.props.contextConfig,enableTaggers:this.props.enableTaggers,forceNoLargeText:!0,fundraiserEnabled:this.props.fundraiserEnabled,isLiveCoverVideoEnabled:this.props.isLiveCoverVideoEnabled,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,shareMode:this.props.shareMode,showBreakingNews:this.props.showBreakingNews,showJoinGroupCTA:this.props.showJoinGroupCTA,showLiveChallengeSelector:this.props.showLiveChallengeSelector,showShareSurfaceSelector:this.props.showShareSurfaceSelector,showSurfaceSelector:this.$19(),sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetSelectorProps:this.props.targetSelectorProps,targetingEnabled:this.props.targetingEnabled,videoID:this.props.videoID,onAudienceTargetChange:this.$4,onAudienceTypeChange:this.$6}),d=this.props.showVideoSettings&&this.props.selectedVideoInputSource?b("React").jsx(b("LiveVideoBroadcastCameraSettingsContainer.react"),{selectedVideoInputSource:this.props.selectedVideoInputSource,showScreenSharingOption:this.props.showScreenSharingOption}):null);c=this.props.showMetadataInput&&!this.props.isBroadcastStarting?b("React").jsx(b("LiveVideoBroadcastMetadataSectionContainer.react"),{hasGamingContext:this.props.hasGamingContext,isTitleRequired:this.props.isTitleRequired}):null;var e=this.props.targetID?this.props.isShowPage?b("React").jsxs("div",{className:"_kgu",children:[b("React").jsx(b("VideoUploadVideoTypeSectionContainer.react"),{composerID:this.props.contextConfig.composerID,pageID:this.props.targetID}),b("React").jsx(b("VideoUploadVideoListSectionContainer.react"),{composerID:this.props.contextConfig.composerID,pageID:this.props.targetID})]}):b("React").jsx("div",{className:"_kgu",children:b("React").jsx(b("VideoUploadVideoListShowsV2SectionContainer.react"),{pageID:this.props.targetID,videoID:this.props.videoID})}):null,f=!this.props.isBroadcastStarting&&this.props.inputSource===q.CAMERA&&b("React").jsx("div",{className:"_kgu",children:b("React").jsx(b("LiveAutoCaptionToggleContainer.react"),{})}),g=this.props.videoID!=null&&this.props.shareMode==="page"&&this.props.targetID!=null&&b("React").jsx(u,{cacheConfig:{force:!1},environment:b("RelayFBEnvironment"),query:A,render:this.$40,variables:{video_id:this.props.videoID}});return b("React").jsxs("div",{children:[a,d,c,e,f,g]})};d.$28=function(){return this.$41()||this.$42()&&this.props.broadcastState===o.EDITING||!!this.props.showLiveSettings&&this.props.broadcastState!==o.EDITING};d.$41=function(){var a=this.props,b=a.crosspostingConfig;a=a.canSeeCrosspostingOption;return!!a&&b!=null&&b.length>0};d.$29=function(){return!1};d.$43=function(){return!b("CurrentUser").isWorkUser()};d.$31=function(){return b("gkx")("1014105")};d.$44=function(){return this.props.shareMode==="page"&&b("gkx")("678844")};d.$42=function(){return this.$43()||this.$44()};d.$46=function(){var a=this.props,c=a.shareMode,d=a.canSetStarsGoal;a=a.targetID;return c!=="page"||!d||a==null?null:b("React").jsx(u,{cacheConfig:{force:!0},environment:b("RelayFBLiveEnvironment"),query:z,render:this.$45,variables:{video_id:this.props.videoID}})};d.$22=function(){var a=this.props.accountID;return!this.props.showToolsTab||a==null?null:b("React").jsxs("div",{children:[this.props.canEnableEventTicketPromotion&&b("React").jsx(b("LiveVideoBroadcastEventTicketPromotionSection.react"),{enabled:this.props.enableEventTicketPromotion,onChange:this.$47}),this.$46(),b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0,size:"small"}),children:b("React").jsx(w,{accountID:a,actorID:this.props.actorID,broadcastState:this.props.broadcastState,is360Video:this.props.is360Video,shareMode:this.props.shareMode,videoID:this.props.videoID})})]})};d.$23=function(){var a=this.props.broadcastID,c=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("515026")}),d=i._("Debug Tool Links (FB-Only)");if(a==null)return b("React").jsx("div",{className:"_1q75",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:c,sectionTitle:d,startOpen:!0,children:b("React").jsx(b("XUIText.react"),{children:i._("Broadcast ID not found.")})})});var e="https://our.internmc.facebook.com",f=b("React").jsx("div",{className:"_3-8s _3-8p",children:b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({href:e+"/intern/facecast/debug?video_broadcast_id="+a,image:b("React").jsx(b("Image.react"),{src:g("502798")}),label:i._("Open in Facecast"),target:"_blank"},b("TooltipData").propsFor(i._("Inspect this broadcast in Facecast."),"above")))});e=b("React").jsx("div",{className:"_3-8s _3-8p",children:b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({href:e+"/intern/videoinfra/fblive/replay?targetBroadcastId="+a,image:b("React").jsx(b("Image.react"),{src:g("1014369")}),label:i._("Stream to Broadcast"),target:"_blank"},b("TooltipData").propsFor(i._("Open the FBLive Replay tool and stream to this broadcast."),"below")))});return b("React").jsx("div",{className:"_1q75",children:b("React").jsxs(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:c,sectionTitle:d,startOpen:!0,children:[f,e]})})};d.$20=function(){return b("React").jsxs("div",{children:[this.$48(),this.$49(),this.$50(),this.$51(),this.$52(),this.$53(),this.$54()]})};d.$55=function(a){b("LiveVideoBroadcastAPIActions").setEmbeddable(a.target.checked)};d.$56=function(a){b("LiveVideoBroadcastAPIActions").setShouldExpireAfterGoLive(a.target.checked)};d.$57=function(a){b("LiveVideoBroadcastAPIActions").setContinuous(a.target.checked)};d.$58=function(a){b("LiveVideoBroadcastAPIActions").setCommentatingDisabled(a.target.checked)};d.$59=function(a){b("LiveVideoBroadcastAPIActions").setIsrEnabled(a.target.checked)};d.$60=function(a){b("LiveVideoBroadcastAPIActions").setShouldShowGraphicContentWarning(a.target.checked)};d.$61=function(a){b("LiveVideoBroadcastActions").setRewindEnabled(a.target.checked)};d.$62=function(a){b("LiveVideoBroadcastActions").setContentProtectionEnabled(a.target.checked)};d.$63=function(a){b("LiveVideoBroadcastAPIActions").setCopyrighted(a.target.checked)};d.$64=function(a){b("LiveVideoBroadcastAPIActions").setCopyrightRuleID(a)};d.$65=function(a){b("LiveVideoBroadcastAPIActions").setCopyrightMonitoringType(a.value)};d.$66=function(a){b("LiveVideoBroadcastAPIActions").setCopyrightContentCategory(a)};d.$67=function(a){b("LiveVideoBroadcastAPIActions").setBroadcastPlaybackMode(v[a.target.value])};d.$16=function(a,c){b("LiveVideoBroadcastActions").setCrosspostToPage(a.id,c)};d.$17=function(a){b("LiveVideoBroadcastActions").setCrosspostToAllPages(a)};d.$69=function(a,c){b("LiveVideoBroadcastAPIActions").setCopyrightOwnershipCountries(a,c)};d.$70=function(a){b("LiveVideoBroadcastAPIActions").updateCopyrightWhitelistedFBUsers(a.slice())};d.$71=function(a){b("LiveVideoBroadcastAPIActions").updateCopyrightWhitelistedIGUserNames(a.slice())};d.$72=function(a){b("LiveVideoBroadcastAPIActions").setIsRehearsal(a.currentTarget.checked)};d.$47=function(a){b("LiveVideoBroadcastAPIActions").setEnableEventTicketPromotion(a)};d.$49=function(){var a=this.$73(),c=a!==null;if(!this.props.showLiveSettings||this.props.broadcastState===o.EDITING&&!c)return null;c=i._("LIVE VIDEO");var d=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("369448")});a=this.props.broadcastState===o.EDITING?b("React").jsx("div",{children:a}):b("React").jsxs("div",{children:[this.$74(),this.$75(),this.$76(),this.$77(),this.$78(),this.$79(),this.$80(),this.$81(),this.$82(),this.$83(),this.$84(),a]});return b("React").jsx("div",{className:"_1q75","data-testid":"live-video-section",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{"data-testid":"live-video-section-toggle",glyph:d,sectionTitle:c,startOpen:!0,children:a})})};d.$50=function(){return!this.props.showBroadcastPlaybackModeOption||this.props.broadcastPlaybackMode==null?null:b("React").jsx(b("LiveVideoBroadcastComposerRHCPlayback"),{broadcastPlaybackMode:this.props.broadcastPlaybackMode,onBroadcastPlaybackModeChange:this.$67})};d.$48=function(){var a=this.props,c=a.broadcastID,d=a.broadcastState,e=a.encoders,f=a.selectedEncoderType;a=a.videoID;return d===o.EDITING||f!==p.PAIRED_ENCODER||c==null||e==null||a==null||e.length<1?null:b("React").jsx(b("LiveVideoBroadcastComposerRHCPairedEncoderSection.react"),{broadcastID:c,encoders:e,isBackupStreamEnabled:this.props.hasBackupStreamURL,videoID:a})};d.$52=function(){if(!this.props.showLiveSettings||this.props.broadcastState===o.EDITING||this.props.inputSource===q.EDIT_SCHEDULE)return null;var a=i._("360 VIDEO"),c=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("446625")});return b("React").jsx("div",{className:"_1q75","data-testid":"360-section",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:c,sectionTitle:a,startOpen:!0,children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSphericalSection.react"),{is360Audio:this.props.is360Audio,is360Video:this.props.is360Video,selectorValue:this.props.sphericalConfigSelectorValue,singleFisheyeFOV:this.props.singleFisheyeFOV})})})};d.$51=function(){var a;if(!this.$42())return null;var c=this.props.metadataConfig&&this.props.metadataConfig.selectedGame?this.props.metadataConfig.selectedGame:null,d=this.props.metadataConfig&&this.props.metadataConfig.selectedGroups?this.props.metadataConfig.selectedGroups:b("immutable").List(),e=i._("GAMING"),f=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("438905")});c=this.$43()?b("React").jsx(b("LiveVideoBroadcastGameSelectorGamerGraph.react"),{selectedGame:c,onGameChange:this.$85}):null;a=this.$44()?b("React").jsx("div",{className:"_2pif",children:b("React").jsx(b("LiveVideoBroadcastCrossshareGroupSelector.react"),{actorID:this.props.actorID,hasGamingContext:(a=this.props.hasGamingContext)!=null?a:!1,selectedGroups:d,onGroupsChange:this.$86})}):null;return b("React").jsx("div",{className:"_1q75","data-testid":"gaming-section",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:f,sectionTitle:e,startOpen:!0,children:b("React").jsxs("div",{className:"_uzs",children:[c,a]})})})};d.$85=function(a){b("LiveVideoBroadcastActions").setGame(a)};d.$86=function(a){b("LiveVideoBroadcastActions").setGroups(a)};d.$75=function(){var a=i._("Allow embedding"),c=i._("If checked, this video can be embedded on third-party websites");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isEmbeddable,label:a,tooltipText:c,onChange:this.$55})};d.$76=function(){var a=i._("Unpublish after live video ends"),c=i._("Unpublished posts are not visible to the public. Page admins can still see unpublished posts and their insights.");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.shouldExpireAfterGoLive,label:a,tooltipText:c,onChange:this.$56})};d.$83=function(){if(!this.props.showCommentatingOption)return null;var a=i._("Turn off live commentary"),c=i._("People won't be able to go live in a watch party if your video is playing.");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isCommentatingDisabled,label:a,tooltipText:c,onChange:this.$58})};d.$84=function(){if(!this.props.showIsrOption)return null;var a=i._("Enable In Stream Rewards for this live"),c=i._("Viewer would get rewards in the stream");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isIsrEnabled,label:a,tooltipText:c,onChange:this.$59})};d.$74=function(){var a=i._("Publish this as a continuous live video"),c=i._("Continuous live videos let you broadcast without a time limit, but can't be saved when they end.");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isContinuous,label:a,tooltipText:c,onChange:this.$57})};d.$77=function(){if(!this.props.canSeeDisturbingOptions)return null;var a=i._("Show graphic content warning"),c=i._("Displays a warning and turns off autoplay. Graphic content will be hidden from people 18 and under.");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.shouldShowGraphicContentWarning,label:a,tooltipText:c,onChange:this.$60})};d.$80=function(){if(!this.props.canEnableContentProtection)return null;var a=i._("Enable content protection");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isContentProtectionEnabled,label:a,onChange:this.$62})};d.$78=function(){if(!this.props.canEnableRewind)return null;var a=i._("Allow viewers to rewind"),c=i._("Enables viewers to rewind your video while you are live.");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isRewindEnabled,label:a,tooltipText:c,onChange:this.$61})};d.$73=function(){return!this.props.areModerationOptionsShown||this.props.commentModes===void 0?null:b("React").jsx(b("LiveVideoBroadcastModerationSettings.react"),{canSeeCommentProtectedMode:this.props.canSeeCommentProtectedMode,commentModes:this.props.commentModes,isWoodhengePage:this.props.isWoodhengePage!=null&&this.props.isWoodhengePage,onCommentModesChange:this.$87})};d.$87=function(a){a=a.map(function(a){return a.value});b("LiveVideoBroadcastActions").setCommentModes(a)};d.$89=function(a){a=a>0?b("React").jsxs(b("XUIGrayText.react"),{shade:"light",children:[i._("{count} more",[i._param("count",a)])," - "]}):null;return b("React").jsxs("div",{children:[a,b("React").jsx(b("Link.react"),{onClick:this.$68,children:i._("See all")})]},"crosspostFooter")};d.$53=function(){__p&&__p();var a=this.props.crosspostingConfig;if(!this.props.canSeeCrosspostingOption||!a||!a.length)return null;var c=i._("CROSSPOSTING"),d=b("React").jsx(b("Link.react"),{href:"/help/678485232304895",target:"_blank",children:i._("Learn More")}),e=a.reduce(function(a,b){return b.allow?a+1:a},0),f=null;e>r?f=[b("React").jsxs("div",{className:"_3-8n",children:[b("React").jsx(b("XUIGrayText.react"),{shade:"light",children:i._("Crossposting to:")}),b("React").jsxs(b("XUIGrayText.react"),{shade:"dark",weight:"bold",children:[" ",a.filter(function(a){return a.allow}).map(function(a){return a.name}).join(", "),". "]})]},"crosspostContent"),this.$89(a.length-e)]:a.length>r?f=b("React").jsxs("div",{children:[a.slice(0,r).map(this.$88),this.$89(a.length-r)]}):f=a.slice(0,r).map(this.$88);a=this.props.broadcastState===o.EDITING?i._("Allow other Pages to use this video in their posts. {Link. Learn More}",[i._param("Link. Learn More",d)]):i._("Immediately crosspost your video across Pages you have permissions to publish to when you go Live. {Link. Learn More}",[i._param("Link. Learn More",d)]);d=this.props.broadcastState===o.EDITING&&this.props.hasRemovedCrosspostPages?b("React").jsx(b("XUINotice.react"),{children:i._("By removing permission to use this video, any posts on other Pages that use it will be unpublished automatically.")}):null;var h=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("446617")});return b("React").jsx("div",{className:"_1q75","data-testid":"crossposting-section",children:b("React").jsxs(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:h,sectionTitle:c,startOpen:!0,children:[b("React").jsx("div",{className:"_1q76",children:a}),b("React").jsx(b("LiveVideoBroadcastCrosspostErrorMessageWrapper.react"),{selectedCount:e,children:b("React").jsxs("div",{className:"_4rht",children:[f,d]},"crosspostContentWrap")})]})})};d.$54=function(){if(!this.props.canSeeCopyrightOption||this.props.broadcastState===o.EDITING)return null;var a=i._("RIGHTS MANAGEMENT"),c=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("446623")});return b("React").jsx("div",{className:"_1q75","data-testid":"copyright-section",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:c,sectionTitle:a,startOpen:!0,children:b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_1q76",children:i._("Facebook can alert you if anyone posts a video that matches this one")}),this.$90(),this.$91()]})})})};d.$90=function(){var a=i._("Monitor matching uploads"),c=i._("Identifies other Facebook videos that include all or part of this video");return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:!!this.props.isCopyrighted,label:a,tooltipText:c,onChange:this.$63})};d.$91=function(){return!this.props.canSeeCopyrightOption||!this.props.isCopyrighted?null:b("React").jsxs("div",{children:[this.$92(),this.$93(),this.$94(),this.$95(),this.$96()]})};d.$92=function(){return b("React").jsx(b("ComposerVideoUploadSection.react"),{className:"_61s6",title:i._("Specify Ownership"),tooltip:i._("Ownership establishes what element of the content belong to you in what parts of the world"),children:b("React").jsx(b("VideoCopyrightMonitoringSelector.react"),{disabled:!1,rmVersion:this.props.rightsManagerVersion,value:this.props.copyrightMonitoringType||void 0,onChange:this.$65})})};d.$93=function(){return b("React").jsx(b("VideoCopyrightGeoSelector.react"),{areCountriesIncluded:!!this.props.areCountriesIncluded,className:"_61s6 _61s7",disabled:!1,selectedCountries:this.props.ownershipCountries,shouldShowIncludeExcludeGeoOptions:!0,onChange:this.$69})};d.$94=function(){return b("React").jsx("div",{className:"_61s6",children:b("React").jsx(b("CopyrightReferenceCategorySelector.react"),{selectedCategory:this.props.selectedCategory,onReferenceCategoryChange:this.$66})})};d.$95=function(){var a=b("PageContentTabRightsManagerStore").getIsRMLite();this.props.rightsManagerVersion!=null&&(a=this.props.rightsManagerVersion==="LITE");return!this.props.targetID||a?null:b("React").jsx(b("ComposerVideoUploadSection.react"),{className:"_61s6",title:i._("Apply Match Rule"),tooltip:i._("Select which rule to apply to matching content"),children:b("React").jsx(b("VideoCopyrightMatchRuleSelector.react"),{accessToken:this.props.accessToken||void 0,pageID:this.props.targetID,selectedRule:this.props.copyrightRuleID,onChange:this.$64,onCreateNewRule:this.props.onCreateNewCopyrightRule})})};d.$96=function(){var a=b("React").jsx(b("VideoCopyrightWhitelistSection.react"),{canSeeIGMatches:this.props.canSeeIGMatches,whitelistedFBUsers:this.props.copyrightWhitelistedFBUsers||[],whitelistedIGUserNames:this.props.copyrightWhitelistedIGUserNames||[],onFBWhitelistUpdated:this.$70,onIGWhitelistUpdated:this.$71,pageID:this.props.targetID});return b("React").jsx(b("ComposerVideoUploadSection.react"),{className:"_61s6 _61s7",title:i._("Grant Permissions"),tooltip:i._("Grant permission to any Page or person on {what platform the publisher can see} to upload videos that contain this one.",[i._param("what platform the publisher can see",this.props.canSeeIGMatches?i._("Facebook or Instagram"):i._("Facebook"))]),children:a})};d.$21=function(){return b("React").jsx("div",{children:"$$$"})};d.$79=function(){var a=this.props,c=a.hasBackupStreamURL,d=a.videoID;a=a.showDeleteStreamCheckbox;return!a||d==null?null:b("React").jsx(u,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:x,render:this.$97,variables:{video_id:d,hasBackupStreamURL:c}})};d.$82=function(){var a=this.props,c=a.showIGCrosspostCheckbox;a=a.videoID;return!c||a==null?null:b("React").jsx(u,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:y,render:this.$98,variables:{video_id:a}})};d.$81=function(){if(!this.props.allowBroadcastRehearsal||this.props.shareMode!==b("ShareDialogAudienceTypes").PAGE)return null;var a=i._("Publish as a test broadcast"),c=i._("Test broadcasts can only be seen by admins or editors of your page."),d=i._("Test broadcasts can only be seen by admins or editors of your page. This setting cannot be changed for scheduled broadcasts."),e=this.props.inputSource===q.EDIT_SCHEDULE;return b("React").jsx(b("LiveVideoBroadcastComposerRHCCheckbox.react"),{checked:this.props.isRehearsal,"data-testid":"rehearsal-setting",disabled:e,label:a,tooltipText:e?d:c,onChange:this.$72})};return c}(b("React").Component);var x=j!==void 0?j:j=b("LiveVideoBroadcastComposerRHCDeleteStreamBehaviorQuery.graphql"),y=k!==void 0?k:k=b("LiveVideoBroadcastComposerRHCIGCrosspostEnabledQuery.graphql"),z=l!==void 0?l:l=b("LiveVideoBroadcastComposerRHCStarsGoalsQuery.graphql"),A=m!==void 0?m:m=b("LiveVideoBroadcastComposerRHCPageOwnedEventsQuery.graphql");e.exports=c}),null);
__d("LiveVideoBroadcastAPIRHCContainer.react",["cx","fbt","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIGoLiveButtonContainer.react","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastComposerRHC.react","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastIDStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastUIStore","React","VideoBroadcastFlowTypes","VideoCopyrightRuleTemplateBlankSelectDialog","XUIButton.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("VideoBroadcastFlowTypes").BroadcastPlaybackMode;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.state.targetID&&b("VideoCopyrightRuleTemplateBlankSelectDialog").show(d.state.targetID,d.state.accessToken,null)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastIDStore"),b("LiveVideoBroadcastCrosspostStore"),b("LiveVideoBroadcastMetadataInputStore")]};c.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.allowBroadcastRehearsal,e=a.areCountriesIncluded,f=a.broadcastPlaybackMode,g=a.broadcastState,h=a.canEnableLiveCoverVideo,i=a.canEnableRewind,j=a.canSeeDisturbingOptions,k=a.commentModes,l=a.composerConfig,m=a.countdownTime,n=a.encoders,o=a.fundraiserEnabled,p=a.inputSource,q=a.isLiveCoverVideoEnabled,r=a.isRewindEnabled,s=a.gks,t=a.isCommentatingDisabled,u=a.isIsrEnabled,v=a.isShowPage,w=a.ownershipCountries,x=a.peopleTaggerSource,y=a.profilePicUri,z=a.selectedEncoderType,A=a.selectedRHCTab,B=a.shareMode,C=a.showJoinGroupCTA,D=a.sponsorConfig,E=a.sponsorEnabled,F=a.targetSelectorProps,G=a.targetingEnabled,H=a.pageLiveCoverVideoData,I=a.canSeeCopyrightOption,J=a.rightsManagerVersion;a=a.enableEventTicketPromotion;var K=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),L=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),M=L.apiBroadcastID,N=L.apiEmbedHTML,O=L.apiComposerPrivacySelector,P=L.apiLivePreviewPlaying,Q=L.copyrightMonitoringType,R=L.copyrightRuleID,S=L.copyrightWhitelistedFBUsers,T=L.copyrightWhitelistedIGUserNames,U=L.errorCount,V=L.is360Audio,aa=L.is360Video,ba=L.isContentProtectionEnabled,ca=L.isContinuous,da=L.isCopyrighted,ea=L.isEmbeddable,W=L.isRehearsal,fa=L.isSingleFisheye,ga=L.selectedCategory,ha=L.shouldExpireAfterGoLive,ia=L.shouldShowGraphicContentWarning,ja=L.singleFisheyeFOV,ka=L.sphericalConfigSelectorValue,X=L.streamURLs;L=L.shouldShowLiveProducerUpsellNux;var Y=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),la=Y.accountID,ma=Y.actorID,na=Y.targetID;Y=Y.isCrosspost;var oa=b("LiveVideoBroadcastIDStore").get("videoID"),Z=b("LiveVideoBroadcastCrosspostStore").getState().toObject(),pa=Z.crosspostingConfig;Z=Z.shouldShowCrosspostingNux;var qa=b("LiveVideoBroadcastCrosspostStore").hasRemovedCrosspostPages(),ra=(s==null?void 0:s.show_breaking_news)===!0,$=!W&&(s==null?void 0:s.can_see_crossposting_option)===!0,sa=(s==null?void 0:s.can_see_ig_matches)===!0,ta=(s==null?void 0:s.can_see_moderation_options)===!0,ua=(s==null?void 0:s.enable_content_protection)===!0,va=(s==null?void 0:s.show_tools_tab)===!0,wa=(s==null?void 0:s.www_live_video_show_delete_stream_checkbox)===!0,xa=(s==null?void 0:s.allow_ig_crosspost)===!0,ya=(s==null?void 0:s.www_live_video_share_surface_selector_enabled)===!0,za=(s==null?void 0:s.www_live_video_auto_captions_enabled_checkbox)===!0,Aa=(s==null?void 0:s.live_video_event_promotion_public_events)===!0,Ba=(s==null?void 0:s.can_see_comment_protected_mode)===!0,Ca=(s==null?void 0:s.is_woodhenge_enabled)===!0,Da=(s==null?void 0:s.can_add_announcement_post_message)===!0,Ea=(s==null?void 0:s.show_commentating_option)===!0,Fa=(s==null?void 0:s.can_enable_isr)===!0,Ga=(s==null?void 0:s.show_broadcaster_playback_option)===!0,Ha=(s==null?void 0:s.can_enable_event_ticket_promotion)===!0;s=(s==null?void 0:s.can_set_stars_goal)===!0;return{accessToken:c,accountID:la,actorID:ma,apiComposerPrivacySelector:O,allowBroadcastRehearsal:d,apiEmbedHTML:N,apiLivePreviewPlaying:P,areCountriesIncluded:e,areModerationOptionsShown:ta,broadcastState:g,canAddAnnouncementPostMessage:Da,canEnableLiveCoverVideo:h,canEnableRewind:i,canSeeCopyrightOption:I,canSeeCrosspostingOption:$,canSeeDisturbingOptions:j,canSeeIGMatches:sa,canSetStarsGoal:s,commentModes:k,composerConfig:l,copyrightMonitoringType:Q,copyrightRuleID:R,copyrightWhitelistedFBUsers:S,copyrightWhitelistedIGUserNames:T,crosspostingConfig:pa,fundraiserEnabled:o,peopleTaggerSource:x,apiBroadcastID:M,countdownTime:m,encoders:n,hasBackupStreamURL:(X==null?void 0:X.backupStreamURL)!=null||(X==null?void 0:X.backupSecureStreamURL)!=null,hasRemovedCrosspostPages:qa,inputSource:p,is360Audio:V,is360Video:aa,isCommentatingDisabled:t,isIsrEnabled:u,broadcastPlaybackMode:f,isContinuous:ca,isCopyrighted:da,isEmbeddable:ea,isLiveCoverVideoEnabled:!!q,isRehearsal:W,isRewindEnabled:r,isShowPage:v,isSingleFisheye:fa,isWoodhengePage:Ca,metadataConfig:K,ownershipCountries:w,pageLiveCoverVideoData:H,profilePicUri:y,rightsManagerVersion:J,targetSelectorProps:F,selectedCategory:ga,selectedEncoderType:z,selectedRHCTab:A,shareMode:B,shouldExpireAfterGoLive:ha,shouldShowCrosspostingNux:$&&Z,shouldShowGraphicContentWarning:ia,shouldShowLiveProducerUpsellNux:L,showAutoCaptionsEnabledCheckbox:za,showBreakingNews:ra,showBroadcastPlaybackModeOption:Ga,showCommentatingOption:Ea,showIsrOption:Fa,showDeleteStreamCheckbox:wa,showIGCrosspostCheckbox:xa,showShareSurfaceSelector:ya,showJoinGroupCTA:C,showToolsTab:va,singleFisheyeFOV:ja,sphericalConfigSelectorValue:ka,sponsorConfig:D,sponsorEnabled:E,targetID:na,targetingEnabled:G,errorCount:U,videoID:oa,isCrosspost:!!Y,isContentProtectionEnabled:ba,canEnableContentProtection:ua,canPromotePublicEvents:Aa,canSeeCommentProtectedMode:Ba,canEnableEventTicketPromotion:Ha,enableEventTicketPromotion:a}};var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastActions").setShowSaveChangesDialog(!0)};d.$2=function(){b("LiveVideoBroadcastActions").cleanup()};d.render=function(){if(!this.state.composerConfig)return null;var a=this.state.inputSource==="EDIT_SCHEDULE"&&this.state.isCrosspost,c=this.state.inputSource==="EDIT_SCHEDULE"&&!a?b("React").jsx(b("LiveVideoBroadcastAPIGoLiveButtonContainer.react"),{canAddAnnouncementPostMessage:!1,showGoLiveButton:!1,showScheduleButton:!0}):null,d=a?b("React").jsxs("div",{className:"_eg3",children:[b("React").jsx(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Close"),use:"default",onClick:this.$2}),b("React").jsx(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Save"),use:"confirm",onClick:this.$1})]}):b("React").jsx(b("LiveVideoBroadcastAPIGoLiveButtonContainer.react"),{additionalButton:this.state.inputSource==="EDIT_SCHEDULE"?b("React").jsx(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Save"),use:"confirm",onClick:this.$1}):void 0,canAddAnnouncementPostMessage:this.state.canAddAnnouncementPostMessage,showGoLiveButton:!0,showScheduleButton:this.state.inputSource!=="EDIT_SCHEDULE"&&!this.state.isRehearsal}),e=this.state.composerConfig.contextConfig.composerType==="social_plugin";return b("React").jsx(b("LiveVideoBroadcastComposerRHC.react"),{accessToken:this.state.accessToken,accountID:this.state.accountID,actionButton:d,actorID:this.state.actorID,allowBroadcastRehearsal:this.state.allowBroadcastRehearsal,apiLivePreviewPlaying:this.state.apiLivePreviewPlaying,areCountriesIncluded:this.state.areCountriesIncluded,areModerationOptionsShown:this.state.areModerationOptionsShown,broadcastID:this.state.apiBroadcastID,broadcastPlaybackMode:this.state.broadcastPlaybackMode,broadcastState:this.state.broadcastState,canEnableContentProtection:this.state.canEnableContentProtection,canEnableEventTicketPromotion:this.state.canEnableEventTicketPromotion,canEnableLiveCoverVideo:this.state.canEnableLiveCoverVideo,canEnableRewind:this.state.canEnableRewind,canPromotePublicEvents:this.state.canPromotePublicEvents,canSeeCommentProtectedMode:this.state.canSeeCommentProtectedMode,canSeeCopyrightOption:this.state.canSeeCopyrightOption,canSeeCrosspostingOption:this.state.canSeeCrosspostingOption,canSeeDisturbingOptions:this.state.canSeeDisturbingOptions,canSeeIGMatches:this.state.canSeeIGMatches,canSetStarsGoal:this.state.canSetStarsGoal,commentModes:this.state.commentModes,composerPrivacySelector:this.state.apiComposerPrivacySelector,config:this.state.composerConfig.config,contextConfig:this.state.composerConfig.contextConfig,copyrightMonitoringType:this.state.copyrightMonitoringType,copyrightRuleID:this.state.copyrightRuleID,copyrightWhitelistedFBUsers:this.state.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:this.state.copyrightWhitelistedIGUserNames,countdownTime:this.state.countdownTime,crosspostingConfig:b("LiveVideoBroadcastCrosspostStore").convertCrosspostingConfig(this.state.crosspostingConfig),embedHTML:this.state.apiEmbedHTML,enableEventTicketPromotion:this.state.enableEventTicketPromotion,enableTaggers:!0,encoders:this.state.encoders,errorCount:this.state.errorCount||void 0,fundraiserEnabled:this.state.fundraiserEnabled,hasBackupStreamURL:this.state.hasBackupStreamURL,hasGamingContext:this.props.hasGamingContext,hasRemovedCrosspostPages:this.state.hasRemovedCrosspostPages,inputSource:this.state.inputSource,is360Audio:this.state.is360Audio,is360Video:this.state.is360Video,isBroadcastStarting:!!this.state.countdownTime,isCommentatingDisabled:this.state.isCommentatingDisabled,isIsrEnabled:this.state.isIsrEnabled,isContentProtectionEnabled:this.state.isContentProtectionEnabled,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable&&!a,isLiveCoverVideoEnabled:this.state.isLiveCoverVideoEnabled,isRehearsal:this.state.isRehearsal,isRewindEnabled:this.state.isRewindEnabled,isShowPage:this.state.isShowPage,isSingleFisheye:this.state.isSingleFisheye,isTitleRequired:!1,isWoodhengePage:this.state.isWoodhengePage,metadataConfig:this.state.metadataConfig,ownershipCountries:this.state.ownershipCountries,pageLiveCoverVideoData:this.state.pageLiveCoverVideoData,peopleTaggerSource:this.state.peopleTaggerSource,profilePicUri:this.state.profilePicUri,rightsManagerVersion:this.state.rightsManagerVersion,selectedCategory:this.state.selectedCategory,selectedEncoderType:this.state.selectedEncoderType,selectedRHCTab:this.state.selectedRHCTab,shareMode:this.state.shareMode,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowCrosspostingNux:this.state.shouldShowCrosspostingNux,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,shouldShowLiveProducerUpsellNux:this.state.shouldShowLiveProducerUpsellNux,showAutoCaptionsEnabledCheckbox:this.state.showAutoCaptionsEnabledCheckbox,showBreakingNews:this.state.showBreakingNews,showBroadcastPlaybackModeOption:this.state.showBroadcastPlaybackModeOption,showCommentatingOption:this.state.showCommentatingOption,showIsrOption:this.state.showIsrOption,showDeleteStreamCheckbox:this.state.showDeleteStreamCheckbox,showIGCrosspostCheckbox:this.state.showIGCrosspostCheckbox&&!this.state.isRehearsal,showJoinGroupCTA:this.state.showJoinGroupCTA,showLiveSettings:!e&&!a,showMetadataInput:!0,showShareSurfaceSelector:this.state.showShareSurfaceSelector,showStreamLink:!1,showToolsTab:this.state.showToolsTab,showVideoSettings:!1,singleFisheyeFOV:this.state.singleFisheyeFOV,sphericalConfigSelectorValue:this.state.sphericalConfigSelectorValue,sponsorConfig:this.state.sponsorConfig,sponsorEnabled:this.state.sponsorEnabled,targetID:this.state.targetID,targetingEnabled:this.state.targetingEnabled,targetSelectorProps:this.state.targetSelectorProps,topButton:c,videoID:this.state.videoID,onCreateNewCopyrightRule:this.$3})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastAPIToggle.react",["ix","cx","fbt","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastConstants","React","XUIButton.react","XUIButtonGroup.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoBroadcastConstants").INPUT_SOURCE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastActions").setInputSource(j.CAMERA),b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest()};d.$2=function(){b("LiveVideoBroadcastActions").setInputSource(j.API)};d.$3=function(){b("LiveVideoBroadcastActions").setInputSource(j.VIDEO_GAME)};d.$4=function(){return!this.props.hasGamingContext?null:b("React").jsx(b("XUIButton.react"),{className:"_jzh _jzl"+(this.props.inputSource===j.VIDEO_GAME?" _jzj":"")+(this.props.inputSource!==j.VIDEO_GAME?" _jzk":""),disabled:this.props.inputSource===j.VIDEO_GAME,image:b("React").jsx(b("Image.react"),{src:g("383104")}),label:i._("Connect"),size:"xlarge",onClick:this.$3})};d.$5=function(){return this.props.hasGamingContext?null:b("React").jsx(b("XUIButton.react"),{className:"_jzh _jzl"+(this.props.inputSource===j.API?" _jzj":"")+(this.props.inputSource!==j.API?" _jzk":""),disabled:this.props.inputSource===j.API,image:b("React").jsx(b("Image.react"),{src:g("383104")}),label:i._("Connect"),size:"xlarge",onClick:this.$2})};d.render=function(){return b("React").jsx("div",{className:"_jzb",children:b("React").jsxs(b("XUIButtonGroup.react"),{children:[b("React").jsx(b("XUIButton.react"),{className:"_jzh _jzi"+(this.props.inputSource===j.CAMERA?" _jzj":"")+(this.props.inputSource!==j.CAMERA?" _jzk":""),disabled:this.props.inputSource===j.CAMERA,image:b("React").jsx(b("Image.react"),{src:g("114514")}),label:i._("Camera"),size:"xlarge",onClick:this.$1}),this.$5(),this.$4()]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastAPIToggleContainer.react",["FluxContainer","LiveVideoBroadcastAPIToggle.react","LiveVideoBroadcastConstants","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").INPUT_SOURCE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastUIStore")]};c.calculateState=function(a,c){a=b("LiveVideoBroadcastUIStore").getState().toObject();var d=a.countdownTime,e=a.hideInputToggle,f=a.inputSource,h=a.isUpdateRequestPending;a=a.hasGamingContext;return{shouldShow:!d&&!e&&!h&&f!==g.EDIT_SCHEDULE,inputSource:f,hasGamingContext:!!a||c.hasGamingContext}};var d=c.prototype;d.render=function(){return!this.state.shouldShow?null:b("React").jsx(b("LiveVideoBroadcastAPIToggle.react"),{hasGamingContext:this.state.hasGamingContext,inputSource:this.state.inputSource})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveAPIPreviewPlayerTopHelpText.react",["cx","fbt","CurrentUser","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c="https://www.facebook.com/help/587160588142067",d="https://www.facebook.com/help/work/822134481279991";d=b("CurrentUser").isWorkUser()?d:c;c=b("React").jsxs("div",{className:"_62xi",children:[b("React").jsx("h1",{children:h._("Connect Your Live Stream to the Live API")}),h._("Use live streaming software or a hardware encoder.")," ",b("React").jsx(b("Link.react"),{href:d,target:"_blank",children:h._("Learn more")})]});return b("React").jsxs("div",{children:[c,a.hideInstructions===!0?null:b("React").jsxs("div",{className:"_62xj",children:[h._("1. Choose where you want to post your broadcast on the right."),b("React").jsx("br",{}),h._("2. Preview your broadcast with a stream key or paired encoder.")]})]})}e.exports=a}),null);
__d("LiveVideoBroadcastPersistentStreamProfileCreateMutation",["RelayModern","LiveVideoBroadcastPersistentStreamProfileCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastPersistentStreamProfileCreateMutation.graphql");function a(a,b,c){return h(a,{mutation:i,variables:{input:{actor_id:b.actorID,video_broadcast_id:b.videoID}},onCompleted:c==null?void 0:c.onSuccess,onError:c==null?void 0:c.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastPersistentStreamProfileDisableMutation",["RelayModern","LiveVideoBroadcastPersistentStreamProfileDisableMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastPersistentStreamProfileDisableMutation.graphql");function a(a,b,c){return h(a,{mutation:i,variables:{input:{actor_id:b.actorID,video_broadcast_id:b.videoID}},onCompleted:c==null?void 0:c.onSuccess,onError:c==null?void 0:c.onFailure})}e.exports={commit:a}}),null);
__d("LiveVideoBroadcastPersistentStreamProfileRegenerateMutation",["RelayModern","LiveVideoBroadcastPersistentStreamProfileRegenerateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("LiveVideoBroadcastPersistentStreamProfileRegenerateMutation.graphql");function a(a,b,c){return h(a,{mutation:i,variables:{input:{actor_id:b.actorID,video_broadcast_id:b.videoID}},onCompleted:c==null?void 0:c.onSuccess,onError:c==null?void 0:c.onFailure})}e.exports={commit:a}}),null);
__d("XLiveSpeedtestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/ingests/",{})}),null);
__d("LiveVideoBroadcastAPIStreamKeyFields.react",["ix","cx","fbt","regeneratorRuntime","AdsGuidanceBetaBadge.react","CancelablePromise","CreateLiveBroadcastUIWaterfallTypedLogger","FBClipboardLink.react","GraphAPI","Image.react","LeftRight.react","Link.react","LiveVideoBroadcastAPIActions","LiveVideoBroadcastPersistentStreamProfileCreateMutation","LiveVideoBroadcastPersistentStreamProfileDisableMutation","LiveVideoBroadcastPersistentStreamProfileRegenerateMutation","LiveVideoBroadcastUtils","PersistentStreamKeyStatus","QuickPerformanceLogger","React","RelayFBEnvironment","Tooltip.react","XLiveSpeedtestController","XUIButton.react","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react","XUISpinner.react","XUIText.react","XUITextInput.react","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoBroadcastPersistentStreamProfileCreateMutation").commit,k=b("LiveVideoBroadcastPersistentStreamProfileDisableMutation").commit,l=b("LiveVideoBroadcastPersistentStreamProfileRegenerateMutation").commit,m=function(a){return a==null||a===""},n=i._("This cannot be disabled for this broadcast."),o="https://developers.facebook.com/docs/live-video-api#rtmps";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={useSSL:!0,loadingPersistentStreamURL:!1,persistentStreamURL:void 0,backupPersistentStreamURL:void 0,isPersistentStreamKeyChecked:!1,isBackupStreamChecked:!1,showServerURLDeprecationWarning:!1};d.$4=function(){return d.$2};d.$5=function(a){d.$2=a};d.$6=function(){__p&&__p();if(d.state.isBackupStreamChecked)return;var a=d.props,c=a.accessToken,e=a.broadcastID;a=a.actorID;if(!e||!c||!a)return;d.setState(function(a){return{isBackupStreamChecked:!a.isBackupStreamChecked}});d.state.isPersistentStreamKeyChecked&&!d.state.backupPersistentStreamURL?d.$7(b("LiveVideoBroadcastUtils").createInputStream(c,e,a),function(a){b("LiveVideoBroadcastAPIActions").updateBackupInputStream(a.stream_url,a.secure_stream_url),d.$8(e,c)},function(a){d.setState({isBackupStreamChecked:!1})}):((a=d.props.streamURLs)==null?void 0:a.backupStreamURL)||b("LiveVideoBroadcastAPIActions").addInputStream()};d.$22=function(a){a!=d.state.showServerURLDeprecationWarning&&d.setState({showServerURLDeprecationWarning:a})};d.$20=function(a){a=a.target.checked;d.setState({useSSL:a,showServerURLDeprecationWarning:!a})};d.$26=function(){if(d.props.broadcastID===void 0||d.props.accessToken===void 0)return;d.state.isPersistentStreamKeyChecked?(d.$27(d.props.broadcastID,d.props.accessToken),d.setState({isPersistentStreamKeyChecked:!1})):(d.$10(d.props.broadcastID,d.props.accessToken),d.setState({isPersistentStreamKeyChecked:!0}))};d.$16=function(){if(d.props.broadcastID===void 0||d.props.accessToken===void 0)return;d.$8(d.props.broadcastID,d.props.accessToken)};d.$3=[];return d}var d=c.prototype;d.$9=function(a){if(!a)return null;a=a.match(/(^.*rtmp\/)(.*)$/);return a?{baseURL:a[1],streamKey:a[2]}:null};d.componentDidMount=function(){var a;this.props.isPersistentStreamKeyOptionShown&&this.props.usePersistentStreamKeyByDefault&&this.props.broadcastID&&this.props.accessToken&&(this.$10(this.props.broadcastID,this.props.accessToken),this.setState({isPersistentStreamKeyChecked:!0}));a=!m((a=this.props.streamURLs)==null?void 0:a.backupStreamURL)||!m((a=this.props.streamURLs)==null?void 0:a.backupSecureStreamURL);a&&this.setState({isBackupStreamChecked:!0});try{b("QuickPerformanceLogger").markerEnd(44957699,2),b("QuickPerformanceLogger").markerEnd(44957702,2)}catch(a){}};d.componentWillUnmount=function(){while(this.$3.length>0){var a=this.$3.pop();a!=null&&a.cancel()}};d.UNSAFE_componentWillReceiveProps=function(a){var b=a.broadcastID!==this.props.broadcastID||a.isPersistentStreamKeyOptionShown!==this.props.isPersistentStreamKeyOptionShown||a.usePersistentStreamKeyByDefault!==this.props.usePersistentStreamKeyByDefault;b&&(a.isPersistentStreamKeyOptionShown&&a.usePersistentStreamKeyByDefault&&a.broadcastID&&a.accessToken?(this.$10(a.broadcastID,a.accessToken),this.setState({isPersistentStreamKeyChecked:!0})):this.setState({isPersistentStreamKeyChecked:!1}))};d.render=function(){__p&&__p();var a,c;a=this.$9(this.state.useSSL?(a=this.props.streamURLs)==null?void 0:a.primarySecureStreamURL:(a=this.props.streamURLs)==null?void 0:a.primaryStreamURL);c=this.$9(this.state.useSSL?(c=this.props.streamURLs)==null?void 0:c.backupSecureStreamURL:(c=this.props.streamURLs)==null?void 0:c.backupStreamURL);if(!a)return null;var d=null;d=b("React").jsx(b("Tooltip.react"),{alignH:"right",position:"above",tooltip:i._("Find the fastest direct Ingest Server URL for your network (opens in a new tab)"),children:b("React").jsx(b("XUIButton.react"),{className:"_84sr",href:b("XLiveSpeedtestController").getURIBuilder().getURI(),label:i._("Ingest URLs"),target:"_blank"})});d=b("React").jsxs("div",{className:"_6th2 _84ss",children:[b("React").jsx("div",{className:"_84st _84ss",children:b("React").jsxs("div",{className:"_84st _84ss",children:[b("React").jsx("div",{className:"_84st",children:b("React").jsx(b("XUITextInput.react"),{"data-testid":"server_url",disabled:!0,height:"tall",placeholder:i._("Stream URL"),value:a.baseURL})}),b("React").jsx("div",{children:b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy URL to clipboard"),tooltipSuccess:i._("Copied!"),value:a.baseURL,children:b("React").jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]})}),b("React").jsx("div",{children:d})]});a=this.state.isPersistentStreamKeyChecked?this.$11():this.$12(a);return b("React").jsxs("div",{"data-testid":"stream_key_fields",children:[this.props.isBroadcastLive?null:this.$13(),b("React").jsxs(b("XUIText.react"),{className:"_3-8x _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("Server URL"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("In your streaming software, this may be called URL or Address"),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),d,a,this.$14(c),this.props.showDashIngestURL?this.$15():null]})};d.$12=function(a){var c;return(c=b("React")).jsxs("div",{children:[c.jsxs(b("XUIText.react"),{className:"_3-8y _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("Stream Key"),c.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("This stream key is valid for 7 days. Once you preview the video, you have up to 5 hours to go live."),children:c.jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),c.jsxs("div",{className:"_6th2 _84ss",children:[c.jsx("div",{className:"_84st",children:c.jsx(b("XUITextInput.react"),{"data-testid":"stream_key",disabled:!0,height:"tall",placeholder:i._("Stream Key"),value:a.streamKey})}),c.jsx("div",{children:c.jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy key to clipboard"),tooltipSuccess:i._("Copied!"),value:a.streamKey,children:c.jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]})]})};d.$15=function(){var a;a=(a=this.props.streamURLs)==null?void 0:a.dashIngestURL;return!a?null:b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{className:"_3-8y _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("DASH Ingest URL"),b("React").jsx(b("AdsGuidanceBetaBadge.react"),{}),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("This stream key is valid for 7 days. Once you preview the video, you have up to 5 hours to go live."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),b("React").jsxs("div",{className:"_6th2 _84ss",children:[b("React").jsx("div",{className:"_84st",children:b("React").jsx(b("XUITextInput.react"),{"data-testid":"dash_stream_key",disabled:!0,height:"tall",placeholder:i._("Stream Key"),value:a})}),b("React").jsx("div",{children:b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy key to clipboard"),tooltipSuccess:i._("Copied!"),value:a,children:b("React").jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]})]})};d.$11=function(){if(this.state.loadingPersistentStreamURL||!this.state.persistentStreamURL)return b("React").jsx("div",{className:"_60i_",children:b("React").jsx(b("XUISpinner.react"),{background:"light","data-testid":"stream_key_loading_indicator",size:"large"})});var a=this.$9(this.state.persistentStreamURL);return!a?null:b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{className:"_3-8y _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("Persistent Stream Key"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Don't share this with others unless you'd like them to always be able to broadcast to your Page."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),b("React").jsxs("div",{className:"_6tf8 _84ss _84st",children:[b("React").jsxs("div",{className:"_6th2 _84ss _84st",children:[b("React").jsx("div",{className:"_84st",children:b("React").jsx(b("XUITextInput.react"),{"data-testid":"stream_key",disabled:!0,height:"tall",placeholder:i._("Persistent Stream Key"),value:a.streamKey})}),b("React").jsx("div",{children:b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy key to clipboard"),tooltipSuccess:i._("Copied!"),value:a.streamKey,children:b("React").jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]}),this.props.isBroadcastLive?null:b("React").jsx(b("XUIButton.react"),{className:"_6tf9","data-testid":"reset_persistent_stream_key_button",label:i._("Reset"),onClick:this.$16})]})]})};d.$14=function(a){if(!this.state.isBackupStreamChecked||this.state.loadingPersistentStreamURL)return null;return this.props.isPersistentStreamKeyOptionShown&&this.state.persistentStreamURL?this.$17():this.$18(a)};d.$18=function(a){return!a?b("React").jsx("div",{className:"_60i_",children:b("React").jsx(b("XUISpinner.react"),{background:"light","data-testid":"stream_key_loading_indicator",size:"large"})}):b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{className:"_3-8x _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("Backup Stream Key"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("This backup stream key is valid for 7 days. Once you preview the video, you have up to 5 hours to go live."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),b("React").jsxs("div",{className:"_6th2 _84ss",children:[b("React").jsx("div",{className:"_84st",children:b("React").jsx(b("XUITextInput.react"),{disabled:!0,height:"tall",placeholder:i._("Stream URL"),value:a.streamKey})}),b("React").jsx("div",{children:b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy key to clipboard"),tooltipSuccess:i._("Copied!"),value:a.streamKey,children:b("React").jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]})]})};d.$17=function(){if(!this.state.backupPersistentStreamURL)return b("React").jsx("div",{className:"_60i_",children:b("React").jsx(b("XUISpinner.react"),{background:"light","data-testid":"stream_key_loading_indicator",size:"large"})});var a=this.$9(this.state.backupPersistentStreamURL);return!a?null:b("React").jsxs("div",{children:[b("React").jsxs(b("XUIText.react"),{className:"_3-8y _3-94",display:"block",size:"meta1",weight:"normal",children:[i._("Backup Persistent Stream Key"),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Don't share this with others unless you'd like them to always be able to broadcast to your Page."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),b("React").jsxs("div",{className:"_6th2 _84ss",children:[b("React").jsx("div",{className:"_84st",children:b("React").jsx(b("XUITextInput.react"),{disabled:!0,height:"tall",placeholder:i._("Backup Persistent Stream Key"),value:a.streamKey})}),b("React").jsx("div",{children:b("React").jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy key to clipboard"),tooltipSuccess:i._("Copied!"),value:a.streamKey,children:b("React").jsx(b("XUIButton.react"),{className:"_6tf7",label:i._("Copy")})})})]})]})};d.$19=function(){var a=this.props.allowUnsecureRTMP?i._("A secure connection is recommended. Some live stream software may not support it."):i._("Support for non-SSL RTMP server URLs has been deprecated. Please upgrade your encoder settings to use the secure RTMPS URL.");return b("React").jsxs(b("LeftRight.react"),{className:"_3-8x",direction:"left",ref:this.$5,children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.state.useSSL,"data-testid":"secure_connection_checkbox",disabled:!this.props.allowUnsecureRTMP,onChange:this.$20}),b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{className:"_3-99 _3-94",size:"meta1",children:i._("Use a secure connection (SSL)")}),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:a,children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})}),this.$21()]})]})};d.$23=function(){return b("React").jsx(b("Link.react"),{href:o,target:"_blank",children:i._("Learn More")})};d.$21=function(){if(this.state.useSSL)return null;var a=i._("Update to RTMPS Protocol"),c=i._("Close");return b("React").jsxs(b("XUIContextualDialog.react"),{contextRef:this.$4,hideOnEscape:!0,position:"above",shown:this.state.showServerURLDeprecationWarning,width:b("XUIContextualDialog.react").WIDTH.NORMAL,onToggle:this.$22,children:[b("React").jsx(b("XUIContextualDialogTitle.react"),{children:a}),b("React").jsxs(b("XUIContextualDialogBody.react"),{children:[i._("On November 1, 2019, support for RTMP server URLs is being deprecated. Non-secure URLS cannot be used after that time to stream live videos. Please upgrade your encoder settings and use the secure RTMPS URL."),b("React").jsx("br",{}),b("React").jsx("br",{}),i._("If you do not update to the RTMPS protocol by November, you will no longer be able to use the Live API to stream videos.")]}),b("React").jsxs(b("XUIContextualDialogFooter.react"),{children:[b("React").jsx("span",{className:"_id9",children:this.$23()}),b("React").jsx(b("XUIDialogCloseButton.react"),{label:c,use:"confirm"})]})]})};d.$13=function(){return b("React").jsxs("div",{children:[this.$19(),this.$24(),this.$25()]})};d.$24=function(){return!this.props.isPersistentStreamKeyOptionShown?null:b("React").jsxs(b("LeftRight.react"),{className:"_3-8x",direction:"left",children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.state.isPersistentStreamKeyChecked,"data-testid":"persistent_stream_key_checkbox",disabled:this.state.loadingPersistentStreamURL,onChange:this.$26}),b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{className:"_3-99 _3-94",size:"meta1",children:i._("Use a persistent stream key")}),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("This can be reused every time you go live. You can only broadcast one live video at a time with your persistent stream key."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]})]})};d.$25=function(){return b("React").jsxs(b("LeftRight.react"),{className:"_3-8x",direction:"left",children:[b("React").jsx(b("XUICheckboxInput.react"),{checked:this.state.isBackupStreamChecked,tooltip:this.state.isBackupStreamChecked?n:void 0,onChange:this.$6}),b("React").jsxs("div",{children:[b("React").jsx(b("XUIText.react"),{className:"_3-99 _3-94",size:"meta1",children:i._("Use a backup stream")}),b("React").jsx(b("Tooltip.react"),{position:"above",tooltip:i._("A backup stream for your video broadcast. Once enabled, it cannot be disabled for this broadcast."),children:b("React").jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]})]})};d.$28=function(a){a=this.$3.indexOf(a);if(a===-1){this.$3=this.$3.filter(function(a){return a!=null});return}this.$3.splice(a,1)};d.$7=function(a,c,d,e){__p&&__p();var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=new(b("CancelablePromise"))(a);this.$3.push(f);g.next=4;return b("regeneratorRuntime").awrap(f.getPromise().then(c)["catch"](d)["finally"](e||function(){}));case 4:this.$28(f);case 5:case"end":return g.stop()}},null,this)};d.$10=function(a,c){__p&&__p();var d=this;this.setState({loadingPersistentStreamURL:!0});this.props.liveVideoPskGraphqlMigrationEnabled?j(b("RelayFBEnvironment"),{actorID:this.props.actorID,videoID:a},{onSuccess:function(c){var e;if((c==null?void 0:(e=c.persistent_stream_profile_create)==null?void 0:e.persistent_stream_key_url)===null||d.state.isBackupStreamChecked&&(c==null?void 0:(e=c.persistent_stream_profile_create)==null?void 0:e.backup_persistent_stream_url)===null){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("enable_persistent_stream_key_error").setBroadcastID(a).log();return}d.setState({persistentStreamURL:(e=c==null?void 0:(e=c.persistent_stream_profile_create)==null?void 0:e.persistent_stream_key_url)!=null?e:"",backupPersistentStreamURL:(c=c==null?void 0:(e=c.persistent_stream_profile_create)==null?void 0:e.backup_persistent_stream_url)!=null?c:"",loadingPersistentStreamURL:!1})},onFailure:function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("enable_persistent_stream_key_error").setBroadcastID(a).log(),d.setState({loadingPersistentStreamURL:!1})}}):this.$7(b("GraphAPI")("2.8",e.id).object("video_broadcast",a).post({access_token:c,persistent_stream_key_status:b("PersistentStreamKeyStatus").ENABLE}),function(a){d.setState({persistentStreamURL:a.persistent_stream_url,backupPersistentStreamURL:a.backup_persistent_stream_url})},function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("enable_persistent_stream_key_error").setBroadcastID(a).log()},function(a){d.setState({loadingPersistentStreamURL:!1})})};d.$8=function(a,c){__p&&__p();var d=this;this.setState({loadingPersistentStreamURL:!0});this.props.liveVideoPskGraphqlMigrationEnabled?l(b("RelayFBEnvironment"),{actorID:this.props.actorID,videoID:a},{onSuccess:function(c){var e;if((c==null?void 0:(e=c.persistent_stream_profile_regenerate)==null?void 0:e.persistent_stream_key_url)===null||d.state.isBackupStreamChecked&&(c==null?void 0:(e=c.persistent_stream_profile_regenerate)==null?void 0:e.backup_persistent_stream_url)===null){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("regenerate_persistent_stream_key_error").setBroadcastID(a).log();return}d.setState({persistentStreamURL:(e=c==null?void 0:(e=c.persistent_stream_profile_regenerate)==null?void 0:e.persistent_stream_key_url)!=null?e:"",backupPersistentStreamURL:(c=c==null?void 0:(e=c.persistent_stream_profile_regenerate)==null?void 0:e.backup_persistent_stream_url)!=null?c:"",loadingPersistentStreamURL:!1})},onFailure:function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("regenerate_persistent_stream_key_error").setBroadcastID(a).log(),d.setState({loadingPersistentStreamURL:!1})}}):this.$7(b("GraphAPI")("2.8",e.id).object("video_broadcast",a).post({access_token:c,persistent_stream_key_status:b("PersistentStreamKeyStatus").REGENERATE}),function(a){d.setState({persistentStreamURL:a.persistent_stream_url,backupPersistentStreamURL:a.backup_persistent_stream_url})},function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("regenerate_persistent_stream_key_error").setBroadcastID(a).log()},function(a){d.setState({loadingPersistentStreamURL:!1})})};d.$27=function(a,c){var d=this;this.setState({loadingPersistentStreamURL:!0});this.props.liveVideoPskGraphqlMigrationEnabled?k(b("RelayFBEnvironment"),{actorID:this.props.actorID,videoID:a},{onSuccess:function(a){d.setState({persistentStreamURL:void 0,backupPersistentStreamURL:void 0,loadingPersistentStreamURL:!1})},onFailure:function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("disable_persistent_stream_key_error").setBroadcastID(a).log(),d.setState({loadingPersistentStreamURL:!1})}}):this.$7(b("GraphAPI")("2.8",e.id).object("video_broadcast",a).post({access_token:c,persistent_stream_key_status:b("PersistentStreamKeyStatus").DISABLE}),function(a){d.setState({persistentStreamURL:void 0,backupPersistentStreamURL:void 0})},function(c){new(b("CreateLiveBroadcastUIWaterfallTypedLogger"))().setEvent("disable_persistent_stream_key_error").setBroadcastID(a).log()},function(a){d.setState({loadingPersistentStreamURL:!1})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastAPIStreamKeyFieldsContainer.react",["FluxContainer","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIStreamKeyFields.react","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastBroadcastStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject();a=a.gks;var c=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),d=c.is360Video,e=c.streamURLs;c=c.allowUnsecureRTMP;var f=b("LiveVideoBroadcastBroadcastStore").getState().toObject();f=f.actorID;return{actorID:f,is360Video:d,streamURLs:e,showDashIngestURL:(a==null?void 0:a.www_live_dash_ingest_ui)===!0,liveVideoPskGraphqlMigrationEnabled:(a==null?void 0:a.live_video_psk_graphql_migration_enabled)===!0,allowUnsecureRTMP:c}};var d=c.prototype;d.render=function(){var a=this.state,c=a.is360Video;a=a.streamURLs;return b("React").jsx(b("LiveVideoBroadcastAPIStreamKeyFields.react"),babelHelpers["extends"]({},this.props,{actorID:this.state.actorID,allowUnsecureRTMP:this.state.allowUnsecureRTMP,isPersistentStreamKeyOptionShown:!c,liveVideoPskGraphqlMigrationEnabled:this.state.liveVideoPskGraphqlMigrationEnabled,showDashIngestURL:this.state.showDashIngestURL,streamURLs:a}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveAPIStreamInputSelector.react",["cx","fbt","InputLabel.react","LiveVideoBroadcastAPIActions","LiveVideoBroadcastAPIStreamKeyFieldsContainer.react","LiveVideoBroadcastConstants","React","XUIRadioInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoBroadcastConstants").ENCODER_TYPE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){switch(a.currentTarget.value){case i.STREAM_KEY:b("LiveVideoBroadcastAPIActions").setSelectedEncoderType(i.STREAM_KEY);break;case i.PAIRED_ENCODER:b("LiveVideoBroadcastAPIActions").setSelectedEncoderType(i.PAIRED_ENCODER);break;default:break}};d.render=function(){var a=this.props,c=a.accessToken,d=a.broadcastID,e=a.gks,f=a.hasPairedEncoders,g=a.isBroadcastLive,j=a.selectedEncoderType;a=a.usePersistentStreamKeyByDefault;e=(e==null?void 0:e.add_redundant_stream)===!0;c=b("React").jsx(b("LiveVideoBroadcastAPIStreamKeyFieldsContainer.react"),{accessToken:c,allowRedundancyCheckbox:e,broadcastID:d,isBroadcastLive:g,usePersistentStreamKeyByDefault:a});if(g==!0)return j===i.PAIRED_ENCODER?null:c;e=j===i.PAIRED_ENCODER?b("React").jsx("span",{className:"_4eh3",children:h._("Choose the paired encoders you want to use in {=Settings}.",[h._param("=Settings",b("React").jsx("span",{className:"_4eh4",children:h._("Settings")}))])}):b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_4eh3",children:h._("Enter the information below into your software's settings.")}),c]});return b("React").jsxs("div",{children:[b("React").jsxs("form",{className:"_3-8x",children:[b("React").jsx(b("InputLabel.react"),{display:"inline",label:"Stream Key",labelClassName:"_4eh5",children:b("React").jsx(b("XUIRadioInput.react"),{checked:j===i.STREAM_KEY,className:"_4eh5",name:"encoder_type",value:i.STREAM_KEY,onChange:this.$1})}),b("React").jsx(b("InputLabel.react"),{"data-testid":"live-paired-encoder-radio-button",display:"inline",label:"Paired Encoder",labelClassName:"_4eh5",children:b("React").jsx(b("XUIRadioInput.react"),{checked:j===i.PAIRED_ENCODER,className:"_4eh5",disabled:!f,name:"encoder_type",value:i.PAIRED_ENCODER,onChange:this.$1})})]}),b("React").jsx("hr",{className:"_4eh6"}),e]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastInputStreamUtils",["RelayModern","LiveVideoBroadcastInputStreamUtils_isActiveStreamViewerVisible.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;g!==void 0?g:g=b("LiveVideoBroadcastInputStreamUtils_isActiveStreamViewerVisible.graphql");a={getFirstActiveViewerVisibleStream:function(a){if(a==null)return null;for(var b=0;b<a.length;b++){var c=a[b];if(c.is_stream_viewer_visible===!0&&c.is_stream_active===!0)return c}return null}};e.exports=a}),null);
__d("LiveAPIPreviewPlayerSpinner.react",["cx","fbt","CenteredContainer.react","React","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a=b("React")).jsxs("div",{children:[a.jsx("div",{className:"_3k7-",children:a.jsx(b("XUISpinner.react"),{background:"light",size:"large"})}),a.jsxs(b("CenteredContainer.react"),{className:"_37bq",fullHeight:!0,horizonal:!0,vertical:!0,children:[a.jsx(b("XUIText.react"),{className:"_3k80",shade:"light",size:"xlarge_DEPRECATED",weight:"bold",children:h._("Fetching video stream...")}),h._("This can take a few seconds")]})]})}e.exports=a}),null);
__d("LiveVideoNoFlashError.react",["cx","fbt","CenteredContainer.react","Link.react","React","XUINotice.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a=b("React")).jsx(b("CenteredContainer.react"),{className:"_37bq",fullHeight:!0,horizonal:!0,vertical:!0,children:a.jsxs(b("XUINotice.react"),{use:"warn",children:[a.jsx("div",{children:a.jsx(b("XUIText.react"),{weight:"bold",children:h._("Flash Unavailable")})}),a.jsxs("div",{children:[a.jsx(b("XUIText.react"),{children:h._("You must install Flash to watch live videos.")})," ",a.jsx(b("Link.react"),{href:"https://get.adobe.com/flashplayer/",target:"_blank",children:a.jsx(b("XUIText.react"),{weight:"bold",children:"Download Flash"})})]})]})})}e.exports=a}),null);
__d("LiveVideoResilientAPIPlayer.react",["cx","LiveAPIPreviewPlayerSpinner.react","LiveVideoBroadcastActions","LiveVideoNoFlashError.react","LiveVideoPublisherToolsFunnelLogger","React","VideoComponentContextMenu.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentLiveEndScreen.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=2e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hasError:!1,isPlayerLoading:!0,restartCount:0,shouldRenderPlayer:!0},d.$2=function(){d.refs.player.vpc.addListener("error",function(a){b("setTimeout")(function(){d.setState({shouldRenderPlayer:!0})},h);d.setState(function(a){return{isPlayerLoading:!0,restartCount:a.restartCount+1,shouldRenderPlayer:!1}});a=a==null?void 0:a.error;b("LiveVideoBroadcastActions").apiPreviewPlayerCrash(a)}),d.refs.player.vpc.addListener("updateMetadata",function(){b("LiveVideoPublisherToolsFunnelLogger").previewStarted(),b("LiveVideoBroadcastActions").apiBroadcastLivePreviewPlaying(!0),d.setState({isPlayerLoading:!1})}),d.refs.player.vpc.addListener("finishPlayback",function(){d.setState({isPlayerLoading:!0})}),d.setState({hasError:d.refs.player.vpc.isImplementationUnavailable()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a,b){a.selectedInputStreamIndex!==this.props.selectedInputStreamIndex&&this.setState(function(a){return{isPlayerLoading:!0,restartCount:a.restartCount+1}})};d.render=function(){var a;return this.state.hasError?b("React").jsx(b("LiveVideoNoFlashError.react"),{}):b("React").jsxs("div",{className:this.props.customStyling==null?"_2clx":(a=this.props.customStyling)==null?void 0:a.customVideoContainerClassName,children:[this.state.isPlayerLoading?b("React").jsx(b("LiveAPIPreviewPlayerSpinner.react"),{}):null,this.$1()]})};d.$1=function(){return!this.state.shouldRenderPlayer?null:b("React").jsx(b("VideoDataContainer.react"),{videoDataConfig:{hostNumber:this.props.selectedInputStreamIndex,forceRefetch:!0},videoID:this.props.videoID,onVideoLoaded:this.$2,children:b("React").jsxs(b("VideoPlayer.react"),{autoplay:!0,className:this.props.customStyling==null?"_14e2 _2clx":void 0,disableClickPlayPause:!0,keepPlayingOnDialog:!0,ref:"player",showCaptionsDefault:!0,startMuted:!0,subOrigin:"live_video_preview",videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,children:[b("React").jsx(b("VideoComponentEmbeddedControls.react"),{showFullscreenButton:!1,showSettingsButton:!0}),b("React").jsx(b("VideoComponentContextMenu.react"),{}),b("React").jsx(b("VideoComponentDebugOverlay.react"),{}),b("React").jsx(b("VideoComponentWithLiveBroadcast.react"),{}),b("React").jsx(b("VideoComponentLiveEndScreen.react"),{})]},"player-instance-"+this.state.restartCount)},"data-container-instance-"+this.state.restartCount)};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastAPIVideoActivityDetectionContainer",["cx","fbt","LiveAPIPreviewPlayerTopHelpText.react","LiveAPIStreamInputSelector.react","LiveVideoBroadcastActions","LiveVideoBroadcastAPIUIConfig","LiveVideoBroadcastInputStreamUtils","LiveVideoResilientAPIPlayer.react","React","RelayModern","clearInterval","cxMargin","setInterval","LiveVideoBroadcastAPIVideoActivityDetectionContainer_inputStreamsMetadata.graphql","LiveVideoBroadcastAPIVideoActivityDetectionContainerInputStreamRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isInputStreamActive:!0};d.$2=function(){var a;a=(a=d.props.inputStreamsMetadata)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;var c=b("LiveVideoBroadcastInputStreamUtils").getFirstActiveViewerVisibleStream(a),e=c!=null;e!==d.state.isInputStreamActive&&(d.setState({isInputStreamActive:e}),d.props.onInputStreamActiveChange&&d.props.onInputStreamActiveChange(e),e&&a!=null&&b("LiveVideoBroadcastActions").setSelectedInputStreamIndex(a.indexOf(c)))};d.$1=null;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$2();this.$1=b("setInterval")(function(){a.props.relay.refetch({video_id:a.props.videoID},null,a.$2,{force:!0})},b("LiveVideoBroadcastAPIUIConfig").input_stream_activity_refetch_interval_ms)};d.componentWillUnmount=function(){this.$1&&b("clearInterval")(this.$1)};d.render=function(){var a=this.props,c=a.accessToken,d=a.broadcastID,e=a.hasPairedEncoders,f=a.selectedInputStreamIndex,g=a.selectedEncoderType,i=a.usePersistentStreamKeyByDefault,j=a.videoID;a=a.renderAlternateInactiveStream;var k=this.state.isInputStreamActive;return!k?a!=null?a():b("React").jsx("div",{className:"_74sn",children:b("React").jsx("div",{className:"_74so",children:b("React").jsxs("div",{className:"_3-8j",children:[b("React").jsx(b("LiveAPIPreviewPlayerTopHelpText.react"),{hideInstructions:!0}),b("React").jsx("div",{className:"_74sp",children:h._("Something went wrong. Please check your stream's connection.")}),b("React").jsx(b("LiveAPIStreamInputSelector.react"),{accessToken:c,broadcastID:d,hasPairedEncoders:e,isBroadcastLive:!0,selectedEncoderType:g,usePersistentStreamKeyByDefault:i})]})})}):b("React").jsx(b("LiveVideoResilientAPIPlayer.react"),{customStyling:this.props.customStyling,selectedInputStreamIndex:f,videoID:j})};return c}(b("React").Component);e.exports=a(c,{inputStreamsMetadata:i!==void 0?i:i=b("LiveVideoBroadcastAPIVideoActivityDetectionContainer_inputStreamsMetadata.graphql")},j!==void 0?j:j=b("LiveVideoBroadcastAPIVideoActivityDetectionContainerInputStreamRefetchQuery.graphql"))}),null);
__d("LiveVideoBroadcastAPIVideoContainer.react",["invariant","LiveVideoBroadcastActions","LiveVideoBroadcastAPIVideoActivityDetectionContainer","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastAPIVideoContainerInputStreamQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastInputStream();return null}if(!a||!a.video)return null;c=d.props;var e=c.accessToken,f=c.broadcastID,h=c.hasPairedEncoders,i=c.selectedEncoderType,j=c.selectedInputStreamIndex,k=c.usePersistentStreamKeyByDefault;c=c.videoID;e!=null||g(0,11622);f!=null||g(0,11625);c!=null||g(0,11624);return b("React").jsx(b("LiveVideoBroadcastAPIVideoActivityDetectionContainer"),{accessToken:e,broadcastID:f,customStyling:d.props.customStyling,hasPairedEncoders:h,inputStreamsMetadata:a.video,renderAlternateInactiveStream:d.props.renderAlternateInactiveStream,selectedEncoderType:i,selectedInputStreamIndex:j,usePersistentStreamKeyByDefault:k,videoID:c,onInputStreamActiveChange:d.props.onInputStreamActiveChange})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.videoID;a=babelHelpers.objectWithoutPropertiesLoose(a,["videoID"]);return b("React").jsx(i,{environment:b("RelayFBEnvironment"),query:j,render:this.$1,variables:babelHelpers["extends"]({video_id:c},a)})};return c}(b("React").PureComponent);var j=h!==void 0?h:h=b("LiveVideoBroadcastAPIVideoContainerInputStreamQuery.graphql");e.exports=a}),null);
__d("LiveAPIPreviewPlayerBottomHelpText.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").jsx("div",{className:"_62xj _62xk",children:h._("3. Select {=Go Live} in the bottom right corner.",[h._param("=Go Live",b("React").jsx("span",{className:"_62xl",children:h._("Go Live")}))])})}e.exports=a}),null);
__d("LiveVideoBroadcastPreviewBody.react",["cx","CenteredContainer.react","LiveAPIPreviewPlayerBottomHelpText.react","LiveAPIPreviewPlayerTopHelpText.react","LiveAPIStreamInputSelector.react","LiveVideoBroadcastActions","LiveVideoBroadcastAPIUIConfig","LiveVideoBroadcastInputStreamUtils","LiveVideoResilientAPIPlayer.react","React","RelayModern","clearInterval","cxMargin","setInterval","LiveVideoBroadcastPreviewBody_inputStreamsMetadata.graphql","LiveVideoBroadcastPreviewBodyInputStreamRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(){var a;a=(a=d.props.inputStreamsMetadata)==null?void 0:(a=a.input_streams)==null?void 0:a.nodes;var c=b("LiveVideoBroadcastInputStreamUtils").getFirstActiveViewerVisibleStream(a),e=c!=null;e!=d.props.apiLivePreviewPlaying&&(b("LiveVideoBroadcastActions").apiBroadcastLivePreviewPlaying(e),e&&a!=null&&b("LiveVideoBroadcastActions").setSelectedInputStreamIndex(a.indexOf(c)))};d.$1=null;return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("setInterval")(function(){a.props.relay.refetch({video_id:a.props.videoID},null,a.$2,{force:!0})},b("LiveVideoBroadcastAPIUIConfig").video_preview_refetch_interval_ms)};d.componentWillUnmount=function(){this.$1&&b("clearInterval")(this.$1)};d.$3=function(){var a=this.props,c=a.apiLivePreviewPlaying,d=a.selectedInputStreamIndex;a=a.videoID;return!c||a==null?null:b("React").jsx(b("LiveVideoResilientAPIPlayer.react"),{selectedInputStreamIndex:d,videoID:a})};d.render=function(){var a=this.props,c=a.accessToken,d=a.apiLivePreviewPlaying,e=a.broadcastID,f=a.hasPairedEncoders,g=a.selectedEncoderType;a=a.usePersistentStreamKeyByDefault;d=d?null:b("React").jsxs("div",{className:"_3-8j",children:[b("React").jsx(b("LiveAPIPreviewPlayerTopHelpText.react"),{}),b("React").jsx(b("LiveAPIStreamInputSelector.react"),{accessToken:c,broadcastID:e,gks:this.props.gks,hasPairedEncoders:f,selectedEncoderType:g,usePersistentStreamKeyByDefault:a}),b("React").jsx(b("LiveAPIPreviewPlayerBottomHelpText.react"),{})]});return b("React").jsx(b("CenteredContainer.react"),{className:"_2clz _h6n",vertical:!0,children:b("React").jsxs("div",{className:"_2clx",children:[b("React").jsx("div",{className:"_37bq",children:d}),this.$3()]})})};return c}(b("React").PureComponent);e.exports=a(c,{inputStreamsMetadata:h!==void 0?h:h=b("LiveVideoBroadcastPreviewBody_inputStreamsMetadata.graphql")},i!==void 0?i:i=b("LiveVideoBroadcastPreviewBodyInputStreamRefetchQuery.graphql"))}),null);
__d("LiveVideoBroadcastPreviewBodyContainer.react",["LiveVideoBroadcastActions","LiveVideoBroadcastPreviewBody.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastPreviewBodyContainerInputStreamQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastPreviewInputStream();return null}return!a||!a.video?null:b("React").jsx(b("LiveVideoBroadcastPreviewBody.react"),babelHelpers["extends"]({},d.props,{inputStreamsMetadata:a.video}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.videoID;a=babelHelpers.objectWithoutPropertiesLoose(a,["videoID"]);return b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,render:this.$1,variables:babelHelpers["extends"]({video_id:c},a)})};return c}(b("React").PureComponent);var i=g!==void 0?g:g=b("LiveVideoBroadcastPreviewBodyContainerInputStreamQuery.graphql");e.exports=a}),null);
__d("LiveVideoBroadcastPreviewOverlay.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.hidePreviewLabel?null:h._("PREVIEW");return b("React").jsx("div",{className:"_14j2"+(this.props.apiToggleVisible?" _4mn9":"")+" _2wrk",children:a})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastCountdownUtils",["DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("DateConsts")).HOUR_PER_DAY,h=a.MIN_PER_HOUR,i=a.SEC_PER_DAY,j=a.SEC_PER_HOUR,k=a.SEC_PER_MIN,l=function(a){return("0"+Math.max(a,0)).slice(-2)};c={formatTime:function(a){var b=a.days,c=a.hours,d=a.minutes;a=a.seconds;b=l(b);c=l(c);d=l(d);a=l(a);return b+":"+c+":"+d+":"+a},segmentTime:function(a){return{seconds:Math.floor(a%k),minutes:Math.floor(a/k%h),hours:Math.floor(a/j%g),days:Math.floor(a/i)}}};e.exports=c}),null);
__d("LiveVideoBroadcastVideoOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_5nnp"+(this.props.isPollCard?"":" _85_d")+(this.props.suppressPointerEvents?" _3nsu":"")+(this.props.leftAligned?" _b3j":"")+(this.props.rightAligned?" _6u__":"")+(this.props.bottomAligned?" _7un_":""),children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastScheduleCountdownOverlay.react",["cx","fbt","DateConsts","LiveVideoBroadcastAPIUIConfig","LiveVideoBroadcastCountdownUtils","LiveVideoBroadcastVideoOverlay.react","React","RelayModern","clearInterval","setInterval","LiveVideoBroadcastScheduleCountdownOverlay_broadcastSchedule.graphql","LiveVideoBroadcastScheduleCountdownOverlayRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("DateConsts").MS_PER_SEC,l=b("LiveVideoBroadcastCountdownUtils").formatTime,m=b("LiveVideoBroadcastCountdownUtils").segmentTime;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var n=1e3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={countdownTime:0,segmentedTime:{days:0,hours:0,minutes:0,seconds:0}},c.$4=function(a){c.setState(function(b){b=a!==!0?b.countdownTime-Math.floor(n/k):b.countdownTime;return{countdownTime:b,segmentedTime:m(b)}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){var a=this,b;b=(b=this.props.broadcastSchedule)==null?void 0:(b=b.broadcast_schedule)==null?void 0:b.countdown_time_seconds;b!=null&&this.setState({countdownTime:b},function(){a.$4(!0)})};d.$5=function(){this.$1=b("setInterval")(this.$4,n)};d.componentDidMount=function(){var a=this;this.$3();this.$5();this.$2=b("setInterval")(function(){var c;a.props.relay.refetch({video_id:(c=a.props.broadcastSchedule)==null?void 0:c.id},null,function(){a.$3(),a.$1!=null&&b("clearInterval")(a.$1),a.$5()},{force:!0})},b("LiveVideoBroadcastAPIUIConfig").schedule_countdown_refetch_interval_ms)};d.componentWillUnmount=function(){this.$1!=null&&b("clearInterval")(this.$1),this.$2!=null&&b("clearInterval")(this.$2)};d.render=function(){var a=this.state.segmentedTime,c=a.days,d=a.hours,e=a.minutes;a=a.seconds;return b("React").jsx(b("LiveVideoBroadcastVideoOverlay.react"),{leftAligned:!0,suppressPointerEvents:!0,children:b("React").jsx("div",{className:"_2wrk _7ahb"+(e<1?" _7ahc":""),children:h._("LIVE - {Time Remaining}",[h._param("Time Remaining",l({days:c,hours:d,minutes:e,seconds:a}))])})})};return c}(b("React").Component);e.exports=a(c,{broadcastSchedule:i!==void 0?i:i=b("LiveVideoBroadcastScheduleCountdownOverlay_broadcastSchedule.graphql")},j!==void 0?j:j=b("LiveVideoBroadcastScheduleCountdownOverlayRefetchQuery.graphql"))}),null);
__d("LiveVideoBroadcastScheduleCountdownOverlayContainer.react",["LiveVideoBroadcastActions","LiveVideoBroadcastScheduleCountdownOverlay.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastScheduleCountdownOverlayContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=a.error;a=a.props;if(c!=null){b("LiveVideoBroadcastActions").errorFetchingBroadcastSchedule();return null}return a==null||a.video==null||a.video.broadcast_schedule==null?null:b("React").jsx(b("LiveVideoBroadcastScheduleCountdownOverlay.react"),{broadcastSchedule:a.video})};d.render=function(){return this.props.videoID==null?null:b("React").jsx(h,{environment:b("RelayFBEnvironment"),query:i,render:this.$1,variables:{video_id:this.props.videoID}})};return c}(b("React").Component);var i=g!==void 0?g:g=b("LiveVideoBroadcastScheduleCountdownOverlayContainerQuery.graphql");e.exports=a}),null);
__d("LiveVideoBroadcastAPIVideoPreview.react",["ix","cx","fbt","CenteredContainer.react","CurrentUser","Image.react","Layout.react","LiveVideoBroadcastAPIHealthTrayContainer.react","LiveVideoBroadcastAPIToggleContainer.react","LiveVideoBroadcastPreviewBodyContainer.react","LiveVideoBroadcastPreviewOverlay.react","LiveVideoBroadcastScheduleCountdownOverlayContainer.react","React","ReactComposerContextProviderMixin","ReactComposerContextTypes","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return!this.props.streamURLs||!this.props.apiVideoID||!this.props.apiBroadcastID||this.props.isScheduledLiveRequestPending||this.props.usePersistentStreamKeyByDefault==null?b("React").jsx("div",{className:"_1k0p"+(!b("CurrentUser").isWorkUser()&&!this.props.shouldShowHealthTray?" _2ds_":"")+(!b("CurrentUser").isWorkUser()&&this.props.shouldShowHealthTray?" _6ycb":"")+(b("CurrentUser").isWorkUser()?" _2dt1":""),children:b("React").jsx(b("CenteredContainer.react"),{className:"_1k0q",vertical:!0,children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})}):b("React").jsx("div",{className:(this.props.shouldShowHealthTray?"":"_6ycc")+(this.props.shouldShowHealthTray?" _6ycd":"")+(!b("CurrentUser").isWorkUser()&&!this.props.shouldShowHealthTray?" _2ds_":"")+(!b("CurrentUser").isWorkUser()&&this.props.shouldShowHealthTray?" _6ycb":"")+(b("CurrentUser").isWorkUser()?" _2dt1":""),children:b("React").jsx(b("LiveVideoBroadcastPreviewBodyContainer.react"),{accessToken:this.props.accessToken,apiLivePreviewPlaying:this.props.apiLivePreviewPlaying,broadcastID:this.props.apiBroadcastID,gks:this.props.gks,hasPairedEncoders:this.props.hasPairedEncoders,selectedEncoderType:this.props.selectedEncoderType,selectedInputStreamIndex:this.props.selectedInputStreamIndex,usePersistentStreamKeyByDefault:this.props.usePersistentStreamKeyByDefault||!1,videoID:this.props.apiVideoID.toString()})})};d.render=function(){var a,c=this.props.shouldShowHealthTray||b("CurrentUser").isWorkUser()?null:b("React").jsxs("div",{className:"_263c",children:[b("React").jsx(b("Image.react"),{src:g("115130")}),b("React").jsx("span",{className:"_263d",children:i._("Don't put third-party video ads in your live video. For example, don't include bumpers, pre-roll, mid-roll or post-roll. Ensure any pre-recorded content is clearly distinguishable from live content.")})]});return b("React").jsx(j,{children:b("React").jsxs("div",{className:"_2nno"+(((a=this.props.contextConfig)==null?void 0:a.composerType)==="games_video_streamer_dashboard"?" _72ev":""),children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsxs("div",{className:"_6yce",children:[this.$1(),this.props.shouldShowHealthTray?b("React").jsx(b("LiveVideoBroadcastAPIHealthTrayContainer.react"),{accessToken:this.props.accessToken,broadcastID:this.props.apiBroadcastID,canEndLiveVideo:!1,isLive:!1}):null,b("React").jsx(b("LiveVideoBroadcastScheduleCountdownOverlayContainer.react"),{videoID:this.props.apiVideoID}),b("React").jsx(b("LiveVideoBroadcastPreviewOverlay.react"),{apiToggleVisible:!0,hidePreviewLabel:!this.props.apiLivePreviewPlaying}),c]})]})})};d.getChildContext=function(){return b("ReactComposerContextProviderMixin").getChildContext.bind(this)()};return c}(b("React").PureComponent);a.childContextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("LiveVideoBroadcastAPIVideoPreviewContainer.react",["FluxContainer","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIVideoPreview.react","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.composerConfig,e=a.isScheduledLiveRequestPending;a=a.pageLiveCoverVideoData;var f=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),g=f.apiBroadcastID,h=f.apiLivePreviewPlaying,i=f.apiVideoID,j=f.selectedInputStreamIndex;f=f.streamURLs;return{accessToken:c,apiBroadcastID:g,apiLivePreviewPlaying:h,apiVideoID:i,composerConfig:d,selectedInputStreamIndex:j,isScheduledLiveRequestPending:e,pageLiveCoverVideoData:a,streamURLs:f}};var d=c.prototype;d.render=function(){if(!this.state.composerConfig)return null;var a=this.state,c=a.composerConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["composerConfig"]);return b("React").jsx(b("LiveVideoBroadcastAPIVideoPreview.react"),babelHelpers["extends"]({},a,this.props,{contextConfig:c.contextConfig}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastModalOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_5yoe",children:this.props.children})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastBrokenConnectionModalOverlay.react",["cx","fbt","LiveVideoBroadcastModalOverlay.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:a.jsxs("div",{className:"_alo",children:[a.jsx(b("XUISpinner.react"),{size:"large",background:"dark"}),a.jsx("div",{className:"_alp",children:h._("Trying to Reconnect")}),a.jsx("div",{className:"_alq",children:h._("Due to poor wireless connection, your video has been paused. Consider moving to find a better signal, or you can end the broadcast.")})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastCameraGoLiveButton.react",["ix","cx","fbt","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastConstants","LiveVideoBroadcastUtils","React","XUIAmbientNUX.react","XUIButton.react","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoBroadcastConstants").BROADCAST_STATE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(){__p&&__p();if(d.props.broadcastState!==j.PREVIEW||d.props.countdownTime){d.props.onActionButtonClick();return}b("LiveVideoBroadcastActions").setUpdateRequestPending(!0);var a=b("LiveVideoBroadcastUtils").getComposerFormData(d.props.contextConfig.composerID,d.props.config.targetData.targetID,d.props.config.contextInfo),c=b("LiveVideoBroadcastAfterBootloadUtils").getUpdateMetadata(d.props.metadataConfig),e={};d.props.enableEventTicketPromotion!=null&&(e=babelHelpers["extends"]({},e,{enable_event_ticket_promotion:d.props.enableEventTicketPromotion}));d.props.canEnableLiveCoverVideo&&(e=babelHelpers["extends"]({},e,{is_page_live_cover_video_enabled:d.props.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));b("LiveVideoBroadcastAfterBootloadUtils").sendUpdateRequest(d.props.actorID,d.props.broadcastID,e,a,c,function(a){b("LiveVideoBroadcastActions").setUpdateRequestPending(!1),d.props.onActionButtonClick()},function(a){b("LiveVideoBroadcastActions").setUpdateRequestPending(!1),alert("Error starting broadcast, please try again")})};d.$1=i._("Go Live");d.$2=i._("Cancel");d.$3=i._("Connecting");return d}var d=c.prototype;d.$5=function(){var a=this;return this.props.countdownTime?null:b("React").jsxs(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:function(){return a.refs.button},position:"above",shown:this.props.showNUX,width:"auto",onCloseButtonClick:this.props.onNUXCloseButtonClick,children:[b("React").jsx("b",{children:i._("Click to Start the Live Video")}),b("React").jsx("br",{}),i._("While you're live, your selected audience can see what you're broadcasting.")]})};d.render=function(){if(this.props.broadcastID){var a=this.props.countdownTime?this.$2:this.$1,c=this.props.countdownTime?void 0:b("React").jsx(b("Image.react"),{src:g("115197")});c=b("React").jsxs("span",{children:[b("React").jsx(b("XUIButton.react"),{className:"_eg3 _227w",disabled:this.props.isUpdateRequestPending,image:c,label:a,ref:"button",use:"confirm",onClick:this.$4}),this.$5()]})}else c=b("React").jsx(b("XUIButton.react"),{className:"_eg3 _227w",disabled:!0,image:b("React").jsx(b("XUISpinner.react"),{}),label:this.$3,ref:"button"});return c};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastCameraNotAllowedMessage.react",["cx","fbt","LiveVideoBroadcastActions","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastActions").cleanup()};d.$2=function(){b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest()};d.render=function(){var a,c=h._("Retry"),d=h._("Close");return(a=b("React")).jsx("div",{className:"_1jpj",children:a.jsxs("div",{className:"_1jpk",children:[a.jsx("div",{className:"_1jpm",children:h._("Camera permission denied")}),a.jsx("div",{className:"_1jpn",children:h._("You have blocked camera access. To go live, please update your browser settings to allow access.")}),a.jsx(b("XUIButton.react"),{className:"_yjt",label:c,size:"xlarge",onClick:this.$2}),a.jsx(b("XUIButton.react"),{className:"_yjt",label:d,size:"xlarge",onClick:this.$1})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastCameraNotFoundMessage.react",["cx","fbt","LiveVideoBroadcastActions","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Done"),c=h._("Unable to find microphone"),d=h._("Unable to find camera");c=this.props.missingMicrophone?c:d;d=h._("Please connect a microphone and verify correct microphone permissions in your browser");var e=h._("Please connect a camera and verify correct camera permissions in your browser");d=this.props.missingMicrophone?d:e;return b("React").jsx("div",{className:"_1jpj",children:b("React").jsxs("div",{className:"_1jpk",children:[b("React").jsx("div",{className:"_1jpm",children:c}),b("React").jsx("div",{className:"_1jpn",children:d}),b("React").jsx(b("XUIButton.react"),{className:"_yjt",label:a,onClick:function(){return b("LiveVideoBroadcastActions").cleanup()},size:"xlarge"})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastComposerDialog.react",["cx","Layout.react","LiveVideoBroadcastAPIToggleContainer.react","LiveVideoBroadcastPreviewOverlay.react","React","XUISpinner.react","assignMediaStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$1=b("React").createRef();return c}var d=c.prototype;d.$2=function(){return!this.props.countdownTime?null:b("React").jsx("div",{className:"_5yoh",children:this.props.countdownTime})};d.$3=function(){return!this.props.isUpdateRequestPending?null:b("React").jsx("div",{className:"_5yoh",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})};d.componentDidMount=function(){this.$1.current&&b("assignMediaStream")(this.$1.current,this.props.mediaStream)};d.componentDidUpdate=function(a){this.$1.current&&this.props.mediaStream!==a.mediaStream&&b("assignMediaStream")(this.$1.current,this.props.mediaStream)};d.render=function(){var a,c=(a=b("React")).jsx("video",{autoPlay:!0,className:"_1drj",muted:!0,ref:this.$1});c=a.jsx("div",{className:"_5yoo _6wt7",children:c});return a.jsx(h,{children:a.jsxs("div",{className:"_2nno"+(this.props.composerType==="games_video_streamer_dashboard"?" _72ev":""),children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),c,this.$2(),this.$3(),b("React").jsx(b("LiveVideoBroadcastPreviewOverlay.react"),{apiToggleVisible:!0})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastCopyrightTakedownVideoOverlay.react",["cx","fbt","LiveVideoBroadcastVideoOverlay.react","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoBroadcastVideoOverlay.react"),{children:b("React").jsx("div",{className:"_-7_",children:h._("Your live video has been stopped.")})})};return c}(b("React").Component);e.exports=a}),null);
__d("XLiveVideoCopyrightViolationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/broadcast/copyright_violation/",{broadcast_id:{type:"FBID",required:!0}})}),null);
__d("LiveVideoBroadcastCopyrightStore",["AsyncRequest","FluxMapStore","LiveVideoBroadcastActions","LiveVideoBroadcastConstants","LiveVideoBroadcastCopyrightUtils","LiveVideoBroadcastDispatcher","XLiveVideoCopyrightViolationController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({copyrightTriggered:!1,copyrightsViolationDialogState:null,broadcastEndedWithCopyrightViolation:!1})};d.reduce=function(a,c){__p&&__p();switch(c.type){case g.INITIALIZE:a=this.getInitialState();break;case g.SET_COPYRIGHT_TRIGGERED:a=a.set("copyrightTriggered",c.value);break;case g.SET_COPYRIGHTS_VIOLATION_DIALOG_STATE:a=a.set("copyrightsViolationDialogState",c.value);break;case g.HANDLE_COPYRIGHT_EVENT:this.$LiveVideoBroadcastCopyrightStore1(c.value,c.broadcastID);break;case g.SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:a=a.set("broadcastEndedWithCopyrightViolation",!0);break;case g.CLEANUP:b("LiveVideoBroadcastCopyrightUtils").unsubscribeTokens();break;default:break}return a};d.$LiveVideoBroadcastCopyrightStore1=function(a,c){c=b("XLiveVideoCopyrightViolationController").getURIBuilder().setFBID("broadcast_id",c).getURI();new(b("AsyncRequest"))().setURI(c).setData({copyright_event:a}).setMethod("POST").setHandler(function(){b("LiveVideoBroadcastActions").setCopyrightTriggered(!1),b("LiveVideoBroadcastActions").setCopyrightsViolationDialogState(null)}).send()};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastCopyrightViolationModalOverlay.react",["cx","fbt","CenteredContainer.react","CopyrightsViolationDialogState","LiveVideoBroadcastConstants","LiveVideoBroadcastModalOverlay.react","React","VideoCopyrightInStreamNoticeText","XUIButton.react","XUIText.react","clearInterval","setInterval"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(){var a=d.props.copyrightsViolationDialogState===b("CopyrightsViolationDialogState").LIVE_TAKEDOWN_MSG_SENT?"ack_take_down_live_video":"delete_live_video";b("clearInterval")(d.$1);d.props.onEndLiveBroadcast();d.props.handleCopyrightEvent(a,d.props.broadcastID)};d.$5=function(){var a=d.props.copyrightsViolationDialogState===b("CopyrightsViolationDialogState").MATCH_BLOCKED_MSG_SENT?"resume_blocked_live_video":"resume_live_video";b("clearInterval")(d.$1);d.props.handleCopyrightEvent(a,d.props.broadcastID)};d.$2=function(){d.props.onEndLiveBroadcast(),d.props.handleCopyrightEvent("auto_take_down_live_video",d.props.broadcastID)};d.$1=b("setInterval")(d.$2,b("LiveVideoBroadcastConstants").AUTO_TAKENDOWN_TIME_FOR_COPYRIGHT_VIOLATION);return d}var d=c.prototype;d.componentWillUnmount=function(){b("clearInterval")(this.$1)};d.render=function(){var a=this.$3(),c=b("React").jsx(b("XUIButton.react"),{className:"_p-i",label:h._("Finish"),onClick:this.$4}),d=a===b("CopyrightsViolationDialogState").LIVE_TAKEDOWN_MSG_SENT?null:b("React").jsx(b("XUIButton.react"),{label:h._("Resume"),use:"confirm",onClick:this.$5});return b("React").jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:b("React").jsxs(b("CenteredContainer.react"),{className:"_p-d",vertical:!0,children:[b("React").jsx("div",{className:"_p-e",children:b("React").jsx(b("XUIText.react"),{size:"xlarge_DEPRECATED",children:b("VideoCopyrightInStreamNoticeText")[a].title})}),this.$6(),b("React").jsxs("div",{className:"_p-h",children:[c,d]})]})})};d.$3=function(){var a=this.props.copyrightsViolationDialogState;return a==null||a!==b("CopyrightsViolationDialogState").MATCH_CREATED_MSG_SENT&&a!==b("CopyrightsViolationDialogState").MATCH_BLOCKED_MSG_SENT&&a!==b("CopyrightsViolationDialogState").LIVE_TAKEDOWN_MSG_SENT?b("CopyrightsViolationDialogState").MATCH_CREATED_MSG_SENT:a};d.$6=function(){var a=this.$3();a=b("VideoCopyrightInStreamNoticeText")[a].message;return a.map(function(a){return b("React").jsx("div",{className:"_p-f",children:b("React").jsx(b("XUIText.react"),{size:"header3",children:a})})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react",["FluxContainer","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCopyrightStore","LiveVideoBroadcastCopyrightUtils","LiveVideoBroadcastCopyrightViolationModalOverlay.react","LiveVideoBroadcastUIStore","React","expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastCopyrightStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastUIStore").get("inputSource");a=a==="API"?b("LiveVideoBroadcastAPIBroadcastStore").get("apiBroadcastID"):b("LiveVideoBroadcastBroadcastStore").get("broadcastId");var c=b("LiveVideoBroadcastCopyrightStore").getState().toObject();c=c.copyrightsViolationDialogState;return{broadcastID:a,copyrightsViolationDialogState:c}};var d=c.prototype;d.render=function(){if(!this.state.broadcastID){b("expectationViolation")("Trying to create LiveVideoBroadcastCopyrightViolationModalOverlay with no broadcastID");return null}return b("React").jsx(b("LiveVideoBroadcastCopyrightViolationModalOverlay.react"),{broadcastID:this.state.broadcastID,copyrightsViolationDialogState:this.state.copyrightsViolationDialogState,handleCopyrightEvent:b("LiveVideoBroadcastCopyrightUtils").handleCopyrightEvent,onEndLiveBroadcast:b("LiveVideoBroadcastCopyrightUtils").endLiveBroadcastWithCopyrightViolation})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react",["cx","fbt","LiveVideoBroadcastModalOverlay.react","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:a.jsxs("div",{className:"_alo",children:[a.jsx("div",{className:"_alp",children:h._("Your broadcast could not be started, please try again")}),a.jsx(b("XUIButton.react"),{className:"_1u3f",label:this.props.buttonText,onClick:this.props.onActionButtonClick})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastDescription.react",["cx","fbt","DOMContainer.react","LiveVideoBroadcastActions","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("LiveVideoBroadcastActions").setDescriptionExpanded(a)};d.render=function(){var a=this;if(!this.props.description)return null;var c=b("React").jsx(b("DOMContainer.react"),{children:this.props.description}),d=this.props.shortDescription?b("React").jsx(b("DOMContainer.react"),{children:this.props.shortDescription}):b("React").jsx(b("DOMContainer.react"),{children:this.props.description}),e=this.props.shortDescription?b("React").jsx(b("ShimButton.react"),{className:"_szt",form:"link",onClick:function(){return a.$1(!0)},children:h._("See More")}):null;return this.props.isDescriptionExpanded?b("React").jsxs("span",{className:"_27uu",children:[c,b("React").jsx(b("ShimButton.react"),{className:"_27uv",form:"link",onClick:function(){return a.$1(!1)},children:h._("See Less")})]}):b("React").jsxs("span",{className:"_27uu",children:[d,e]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastEditRHCButtonContainer.react",["FluxContainer","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastEditRHCButton.react","LiveVideoBroadcastIDStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastUIStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastIDStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastCrosspostStore")]};c.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.commentModes,e=a.composerConfig,f=a.episodeData,g=a.isLiveCoverVideoEnabled,h=a.isRewindEnabled,i=a.isUpdateRequestPending,j=a.enableEventTicketPromotion;a=a.canEnableLiveCoverVideo;var k=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),l=b("LiveVideoBroadcastIDStore").get("broadcastID"),m=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),n=m.actorID;m=m.targetID;var o=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),p=o.apiVideoID,q=o.areCountriesIncluded,r=o.copyrightMonitoringType,s=o.copyrightRuleID,t=o.copyrightWhitelistedFBUsers,u=o.copyrightWhitelistedIGUserNames,v=o.isContinuous,w=o.isCopyrighted,x=o.isEmbeddable,y=o.ownershipCountries,z=o.selectedCategory,A=o.shouldExpireAfterGoLive;o=o.shouldShowGraphicContentWarning;var B=b("LiveVideoBroadcastCrosspostStore").getState().toObject();B=B.crosspostingConfig;var C=b("LiveVideoBroadcastCrosspostStore").shouldShareWithOwningBusiness();r={copyrightMonitoringType:r,copyrightRuleID:s,copyrightWhitelistedFBUsers:t,copyrightWhitelistedIGUserNames:u,areCopyrightCountriesIncluded:q,copyrightOwnershipCountries:y,selectedCategory:z};return{actorID:n,broadcastID:l,commentModes:d,composerConfig:e,crosspostingConfig:B,metadataConfig:k,accessToken:c,apiVideoID:p,copyrightData:r,targetID:m,isContinuous:v,isCopyrighted:w,isEmbeddable:x,isLiveCoverVideoEnabled:g,isRewindEnabled:h,isUpdateRequestPending:i,episodeData:f,shareWithOwningBusiness:C,shouldExpireAfterGoLive:A,shouldShowGraphicContentWarning:o,enableEventTicketPromotion:j,canEnableLiveCoverVideo:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoBroadcastEditRHCButton.react"),{accessToken:this.state.accessToken,actorID:this.state.actorID,apiVideoID:this.state.apiVideoID,broadcastID:this.state.broadcastID,canEnableLiveCoverVideo:this.state.canEnableLiveCoverVideo,commentModes:this.state.commentModes,composerConfig:this.state.composerConfig,copyrightData:this.state.copyrightData,crosspostingConfig:b("LiveVideoBroadcastCrosspostStore").convertCrosspostingConfig(this.state.crosspostingConfig),enableEventTicketPromotion:this.state.enableEventTicketPromotion,episodeData:this.state.episodeData,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable,isLiveCoverVideoEnabled:this.state.isLiveCoverVideoEnabled,isRewindEnabled:this.state.isRewindEnabled,isUpdateRequestPending:this.state.isUpdateRequestPending,metadataConfig:this.state.metadataConfig,shareWithOwningBusiness:this.state.shareWithOwningBusiness,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,targetID:this.state.targetID})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastEndingModalOverlay.react",["cx","fbt","ix","Image.react","LiveVideoBroadcastModalOverlay.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:a.jsx("div",{children:a.jsxs("div",{children:[a.jsx("div",{className:"_5ynu",children:a.jsxs("div",{className:"_5yo7",children:[a.jsx("div",{className:"_5yo8"}),a.jsx(b("Image.react"),{className:"_5yo9",src:i("101608")})]})}),h._("Ending Live Video")]})})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastEventPromotionLiveOptions.react",["ix","cx","fbt","FBConfirmDialog.react","FDSLink.react","FDSText.react","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastComposerRHCSection.react","LiveVideoBroadcastEditPromotedEventsMutation","React","RelayFBEnvironment","RelayHooks","asset","cxMargin","qex","LiveVideoBroadcastEventPromotionLiveOptionsQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LiveVideoBroadcastEditPromotedEventsMutation").commit,l=b("React").useCallback,m=b("React").useEffect,n=b("React").useState;b("RelayHooks").graphql;var o=b("RelayHooks").useLazyLoadQuery,p=j!==void 0?j:j=b("LiveVideoBroadcastEventPromotionLiveOptionsQuery.graphql");function a(a){__p&&__p();var c=a.videoID;a=o(p,{video_id:c});a=n((a=a==null?void 0:(a=a.video)==null?void 0:(a=a.event_promotion_options)==null?void 0:a.num_promoted_events)!=null?a:0);var d=a[0],e=a[1];a=n(!1);var f=a[0],h=a[1];m(function(){d>0&&h(b("qex")._("1178831")===!0)},[d]);a=l(function(a){b("LiveVideoBroadcastActions").clearPromotedEventsStarted(),k(b("RelayFBEnvironment"),{videoID:c,eventIDs:[]}).then(function(a){b("LiveVideoBroadcastActions").clearPromotedEventsSuccess();e((a=a==null?void 0:(a=a.set_promoted_events_in_video)==null?void 0:(a=a.event_promotion_options)==null?void 0:a.num_promoted_events)!=null?a:d)})["catch"](function(a){b("LiveVideoBroadcastActions").clearPromotedEventsFailed()})["finally"](function(){r(!1)})},[d,c]);var j=n(!1),q=j[0],r=j[1];j=l(function(){r(!0)},[]);var s=l(function(){r(!1)},[]);if(d===0||f===!1)return b("React").jsx(b("React").Fragment,{});f=i._("TICKETS & EVENTS");var t=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("420675")});return b("React").jsxs("div",{className:"_1q75",children:[b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:t,sectionTitle:f,startOpen:!0,children:b("React").jsxs("div",{className:"_3-9b _3-8x _3-90",children:[b("React").jsx(b("FDSText.react"),{color:"secondary",margin:"_3-95",size:"body1",children:i._("You're promoting {=event}. Viewers will see the event closest to them and be able to get tickets.",[i._param("=event",b("React").jsx(b("FDSText.react"),{weight:"bold",children:i._({"*":"{number} events","_1":"1 event"},[i._plural(d,"number")])}))])}),b("React").jsx(b("FDSLink.react"),{margin:"_3-95",onClick:j,children:b("React").jsx(b("FDSText.react"),{color:"negative",size:"body1",children:i._("Stop Promoting Events")})})]})}),q&&b("React").jsx(b("FBConfirmDialog.react"),{content:i._("If you stop promoting events, viewers will not see any events during your live video."),shown:!0,title:i._("Stop Promoting Events?"),onCancel:s,onConfirm:a,onToggle:s})]})}e.exports=a}),null);
__d("LiveVideoBroadcastEventPromotionOverlay.react",["ix","cx","fbt","Arbiter","EventPromotionAlertViewDate.react","EventPromotionAlertViewInfo.react","EventPromotionAlertViewUtils.react","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","LiveVideoInteractiveAlertViewRoot.react","LiveVideoTimedFadeContainer.react","React","RelayFBEnvironment","RelayHooks","URI","XEventsPermalinkController","asset","qex","recoverableViolation","LiveVideoBroadcastEventPromotionOverlayQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b("EventPromotionAlertViewUtils.react").EVENT_PROMOTION_ALERT_VIEW_BUTTON_PROPS,m=(c=b("React")).useCallback,n=c.useEffect,o=c.useRef,p=c.useState,q=b("RelayHooks").RelayEnvironmentProvider;b("RelayHooks").graphql;var r=b("RelayHooks").useLazyLoadQuery,s=(k||(k=b("URI"))).goURIOnNewWindow,t=j!==void 0?j:j=b("LiveVideoBroadcastEventPromotionOverlayQuery.graphql");function u(a){__p&&__p();a=a.videoID;var c=r(t,{video_id:a}),d=c==null?void 0:(c=c.video)==null?void 0:(c=c.event_promotion_options)==null?void 0:c.nearest_promoted_event;c=p(!1);var e=c[0],f=c[1];c=p(!1);var h=c[0],j=c[1],k=o(null);c=p(!1);var q=c[0],u=c[1],v=m(function(){u(!0)},[]);n(function(){d!=null&&(f(b("qex")._("1178831")===!0),k.current=b("Arbiter").subscribe(b("LiveVideoTimedFadeContainer.react").DISMISS_EVENT,v));return function(){k.current!=null&&(b("Arbiter").unsubscribe(k.current),k.current=null)}},[d,v]);c=m(function(){var a=b("XEventsPermalinkController").getURIBuilder().setFBID("event_id",d==null?void 0:d.id).getURI();s(a)},[d]);var w=m(function(){var a=d==null?void 0:d.event_buy_ticket_url;if(a==null){b("recoverableViolation")("Trying to open invalid ticket link","video");return}s(a)},[d]),x=m(function(){j(!0)},[]);if(d==null||d.id==null||e===!1||q===!0)return b("React").jsx(b("React").Fragment,{});q=b("React").jsx(b("EventPromotionAlertViewInfo.react"),{eventDayTimeSentence:d.day_time_sentence,eventID:d.id,eventName:d.name,eventPlaceCityContextualName:(e=d.event_place)==null?void 0:(q=e.city)==null?void 0:q.contextual_name,eventPlaceContextualName:(e=d.event_place)==null?void 0:e.contextual_name});e=b("React").jsx(b("EventPromotionAlertViewDate.react"),{timestamp:d.tz_agnostic_start_timestamp});c=b("React").jsx(b("FDSButton.react"),babelHelpers["extends"]({icon:b("React").jsx(b("Image.react"),{src:g("535058")}),label:i._("View Event")},l,{onClick:c}));h=b("React").jsx(b("FDSButton.react"),{icon:h?b("React").jsx(b("Image.react"),{src:g("489590")}):b("React").jsx(b("Image.react"),{src:g("492365")}),label:i._("Interested"),size:"medium",use:h?"primary":"default",width:"100%",onClick:x});x=b("React").jsx(b("FDSButton.react"),babelHelpers["extends"]({icon:b("React").jsx(b("Image.react"),{src:g("727214")}),label:i._("Get Tickets")},l,{onClick:w}));w=c;c=d.event_buy_ticket_url!=null?x:h;return b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_8r7e",direction:"vertical",children:[b("React").jsx(b("LiveVideoInteractiveAlertViewRoot.react"),{action:"support",ctaButton:c,dateUnit:e,description:q,doNotDismissOnCtaConfirmedButtonClicked:!0,isEventCard:!0,secondaryButton:w,socialContext:null,type:"event_upsell",videoID:a}),b("React").jsx(b("FDSText.react"),{color:"white",size:"body1",children:i._("Viewers are shown the event closest to them.")})]})}function a(a){var c;a=a.videoID;return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx(c.Fragment,{}),children:c.jsx(q,{environment:b("RelayFBEnvironment"),children:c.jsx(u,{videoID:a})})})}e.exports=a}),null);
__d("LiveVideoBroadcastSessionFeedback.react",["cx","fbt","BxButton.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){var i=b("React").useCallback,j=h._("Share what went wrong or what would've made this better"),k={"Broadcast delay or lagging":h._("Broadcast delay or lagging"),"Video quality":h._("Video quality"),"Audio problems":h._("Audio problems"),"Broken features or tools":h._("Broken features or tools"),"Low engagement":h._("Low engagement"),"Stream ended unexpectedly":h._("Stream ended unexpectedly"),Other:h._("Other")};function a(a){var c=a.issues,d=a.onSelect,e=i(function(a){d(a)},[d]);return b("React").jsxs("div",{className:"_69o9 _7qwr",children:[b("React").jsx(b("FDSText.react"),{color:"white",size:"header3",children:j}),b("React").jsx("div",{className:"_3-8x",children:Object.keys(k).map(function(a){var d=e.bind(null,a);return b("React").jsx("div",{className:"_3-8h _7qws",children:b("React").jsx(b("BxButton.react"),{className:"_7qwt",colorScheme:"dark",label:k[a],padding:2,secondary:!c.includes(a),small:!0,onClick:d})},a)})})]})}e.exports=a}),null);
__d("LiveVideoBroadcastSessionRatingStar.react",["ix","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g){__p&&__p();var h=g("489597"),i=g("489592");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onClick(c.props.value)},c.$2=function(){c.props.onHover(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(a){a.preventDefault()};d.render=function(){var a=b("React").jsx(b("Image.react"),{className:"_3-8r",src:i,onClick:this.$1,onDragStart:this.$3}),c=b("React").jsx(b("Image.react"),{className:"_3-8r",src:h,onClick:this.$1,onDragStart:this.$3});return b("React").jsx("span",{onMouseEnter:this.$2,children:this.props.fill?a:c})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("LiveVideoBroadcastSessionRating.react",["cx","fbt","FDSText.react","LiveVideoBroadcastActions","LiveVideoBroadcastSessionFeedback.react","LiveVideoBroadcastSessionRatingStar.react","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=h._("Please rate your broadcasting experience"),j=5;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hoverRating:0,isHovering:!1,rating:0,issues:[]},d.$1=function(a){var c=d.state.issues;d.setState({rating:a},function(){b("LiveVideoBroadcastActions").broadcasterSessionRating(a,c)})},d.$2=function(a){var c=d.state,e=c.rating;c=c.issues;var f=c;c=c.indexOf(a);c!==-1?f.splice(c,1):f.push(a);d.setState({issues:f},function(){b("LiveVideoBroadcastActions").broadcasterSessionIssues(e,f)})},d.$3=function(){d.setState({isHovering:!0})},d.$4=function(){d.setState({isHovering:!1,hoverRating:0})},d.$5=function(a){d.setState({hoverRating:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.state,d=c.isHovering,e=c.hoverRating,f=c.rating;c=c.issues;var g=this.props.showSessionFeedback&&f!==0&&f<j,h=new Array(j).fill("").map(function(c,g){c=g<(d?e:f);g=g+1;return b("React").jsx(b("LiveVideoBroadcastSessionRatingStar.react"),{fill:c,value:g,onClick:a.$1,onHover:a.$5},"stars-"+(c?"fill":"blank")+"-"+g)});return b("React").jsxs("div",{className:"_7kr-",children:[b("React").jsx("div",{className:"_7kr_",children:b("React").jsx(b("FDSText.react"),{color:"white",size:"header3",children:i})}),b("React").jsx("div",{className:"_7ks0",children:b("React").jsx("span",{onMouseEnter:this.$3,onMouseLeave:this.$4,children:h})}),g&&b("React").jsx(b("LiveVideoBroadcastSessionFeedback.react"),{issues:c,onSelect:this.$2})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastFinishedActions.react",["cx","fbt","FBConfirmDialog.react","Link.react","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastConstants","LiveVideoBroadcastSessionRating.react","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoBroadcastConstants").INPUT_SOURCE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmDeleteDialog:!1},d.$1=function(){d.props.inputSource===i.CAMERA||d.props.inputSource===i.EDIT?b("LiveVideoBroadcastActions").deleteReplayVideo():b("LiveVideoBroadcastAPIActions").deleteAPIReplayVideo(),b("LiveVideoBroadcastActions").cleanup()},d.$2=function(){d.setState({showConfirmDeleteDialog:!1})},d.$3=function(){d.setState({showConfirmDeleteDialog:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){b("LiveVideoBroadcastActions").cleanup()};d.render=function(){var a=h._("Done"),c=h._("If you continue, this live video and its post will be permanently deleted."),d=h._("Delete video?");c=this.state.showConfirmDeleteDialog?b("React").jsx(b("FBConfirmDialog.react"),{content:c,shown:!0,title:d,onCancel:this.$2,onConfirm:this.$1,onToggle:this.$2}):null;return b("React").jsxs("div",{children:[this.props.showSessionRating?b("React").jsx(b("LiveVideoBroadcastSessionRating.react"),{showSessionFeedback:this.props.showSessionFeedback}):null,b("React").jsx(b("XUIButton.react"),{className:"_yjt","data-testid":"done-button",label:a,size:"xlarge",onClick:this.$4}),b("React").jsx("div",{children:b("React").jsx(b("Link.react"),{className:"_4ozm",onClick:this.$3,children:h._("Delete Video")})}),c]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastFinishedActionsContainer.react",["FluxContainer","LiveVideoBroadcastConstants","LiveVideoBroadcastFinishedActions.react","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").INPUT_SOURCE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastUIStore")]};c.calculateState=function(a){a=b("LiveVideoBroadcastUIStore").getState().toObject();var c=a.gks;a=a.inputSource;return{inputSource:a,showSessionRating:(c==null?void 0:c.www_live_video_broadcaster_session_rating)===!0&&a!==g.CAMERA,showSessionFeedback:(c==null?void 0:c.www_live_video_broadcaster_session_feedback)===!0&&a!==g.CAMERA}};var d=c.prototype;d.render=function(){return b("React").jsx(b("LiveVideoBroadcastFinishedActions.react"),babelHelpers["extends"]({},this.state))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastFailedConnectionModalOverlay.react",["cx","fbt","LiveVideoBroadcastFinishedActionsContainer.react","LiveVideoBroadcastModalOverlay.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){var a;return(a=b("React")).jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:a.jsxs("div",{className:"_alo",children:[a.jsx("div",{className:"_alp",children:h._("Failed to Reconnect")}),a.jsx("div",{className:"_alq",children:h._("Due to poor wireless connection, your live video has been ended.")}),a.jsx(b("LiveVideoBroadcastFinishedActionsContainer.react"),{})]})})};e.exports=a}),null);
__d("LiveVideoBroadcastFinishedVideoOverlay.react",["cx","fbt","ix","Image.react","LiveVideoBroadcastFinishedActionsContainer.react","LiveVideoBroadcastVideoOverlay.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c;this.props.showContent&&(this.props.shareMode==="group"?c=b("React").jsx("p",{children:h._("The replay of your live video will be available soon in this group.")}):this.props.shareMode==="event"?c=b("React").jsx("p",{children:h._("The replay of your live video will be available soon in this event.")}):c=b("React").jsx("p",{children:h._("The replay of your live video will be available soon on your Timeline")}),a=b("React").jsxs("div",{children:[b("React").jsx("div",{children:b("React").jsx(b("Image.react"),{className:"_-7v",display:"block",src:i("101609")})}),b("React").jsx("p",{className:"_yju",children:h._("Your live video has ended")}),c,b("React").jsx(b("LiveVideoBroadcastFinishedActionsContainer.react"),{})]}));return b("React").jsx(b("LiveVideoBroadcastVideoOverlay.react"),{children:b("React").jsx("div",{className:"_-7_",children:a})})};return c}(b("React").Component);e.exports=a}),null);
__d("XVideoLiveViewCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/liveviewcount/",{player_origin:{type:"Enum",enumType:1},video_id:{type:"String",required:!0},source:{type:"String",required:!0},unmuted:{type:"Bool",defaultValue:!0},read_only:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveVideoBroadcastLiveIndicatorOverlay.react",["cx","fbt","AsyncRequest","DOMContainer.react","Duration.react","HTML","LiveVideoBroadcastVideoOverlay.react","React","XVideoLiveViewCountController","clearInterval","setInterval"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=3e3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={viewCount:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$3();this.$1=b("setInterval")(function(){return a.$3()},i)};d.componentWillUnmount=function(){this.$1&&b("clearInterval")(this.$1),this.$2&&this.$2.abort()};d.$3=function(){var a=this,c=b("XVideoLiveViewCountController").getURIBuilder().setString("video_id",this.props.videoID).setString("source","live_video_broadcast").setBool("unmuted",!1).getURI();this.$2=new(b("AsyncRequest"))().setMethod("GET").setURI(c).setReadOnly(!0).setHandler(function(b){return a.$4(b)});this.$2.send()};d.$4=function(a){a&&this.setState({viewCount:b("HTML").replaceJSONWrapper(a.payload).getRootNode()})};d.render=function(){var a=b("React").jsx("div",{className:"_3rno _530p _31r-",children:b("React").jsx("div",{className:"_5pe-"+(this.props.isRehearsal?" _1dvf":""),children:b("React").jsxs("span",{className:"_2wrk"+(this.props.isRehearsal?" _7bca":""),children:[h._("LIVE"),b("React").jsx("span",{className:"_31r_",children:b("React").jsx(b("Duration.react"),{startTime:this.props.startTime,useLocalTime:this.props.useLocalTime})})]})})}),c=null;this.state.viewCount&&(c=b("React").jsx(b("DOMContainer.react"),{children:this.state.viewCount}));return b("React").jsxs(b("LiveVideoBroadcastVideoOverlay.react"),{leftAligned:!0,suppressPointerEvents:!0,children:[a,c]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastPublishFailureModalOverlay.react",["cx","fbt","CenteredContainer.react","LiveVideoBroadcastActions","LiveVideoBroadcastModalOverlay.react","React","XUIButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastActions").cleanup()};d.render=function(){var a;return(a=b("React")).jsx(b("LiveVideoBroadcastModalOverlay.react"),{children:a.jsxs(b("CenteredContainer.react"),{className:"_p-d",vertical:!0,children:[a.jsx("div",{className:"_p-e",children:a.jsx(b("XUIText.react"),{size:"xlarge_DEPRECATED",children:h._("Live Video Stopped")})}),a.jsx("div",{className:"_p-f",children:a.jsxs(b("XUIText.react"),{size:"header3",children:[h._("There was an error publishing your live video to News Feed. Please check your connection and camera."),a.jsx("br",{}),a.jsx("br",{}),h._("If you continue to experience issues, try restarting your browser.")]})}),a.jsx(b("XUIButton.react"),{className:"_yjt","data-testid":"done-button",label:h._("Done"),size:"xlarge",onClick:this.$1})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastPublishedPollOverlayOption.react",["cx","Image.react","React","RelayModern","LiveVideoBroadcastPublishedPollOverlayOption_option.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.option,e=c.pollStatus;c=c.totalVotes;a=(a=(a=(a=d.sticker)==null?void 0:(a=a.animated_image)==null?void 0:a.uri)!=null?a:(a=d.sticker)==null?void 0:a.url)!=null?a:"";var f=a!=="",g=d.num_votes||0;g=(c===0?0:Math.round(g/c*100))+"%";c=e==="CLOSED"||e==="RESULTS_OPEN";return b("React").jsxs("div",{className:"_6u_-"+(c?" _6v2-":"")+(d.is_correct?" _6v2_":""),style:{height:f?"80px":"40px"},children:[b("React").jsx("div",{className:"_6u_6",style:{width:g}}),f?b("React").jsx("div",{className:"_86yr",children:b("React").jsx(b("Image.react"),{className:"_89wf",src:a})}):b("React").jsx("div",{className:"_6u_7",children:d.option_text}),b("React").jsx("div",{className:"_6u_8",style:{top:f?"25%":"0"},children:g})]})};return c}(b("React").Component);e.exports=a(c,{option:h!==void 0?h:h=b("LiveVideoBroadcastPublishedPollOverlayOption_option.graphql")})}),null);
__d("LiveVideoBroadcastPublishedPollOverlayContainer.react",["ix","cx","fbt","FDSSpinner.react","FDSText.react","Image.react","Link.react","LiveVideoBroadcastPublishedPollOverlayOption.react","LiveVideoBroadcastVideoOverlay.react","React","RelayFBEnvironment","RelayModern","VideoComposerPollsConstants","asset","cxMargin","LiveVideoBroadcastPublishedPollOverlayContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=j!==void 0?j:j=b("LiveVideoBroadcastPublishedPollOverlayContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=a.error,e=a.props,f,g,h;a=(a=e)!=null?(a=a.poll)!=null?a.video_poll_www_placement:a:a;if(!a)return null;else a=a.toLowerCase();if(c)f=i._("We are unable to load your polls at this time. Please try again.");else if(e){var j;f=(j=e)!=null?(j=j.poll)!=null?j.question_text:j:j;h=(j=e)!=null?(j=j.poll)!=null?j.poll_status:j:j;j=((j=e)!=null?(j=j.poll)!=null?(j=j.video_poll_options)!=null?j.edges:j:j:j)||[];g=j.map(function(a){var c;a=a.node;return!a?null:b("React").jsx(b("LiveVideoBroadcastPublishedPollOverlayOption.react"),{option:a,pollStatus:(c=e)!=null?(c=c.poll)!=null?c.poll_status:c:c,totalVotes:((c=e)!=null?(c=c.poll)!=null?c.total_votes:c:c)||0},a.id)})}else g=b("React").jsx(b("FDSSpinner.react"),{center:!0,margin:"_3-8n"});return b("React").jsx(b("LiveVideoBroadcastVideoOverlay.react"),{bottomAligned:a==="bottom_left"||a==="bottom_right",leftAligned:a==="bottom_left"||a==="top_left",isPollCard:!0,rightAligned:a==="bottom_right"||a==="top_right",children:b("React").jsxs("div",{className:"_6u_y",children:[b("React").jsxs("div",{className:"_6u_5",children:[b("React").jsx("div",{className:"_6v30",children:b("React").jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:f})}),(c||h==="RESULTS_OPEN"||h==="CLOSED")&&d.$2()]}),g]})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){return b("React").jsx("div",{className:"_6v31",children:b("React").jsx(b("Link.react"),{onClick:this.props.onCloseButtonClick,children:b("React").jsx(b("Image.react"),{src:g("478238")})})})};d.render=function(){var a={poll_id:this.props.pollID,max_poll_options:b("VideoComposerPollsConstants").MAX_LIVE_OPTIONS_COUNT};return b("React").jsx(k,{environment:b("RelayFBEnvironment"),query:l,render:this.$1,variables:a})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastVideoPollCardOverlayContainer.react",["cx","fbt","FDSSpinner.react","FDSText.react","FlexLayout.react","LiveVideoBroadcastVideoOverlay.react","React","RelayFBEnvironment","RelayModern","VideoComposerPollsConstants","VideoPollCardHeader.react","VideoPollCardOptionContainer.react","cxMargin","LiveVideoBroadcastVideoPollCardOverlayContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=i!==void 0?i:i=b("LiveVideoBroadcastVideoPollCardOverlayContainerQuery.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){__p&&__p();var c=a.error,e=a.props;c&&(a=b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_88qk",direction:"vertical",justify:"all",children:b("React").jsx(b("FDSText.react"),{color:"white",size:"header4",weight:"bold",children:h._("We are unable to load your polls at this time. Please try again.")})}));if(e){c=((c=e)!=null?(c=c.poll)!=null?(c=c.video_poll_options)!=null?c.edges:c:c:c)||[];c=c.filter(function(a){return a.node!=null});var f=c.some(function(a){return((a=a.node)==null?void 0:a.is_correct)===!0}),g=c.map(function(a){var b,c,d;a=a.node;b=(b=a==null?void 0:a.num_votes)!=null?b:0;c=(c=(c=e.poll)==null?void 0:c.total_votes)!=null?c:0;var g=0;c!=0&&(g=Math.round(b*100/c));return{id:(d=a==null?void 0:a.id)!=null?d:"0",isCorrect:(d=a==null?void 0:a.is_correct)!=null?d:!1,selectedOption:(d=a==null?void 0:a.is_correct)!=null?d:!1,optionText:(d=a==null?void 0:a.option_text)!=null?d:"",stickerURI:(a=(d=a==null?void 0:(d=a.sticker)==null?void 0:(d=d.animated_image)==null?void 0:d.uri)!=null?d:a==null?void 0:(d=a.sticker)==null?void 0:d.url)!=null?a:"",percentage:g,numVotes:b,pollCardStateData:{correctAnswerExists:f,selectedOptionExists:f,canViewerSeeResult:!0,canViewerVote:!1,totalVotes:c}}}).filter(function(a){return a!==null});a=b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_88qk"+(c.length===2?" _88ql":"")+(c.length===3?" _88qm":"")+(c.length===4?" _88qn":"")+(c.length===5||c.length===6?" _88qo":""),direction:"vertical",justify:"all",children:[b("React").jsx(b("VideoPollCardHeader.react"),{optionCount:c.length,preview:!1,question:(c=(c=e)!=null?(c=c.poll)!=null?c.question_text:c:c)!=null?c:"",showCloseButton:!1,onCloseButtonClick:d.$2}),b("React").jsx(b("VideoPollCardOptionContainer.react"),{changeVote:d.$2,options:g})]})}else a=b("React").jsx(b("FlexLayout.react"),{align:"center",className:"_88qk",direction:"vertical",justify:"all",children:b("React").jsx(b("FDSSpinner.react"),{center:!0,margin:"_3-8n"})});return b("React").jsx(b("LiveVideoBroadcastVideoOverlay.react"),{bottomAligned:!0,isPollCard:!0,children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a={poll_id:this.props.pollID,max_poll_options:b("VideoComposerPollsConstants").MAX_LIVE_OPTIONS_COUNT};return b("React").jsx(j,{environment:b("RelayFBEnvironment"),query:k,render:this.$1,variables:a})};d.$2=function(){return};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastPublishedPollOverlayRootContainer.react",["LiveVideoBroadcastPublishedPollOverlayContainer.react","LiveVideoBroadcastVideoPollCardOverlayContainer.react","React","RelayFBEnvironment","RelayModern","gkx","LiveVideoBroadcastPublishedPollOverlayRootContainerSubscriptionQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={mostRecentPollID:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=h(b("RelayFBEnvironment"),{subscription:g!==void 0?g:g=b("LiveVideoBroadcastPublishedPollOverlayRootContainerSubscriptionQuery.graphql"),variables:{input:{video_id:this.props.videoID},video_id:this.props.videoID},onNext:function(b){b=(b=b)!=null?(b=b.live_video_context_component_viewer_subscribe)!=null?(b=b.video)!=null?(b=b.latest_created_poll)!=null?b.id:b:b:b:b;a.state.mostRecentPollID!==b&&a.setState({mostRecentPollID:b})}})};d.render=function(){return b("gkx")("1005602")?this.state.mostRecentPollID===null||this.state.mostRecentPollID===void 0?null:b("React").jsx(b("LiveVideoBroadcastVideoPollCardOverlayContainer.react"),{pollID:this.state.mostRecentPollID}):this.state.mostRecentPollID===null||this.state.mostRecentPollID===void 0?null:b("React").jsx(b("LiveVideoBroadcastPublishedPollOverlayContainer.react"),{pollID:this.state.mostRecentPollID,onCloseButtonClick:this.props.onCloseButtonClick})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastRequestCameraAccessMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=h._("To create a live broadcast, make sure your camera and microphone are turned on and Facebook Live is allowed to use them.");return(a=b("React")).jsx("div",{className:"_1jpj",children:a.jsxs("div",{className:"_1jpk",children:[a.jsx("div",{className:"_1jpm",children:h._("Accessing your camera")}),a.jsx("div",{className:"_1jpn",children:c}),a.jsx("div",{className:"_1jpo",children:h._("You can always turn these off later.")})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastShoppingSectionProductItemFeatureButton.react",["fbt","FDSButton.react","FDSButtonSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.isFeatured?g._("Featuring"):g._("Feature");return b("React").jsx(b("FDSButton.react"),{busyIndicator:a.isTransitioning?b("React").jsx(b("FDSButtonSpinner.react"),{}):null,isDisabled:a.isDisabled,label:c,use:a.isFeatured?"primary":"default",onClick:a.isFeatured?a.onProductItemUnfeature:a.onProductItemFeature})}e.exports=a}),null);
__d("LiveVideoBroadcastShoppingSectionProductItem.react",["cx","Image.react","LiveVideoBroadcastShoppingSectionProductItemFeatureButton.react","React","TetraTextPairing.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onProductItemFeature(c.props.productItemId)},c.$2=function(a){c.props.onProductItemUnfeature(c.props.productItemId)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_8qca",children:[a.jsx(b("Image.react"),{className:"_8qc3",src:this.props.productItemImageUri}),a.jsx("div",{className:"_8qcb",children:a.jsx(b("TetraTextPairing.react"),{body:this.props.productItemPrice,bodyColor:"secondary",bodyLineLimit:1,headline:this.props.productItemName,headlineLineLimit:1,level:4})}),a.jsx(b("LiveVideoBroadcastShoppingSectionProductItemFeatureButton.react"),{isDisabled:this.props.featureButtonIsDisabled,isFeatured:this.props.featureButtonIsFeatured,isTransitioning:this.props.featureButtonIsTransitioning,onProductItemFeature:this.$1,onProductItemUnfeature:this.$2})]},this.props.productItemId)};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastShoppingSectionProductItems.react",["LiveVideoBroadcastShoppingSectionProductItem.react","React","RelayHooks","LiveVideoBroadcastShoppingSectionProductItemsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayHooks").graphql;var h=b("RelayHooks").useLazyLoadQuery,i=g!==void 0?g:g=b("LiveVideoBroadcastShoppingSectionProductItemsQuery.graphql");function a(a){a.actorID;var c=a.featuredProductItemId,d=a.maxProductItems;d=d===void 0?20:d;var e=a.onProductItemFeature,f=a.onProductItemUnfeature,g=a.productSetId,j=a.transitioningProductItemId;a=h(i,{product_set_id:g});a=((a==null?void 0:(g=a.node)==null?void 0:g.product_items)||[]).slice(0,d);return b("React").jsx("div",{children:a.map(function(a){var d;return b("React").jsx(b("LiveVideoBroadcastShoppingSectionProductItem.react"),{featureButtonIsDisabled:j!==null,featureButtonIsFeatured:a.id===c,featureButtonIsTransitioning:a.id===j,productItemId:a.id,productItemImageUri:(d=a.main_image)==null?void 0:(d=d.image)==null?void 0:d.uri,productItemName:a.name,productItemPrice:(d=a.product_item_price)==null?void 0:d.formatted_amount,onProductItemFeature:e,onProductItemUnfeature:f},a.id)})})}e.exports=a}),null);
__d("LiveVideoBroadcastShoppingSectionProductSetSelector.react",["fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","React","RelayHooks","LiveVideoBroadcastShoppingSectionProductSetSelectorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("RelayHooks").graphql;var i=b("RelayHooks").useLazyLoadQuery,j=h!==void 0?h:h=b("LiveVideoBroadcastShoppingSectionProductSetSelectorQuery.graphql");function a(a){__p&&__p();var c=a.actorID,d=a.maxProductSets;d=d===void 0?20:d;var e=a.onProductSetChange;a=a.selectedProductSetId;c=i(j,{owner_id:(c=c)!=null?c:""});var f=[];for(var c=(c=c==null?void 0:(c=c.page)==null?void 0:c.product_taggable_catalogs)!=null?c:[],h=Array.isArray(c),k=0,c=h?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(k>=c.length)break;l=c[k++]}else{k=c.next();if(k.done)break;l=k.value}l=l;for(var l=(l=l==null?void 0:(l=l.product_sets)==null?void 0:l.edges)!=null?l:[],m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o,p;if(m){if(n>=l.length)break;p=l[n++]}else{n=l.next();if(n.done)break;p=n.value}p=p;p=p.node;if(((o=p==null?void 0:p.dynamic_items_count)!=null?o:0)>0){f.push(p);if(f.length>=d)break}if(f.length>=d)break}}return b("React").jsx(b("FDSDropdownSelector.react"),{placeholder:g._("Product Sets"),value:a,onChange:e,children:f.map(function(a){var c;return b("React").jsx(b("FDSDropdownSelectorOption.react"),{value:a==null?void 0:a.id,children:(c=a==null?void 0:a.name)!=null?c:""},a==null?void 0:a.id)})})}e.exports=a}),null);
__d("LiveVideoBroadcastShoppingSection.react",["ix","cx","fbt","ErrorBoundary.react","FDSSpinner.react","FDSText.react","Image.react","LiveVideoBroadcastActions","LiveVideoBroadcastComposerRHCSection.react","LiveVideoBroadcastShoppingSectionProductItems.react","LiveVideoBroadcastShoppingSectionProductSetSelector.react","React","RelayFBEnvironment","RelayHooks","RelayModern","asset","LiveVideoBroadcastShoppingSectionCommentPinMutation.graphql","LiveVideoBroadcastShoppingSectionCommentUnpinMutation.graphql","LiveVideoBroadcastShoppingSectionProductFeatureMutation.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("React").Suspense;b("RelayHooks").graphql;var n=b("RelayModern").commitMutation,o=j!==void 0?j:j=b("LiveVideoBroadcastShoppingSectionCommentPinMutation.graphql"),p=k!==void 0?k:k=b("LiveVideoBroadcastShoppingSectionCommentUnpinMutation.graphql"),q=l!==void 0?l:l=b("LiveVideoBroadcastShoppingSectionProductFeatureMutation.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={featuredProductItemId:null,selectedProductSetId:null,transitioningProductItemId:null},d.$1=function(a){__p&&__p();b("LiveVideoBroadcastActions").logShoppingProductFeatureClick(d.state.selectedProductSetId,a),d.setState({transitioningProductItemId:a},function(c){__p&&__p();n(b("RelayFBEnvironment"),{mutation:p,variables:{input:{actor_id:d.props.actorID,video_id:d.props.videoID,video_time_offset:0}},onError:function(a){d.setState({transitioningProductItemId:null});throw a},onCompleted:function(){d.setState({featuredProductItemId:null},function(c){n(b("RelayFBEnvironment"),{mutation:q,variables:{input:{actor_id:d.props.actorID,video_id:d.props.videoID,product_item_id:a,product_set_id:d.state.selectedProductSetId}},onError:function(a){d.setState({transitioningProductItemId:null});throw a},onCompleted:function(c,e){n(b("RelayFBEnvironment"),{mutation:o,variables:{input:{actor_id:d.props.actorID,video_id:d.props.videoID,video_time_offset:c.live_video_product_feature.comment.timestamp_in_video,comment_id:c.live_video_product_feature.comment.id}},onError:function(a){d.setState({transitioningProductItemId:null});throw a},onCompleted:function(){d.setState({featuredProductItemId:a,transitioningProductItemId:null})}})}})})}})})},d.$2=function(a){b("LiveVideoBroadcastActions").logShoppingProductUnfeatureClick(d.state.selectedProductSetId,a),d.setState({transitioningProductItemId:a}),n(b("RelayFBEnvironment"),{mutation:p,variables:{input:{actor_id:d.props.actorID,video_id:d.props.videoID,video_time_offset:0}},onError:function(a){d.setState({transitioningProductItemId:null});throw a},onCompleted:function(){d.setState({featuredProductItemId:null,transitioningProductItemId:null})}})},d.$3=function(a){b("LiveVideoBroadcastActions").logShoppingProductSetSelect(a),d.setState({selectedProductSetId:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){return b("React").jsx(b("FDSText.react"),{weight:"bold",children:i._("We are unable to load your product items at this time.")})};d.$5=function(){return b("React").jsx(b("FDSText.react"),{weight:"bold",children:i._("We are unable to load your product sets at this time.")})};d.render=function(){if(this.props.actorID===null)return null;var a=b("React").jsx(b("Image.react"),{className:"_1q74",src:g("543731")}),c=i._("FEATURE PRODUCTS"),d=i._("Select a product set, then feature products to sell in your live stream. You can feature one product at a time.");return b("React").jsx("div",{className:"_8qcc",children:b("React").jsx(b("LiveVideoBroadcastComposerRHCSection.react"),{glyph:a,sectionTitle:c,startOpen:!0,children:b("React").jsxs("div",{className:"_8qdp",children:[b("React").jsx("div",{className:"_8qcd",children:b("React").jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:d})}),b("React").jsx("div",{className:"_8qce",children:b("React").jsx(b("ErrorBoundary.react"),{fallbackComponent:this.$5,children:b("React").jsx(m,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0,size:"small"}),children:b("React").jsx(b("LiveVideoBroadcastShoppingSectionProductSetSelector.react"),{actorID:this.props.actorID,selectedProductSetId:this.state.selectedProductSetId,onProductSetChange:this.$3})})})}),this.state.selectedProductSetId==null?null:b("React").jsx("div",{className:"_8qcf",children:b("React").jsx(b("ErrorBoundary.react"),{fallbackComponent:this.$4,children:b("React").jsx(m,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0,size:"small"}),children:b("React").jsx(b("LiveVideoBroadcastShoppingSectionProductItems.react"),{actorID:this.props.actorID,featuredProductItemId:this.state.featuredProductItemId,productSetId:this.state.selectedProductSetId,transitioningProductItemId:this.state.transitioningProductItemId,onProductItemFeature:this.$1,onProductItemUnfeature:this.$2})})})})]})})})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastUFI.react",["cx","DOMContainer.react","React","UFINewCommentsPill.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("React").jsx("div",{className:"_53-4"})};d.render=function(){var a,c,d=this.props,e=d.ufiConfig;d=d.ufiMarkup;d?a=b("React").jsx(b("DOMContainer.react"),{display:"block",className:"_1fzy",children:d}):c=this.$1();return b("React").jsxs("div",{className:"_1fzz",children:[a,b("React").jsx("div",{className:"_53-9"}),c,e&&e.instanceid&&b("React").jsx(b("UFINewCommentsPill.react"),{instanceID:e.instanceid,isLiveVideo:!0,onClick:this.props.onNewCommentsPillClick})]})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastBody.react",["ix","cx","fbt","CurrentUser","DateConsts","DOMContainer.react","FDSSpinner.react","Image.react","ImageBlock.react","InlineBlock.react","InteractiveToolsEventEmitter","JSResource","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","LiveAutoCaptionToggleContainer.react","LiveVideoBroadcastActions","LiveVideoBroadcastAPIActions","LiveVideoBroadcastAPIHealthTrayContainer.react","LiveVideoBroadcastAPIRHCContainer.react","LiveVideoBroadcastAPIToggleContainer.react","LiveVideoBroadcastAPIVideoContainer.react","LiveVideoBroadcastAPIVideoPreviewContainer.react","LiveVideoBroadcastBrokenConnectionModalOverlay.react","LiveVideoBroadcastCameraGoLiveButton.react","LiveVideoBroadcastCameraNotAllowedMessage.react","LiveVideoBroadcastCameraNotFoundMessage.react","LiveVideoBroadcastComposerDialog.react","LiveVideoBroadcastComposerRHC.react","LiveVideoBroadcastConstants","LiveVideoBroadcastCopyrightTakedownVideoOverlay.react","LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react","LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react","LiveVideoBroadcastDescription.react","LiveVideoBroadcastEditRHCButtonContainer.react","LiveVideoBroadcastEndingModalOverlay.react","LiveVideoBroadcastErrorLogsContainer.react","LiveVideoBroadcastEventPromotionLiveOptions.react","LiveVideoBroadcastEventPromotionOverlay.react","LiveVideoBroadcastFailedConnectionModalOverlay.react","LiveVideoBroadcastFinishedVideoOverlay.react","LiveVideoBroadcastHealthUtils","LiveVideoBroadcastLiveIndicatorOverlay.react","LiveVideoBroadcastPublishedPollOverlayRootContainer.react","LiveVideoBroadcastPublishFailureModalOverlay.react","LiveVideoBroadcastRequestCameraAccessMessage.react","LiveVideoBroadcastShoppingSection.react","LiveVideoBroadcastUFI.react","LiveVideoInviteFriendsDialogContainer.react","React","ScheduledLiveTimeStringUtil","StreamingReactionsTray","SubscriptionsHandler","Timestamp.react","XUIAmbientNUX.react","XUIButton.react","XUIText.react","XVideoPermalinkController","assignMediaStream","expectationViolation","fbglyph","gkx","joinClasses","lazyLoadComponent","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("LiveVideoBroadcastConstants").BROADCAST_STATE,k=b("LiveVideoBroadcastConstants").CAMERA_STATE,l=b("LiveVideoBroadcastConstants").INPUT_SOURCE,m=b("lazyLoadComponent")(b("JSResource")("LiveVideoBroadcastPollExecutionSection.react").__setRef("LiveVideoBroadcastBody.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={hasAssignedMediaStream:!1,showFinishNux:!1,streamingReactionsInitialized:!1,showPollSection:!1,showShoppingSection:!1,publishedPollOverlayID:null};d.$5=new(b("SubscriptionsHandler"))();d.$22=function(a){if(d.state.streamingReactionsInitialized||!a||!d.props.feedbackID||!d.props.broadcastID)return;new(b("StreamingReactionsTray"))(a,null,"",d.props.feedbackID,d.props.broadcastID,"",{},!0,!0,!0);d.setState({streamingReactionsInitialized:!0})};d.$12=function(){Date.now()-d.props.startTime<b("LiveVideoBroadcastConstants").MINIMUM_BROADCAST_LENGTH_MS?(d.setState({showFinishNux:!0}),b("setTimeout")(function(){return d.setState({showFinishNux:!1})},b("LiveVideoBroadcastConstants").FINISH_BUTTON_NUX_TIME_MS)):d.props.onFinishButtonClick()};d.$23=function(){d.setState({publishedPollOverlayID:null})};d.$2=i._("Resume");d.$1=i._("Invite Friends");d.$3=i._("Live Viewers").toString();d.$4=b("React").createRef();return d}var d=c.prototype;d.componentDidMount=function(){var a=this,c;this.$5.addSubscriptions((c=b("InteractiveToolsEventEmitter")).addListener("poll_create",function(){a.setState({showPollSection:!0})}),c.addListener("polls_loaded",function(b){b.length>0&&a.setState({showPollSection:!0})}),c.addListener("poll_creation_success",function(c,d){d!=null&&a.props.videoID===d&&a.props.broadcastState===j.LIVE&&(b("LiveVideoBroadcastActions").setShowWasLiveVotingToggle(!0),a.setState({publishedPollOverlayID:c}))}),c.addListener("shopping_open",function(){a.setState({showShoppingSection:!0})}),c.addListener("poll_update_success",function(c,d){d==="ATTACH_TO_VIDEO"&&a.props.broadcastState===j.LIVE?(b("LiveVideoBroadcastActions").setShowWasLiveVotingToggle(!0),a.setState({publishedPollOverlayID:c})):d==="DELETE_POLL"&&c===a.state.publishedPollOverlayID&&a.setState({publishedPollOverlayID:null})}))};d.componentWillUnmount=function(){this.$5.release()};d.componentDidUpdate=function(a,c){this.$4.current&&(!this.state.hasAssignedMediaStream||this.props.mediaStream!==a.mediaStream)&&(b("assignMediaStream")(this.$4.current,this.props.mediaStream),this.setState({hasAssignedMediaStream:!0,showPollSection:this.props.hasCreatedPollRecently&&b("gkx")("796524")}))};d.componentDidCatch=function(a,c){b("LiveVideoBroadcastActions").errorLoadingBody(a,c.componentStack)};d.render=function(){if(this.props.inputSource===l.CAMERA)return this.$6();return this.props.inputSource===l.EDIT_SCHEDULE&&this.props.isCrosspost?this.$7():this.$8()};d.$6=function(){__p&&__p();var a;if(this.props.gks&&!this.props.gks.www_live_video_broadcasting_supported_browsers){a=b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsx("div",{className:"_620d",children:i._("Please try broadcasting on the latest desktop version of Chrome to go live with your camera.")})]});return a}switch(this.props.cameraState){case k.CHECK_CAMERA_ACCESS:a=null;break;case k.REQUEST_CAMERA_ACCESS:a=b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsx(b("LiveVideoBroadcastRequestCameraAccessMessage.react"),{})]});break;case k.CAMERA_NOT_FOUND:a=b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsx(b("LiveVideoBroadcastCameraNotFoundMessage.react"),{missingCamera:!0})]});break;case k.MICROPHONE_NOT_FOUND:a=b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsx(b("LiveVideoBroadcastCameraNotFoundMessage.react"),{missingMicrophone:!0})]});break;case k.CAMERA_NOT_ALLOWED:a=b("React").jsxs("div",{children:[b("React").jsx(b("LiveVideoBroadcastAPIToggleContainer.react"),{hasGamingContext:this.props.hasGamingContext}),b("React").jsx(b("LiveVideoBroadcastCameraNotAllowedMessage.react"),{})]});break;case k.BROADCAST:a=this.$8()}return a};d.$9=function(){return b("LiveVideoBroadcastHealthUtils").shouldShowHealthTray(this.props.broadcastState,this.props.apiLivePreviewPlaying,this.props.inputSource)};d.$8=function(){if(this.props.broadcastState===j.PREVIEW)return this.$10();var a;this.props.copyrightTriggered?a=b("React").jsx(b("LiveVideoBroadcastCopyrightViolationModalOverlayContainer.react"),{}):this.props.broadcastCouldNotStart&&(a=b("React").jsx(b("LiveVideoBroadcastCouldNotStartBroadcastModalOverlay.react"),{buttonText:this.$2,onActionButtonClick:b("LiveVideoBroadcastActions").errorBroadcastCouldNotStartAccepted}));var c=this.$9();return b("React").jsxs("div",{className:"_1drg",children:[b("React").jsxs(b("Layout.react"),{className:(c?"_1drh":"")+(c?"":" _6wuh"),children:[b("React").jsx(b("LayoutFillColumn.react"),{children:b("React").jsxs("div",{className:"_6uxj",children:[this.$11(),c?b("React").jsx(b("LiveVideoBroadcastAPIHealthTrayContainer.react"),{accessToken:this.props.accessToken,broadcastID:this.props.broadcastID,canEndLiveVideo:this.props.canEndLiveVideo,isLive:!0,onEndLiveVideo:this.$12}):null]})}),this.$13()]}),c?null:this.$14(),this.$15(),a]})};d.$16=function(){return this.props.isRehearsal?i._("End Test"):i._("End Live Video")};d.$17=function(){return this.props.canEndLiveVideo&&b("React").jsx(b("XUIButton.react"),{className:"_1drf","data-testid":"finish-button",label:this.$16(),ref:"finishbutton",size:"xlarge",use:"confirm",onClick:this.$12})};d.$18=function(){if(!this.props.errorCount)return null;var a=i._("Event Logs ({event_count})",[i._param("event_count",this.props.errorCount)]);return b("React").jsx(b("XUIButton.react"),{className:"_8lol",label:a,use:"default",onClick:this.$19})};d.$14=function(){var a;switch(this.props.broadcastState){case j.EDITING:a=b("React").jsx(b("LiveVideoBroadcastEditRHCButtonContainer.react"),{});break;case j.LIVE:a=b("React").jsxs("div",{className:"_1drl",children:[this.$17(),this.$20(),this.props.escapeKeyNux]});break;default:break}return b("React").jsxs("div",{className:"_5zjh _8lom",children:[this.$21(),this.$18(),b("React").jsx(b("LiveAutoCaptionToggleContainer.react"),{}),a]})};d.$11=function(){var a,c=this.props,d=c.accessToken,e=c.broadcastID,f=c.broadcastState,g=c.feedbackID,h=c.hasPairedEncoders,i=c.selectedInputStreamIndex,k=c.inputSource,m=c.selectedEncoderType,n=c.usePersistentStreamKeyByDefault;c=c.videoID;k===l.API||k===l.VIDEO_GAME||k===l.EDIT_SCHEDULE||k===l.EDIT?n!=null&&(a=b("React").jsx(b("LiveVideoBroadcastAPIVideoContainer.react"),{accessToken:d,broadcastID:e,hasPairedEncoders:h,selectedEncoderType:m,selectedInputStreamIndex:i,usePersistentStreamKeyByDefault:n,videoID:c})):a=b("React").jsx("video",{autoPlay:!0,className:"_1drj",muted:!0,ref:this.$4});k=g!=null&&e!=null?b("React").jsx("div",{className:"_3ah- _6axe",ref:this.$22}):null;d=this.props.videoID!=null?b("React").jsx(b("LiveVideoBroadcastPublishedPollOverlayRootContainer.react"),{videoID:this.props.videoID,onCloseButtonClick:this.$23}):null;h=this.props.videoID!=null&&this.props.shareMode==="page"&&this.props.targetID!=null&&f===j.LIVE?b("React").jsx(b("LiveVideoBroadcastEventPromotionOverlay.react"),{videoID:this.props.videoID}):null;m=b("React").jsxs("div",{className:"_5yoo _6wt8",children:[f===j.FINISHED?null:a,this.$24(),h,d]});return b("React").jsxs("div",{className:"_1dri",children:[m,k]})};d.$24=function(){__p&&__p();var a;switch(this.props.broadcastState){case j.EDITING:case j.LIVE:a=this.props.videoID!=null?b("React").jsx(b("LiveVideoBroadcastLiveIndicatorOverlay.react"),{isRehearsal:this.props.isRehearsal,startTime:this.props.startTime,useLocalTime:!0,videoID:this.props.videoID}):null;break;case j.FINISHING:a=b("React").jsx(b("LiveVideoBroadcastEndingModalOverlay.react"),{});break;case j.FINISHED:a=b("React").jsx(b("LiveVideoBroadcastFinishedVideoOverlay.react"),{shareMode:this.props.shareMode,showContent:!0});break}if(this.props.copyrightTriggered)return a;else if(this.props.broadcastEndedWithCopyrightViolation)a=b("React").jsx(b("LiveVideoBroadcastCopyrightTakedownVideoOverlay.react"),{});else if(this.props.connectionFailed&&(this.props.broadcastState===j.LIVE||this.props.broadcastState===j.EDITING))a=b("React").jsx(b("LiveVideoBroadcastFailedConnectionModalOverlay.react"),{});else if(this.props.connectionBroken&&(this.props.broadcastState===j.LIVE||this.props.broadcastState===j.EDITING))a=b("React").jsx(b("LiveVideoBroadcastBrokenConnectionModalOverlay.react"),{});else if(this.props.broadcastCouldNotStart)return a;else this.props.broadcastCouldNotPublish&&(a=b("React").jsx(b("LiveVideoBroadcastPublishFailureModalOverlay.react"),{}));return a};d.$25=function(){var a=b("React").jsx("span",{className:(this.props.broadcastState!==j.LIVE?"_t2a":"")+" _3i3a",children:b("React").jsx(b("DOMContainer.react"),{children:this.props.profileLink})}),c=b("XVideoPermalinkController").getURIBuilder().setInt("video_id",this.props.videoID).setString("vanity",this.props.actorID).getURI();c=this.props.broadcastState===j.LIVE?b("React").jsx(b("Link.react"),{className:"_3hte",href:c,target:"_blank",children:b("React").jsx(b("Timestamp.react"),{time:this.props.startTime/b("DateConsts").MS_PER_SEC})}):null;var d=this.props.privacySelector?b("React").jsx(b("DOMContainer.react"),{className:"_2c5s",children:this.props.privacySelector}):null,e=i._("Invite Friends To Watch");e=this.$26()&&this.props.videoID?b("React").jsx(b("LiveVideoInviteFriendsDialogContainer.react"),{inviteFriendsTitle:e,videoId:this.props.videoID}):null;var f=this.$9();f=this.props.canEndLiveVideo&&f?b("React").jsx("div",{className:"_6-bg",children:b("React").jsx("div",{className:"_6-bh",children:this.$17()})}):null;var g=this.props,h=g.accountID;g=g.videoID;return b("React").jsxs(b("LayoutColumn.react"),{className:"_1dtf",children:[b("React").jsx("div",{className:"_5yoj",children:b("React").jsxs(b("ImageBlock.react"),{className:"_zga",children:[b("React").jsx(b("Image.react"),{className:"_3i39",height:40,src:this.props.profilePicUri,width:40}),b("React").jsxs(b("InlineBlock.react"),{alignv:"middle",height:40,children:[a,b("React").jsx(b("DOMContainer.react"),{children:this.props.tagList}),d,c]})]})}),b("React").jsx(b("LiveVideoBroadcastDescription.react"),{description:this.props.description,isDescriptionExpanded:this.props.isDescriptionExpanded,shortDescription:this.props.shortDescription}),g!=null&&g.length>0&&h!=null&&((a=this.props.gks)==null?void 0:a.show_tools_tab)&&(this.props.broadcastState===j.LIVE||this.props.broadcastState===j.FINISHED||this.props.broadcastState===j.FINISHING)?b("React").jsx(b("React").Fragment,{children:this.state.showPollSection&&!this.props.isCrosspost?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0,size:"small"}),children:b("React").jsx(m,{accountID:h,actorID:this.props.actorID,broadcastState:this.props.broadcastState,is360Video:this.props.is360Video,shareMode:this.props.shareMode,videoID:g})}):null}):null,this.state.showShoppingSection?b("React").jsx(b("LiveVideoBroadcastShoppingSection.react"),{actorID:this.props.actorID,videoID:g}):null,b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0,size:"small"}),children:g!=null&&this.props.broadcastState===j.LIVE&&this.props.shareMode==="page"&&b("React").jsx(b("LiveVideoBroadcastEventPromotionLiveOptions.react"),{videoID:g})}),b("React").jsx(b("LiveVideoBroadcastUFI.react"),{showPlaceholder:!!this.props.ufiMarkup,ufiConfig:this.props.ufiConfig,ufiMarkup:this.props.ufiMarkup,onNewCommentsPillClick:this.props.onNewCommentsPillClick}),f,e]})};d.$10=function(){__p&&__p();var a,c;if(this.props.composerConfig!=null&&this.props.inputSource===l.CAMERA)a=this.$27(),c=this.$28();else if(this.props.inputSource===l.API||this.props.inputSource===l.EDIT_SCHEDULE||this.props.inputSource===l.VIDEO_GAME){var d=this.props.inputSource===l.VIDEO_GAME?!0:this.props.hasGamingContext;a=b("React").jsx(b("LiveVideoBroadcastAPIVideoPreviewContainer.react"),{gks:this.props.gks,hasGamingContext:d,hasPairedEncoders:this.props.hasPairedEncoders,selectedEncoderType:this.props.selectedEncoderType,shouldShowHealthTray:this.$9(),usePersistentStreamKeyByDefault:this.props.usePersistentStreamKeyByDefault});c=b("React").jsx(b("LiveVideoBroadcastAPIRHCContainer.react"),{hasGamingContext:d})}else b("expectationViolation")("LiveVideoBroadcast should always have a composer config and a valid input source");return b("React").jsx("div",{className:"_5zrk",children:b("React").jsxs("div",{className:"_t42",children:[b("React").jsxs(b("Layout.react"),{className:"_w10",children:[a,c]}),this.$15()]})})};d.$13=function(){var a;this.props.broadcastState===j.EDITING?a=b("React").jsx(b("LiveVideoBroadcastAPIRHCContainer.react"),{}):a=this.props.inputSource===l.EDIT&&!this.props.actorID?this.$29():this.$25();return a};d.$28=function(){if(!this.props.composerConfig)return null;var a=b("React").jsx(b("LiveVideoBroadcastCameraGoLiveButton.react"),{actorID:this.props.actorID,broadcastID:this.props.broadcastID,broadcastState:this.props.broadcastState,canEnableLiveCoverVideo:this.props.canEnableLiveCoverVideo,config:this.props.composerConfig.config,contextConfig:this.props.composerConfig.contextConfig,countdownTime:this.props.countdownTime,enableEventTicketPromotion:this.props.enableEventTicketPromotion,isLiveCoverVideoEnabled:this.props.isLiveCoverVideoEnabled,isUpdateRequestPending:this.props.isUpdateRequestPending,metadataConfig:this.props.metadataConfig,showNUX:this.props.showNUX,onActionButtonClick:this.props.onActionButtonClick,onNUXCloseButtonClick:this.props.onNUXCloseButtonClick});return b("React").jsx(b("LiveVideoBroadcastComposerRHC.react"),{accountID:this.props.accountID,actionButton:a,actorID:this.props.actorID,allowBroadcastRehearsal:this.props.allowBroadcastRehearsal,apiLivePreviewPlaying:this.props.apiLivePreviewPlaying,areModerationOptionsShown:this.props.gks!=null&&this.props.gks.can_see_moderation_options,broadcastID:this.props.broadcastID,broadcastState:this.props.broadcastState,canEnableEventTicketPromotion:!!((a=this.props.gks)==null?void 0:a.can_enable_event_ticket_promotion),canEnableLiveCoverVideo:this.props.canEnableLiveCoverVideo,canPromotePublicEvents:((a=this.props.gks)==null?void 0:a.live_video_event_promotion_public_events)===!0,canSeeCommentProtectedMode:!!((a=this.props.gks)==null?void 0:a.can_see_comment_protected_mode),canSeeIGMatches:this.props.gks!=null&&this.props.gks.can_see_ig_matches,canSetStarsGoal:((a=this.props.gks)==null?void 0:a.can_set_stars_goal)===!0,commentModes:this.props.commentModes,composerPrivacySelector:this.props.composerPrivacySelector,config:this.props.composerConfig.config,contextConfig:this.props.composerConfig.contextConfig,embedHTML:this.props.embedHTML,enableEventTicketPromotion:this.props.enableEventTicketPromotion,enableTaggers:!this.props.countdownTime,fundraiserEnabled:this.props.fundraiserEnabled,hasBackupStreamURL:!1,inputSource:this.props.inputSource,is360Video:this.props.is360Video,isBroadcastStarting:!!this.props.countdownTime||this.props.isUpdateRequestPending,isCommentatingDisabled:!1,isIsrEnabled:!1,isLiveCoverVideoEnabled:!!this.props.isLiveCoverVideoEnabled,isRehearsal:this.props.isRehearsal,peopleTaggerSource:this.props.peopleTaggerSource,profilePicUri:this.props.profilePicUri,selectedEncoderType:this.props.selectedEncoderType,selectedRHCTab:this.props.selectedRHCTab,selectedVideoInputSource:this.props.selectedVideoInputSource,shareMode:this.props.shareMode,shouldShowLiveProducerUpsellNux:this.props.shouldShowLiveProducerUpsellNux,showAutoCaptionsEnabledCheckbox:!1,showBackupEncoderSetting:!1,showBroadcastPlaybackModeOption:!1,showCommentatingOption:!1,showDeleteStreamCheckbox:!1,showIGCrosspostCheckbox:!1,showIsrOption:!1,showJoinGroupCTA:this.props.showJoinGroupCTA,showLiveChallengeSelector:this.props.gks!=null&&this.props.gks.show_live_challenges,showLiveSettings:!1,showMetadataInput:!0,showScreenSharingOption:this.props.gks!=null&&this.props.gks.live_www_broadcasting_screen_sharing,showToolsTab:this.props.gks!=null&&this.props.gks.show_tools_tab,showVideoSettings:!0,sponsorConfig:this.props.sponsorConfig,sponsorEnabled:this.props.sponsorEnabled,targetID:this.props.targetID,targetingEnabled:this.props.targetingEnabled,targetSelectorProps:this.props.targetSelectorProps})};d.$27=function(){var a,c={};if(((a=this.props.composerConfig)==null?void 0:(a=a.contextConfig)==null?void 0:a.composerType)!=null){c={composerType:(a=this.props.composerConfig)==null?void 0:(a=a.contextConfig)==null?void 0:a.composerType}}return b("React").jsx(b("LiveVideoBroadcastComposerDialog.react"),babelHelpers["extends"]({},c,{countdownTime:this.props.countdownTime,hasGamingContext:this.props.hasGamingContext,isUpdateRequestPending:this.props.isUpdateRequestPending,mediaStream:this.props.mediaStream}))};d.$26=function(){return this.props.broadcastState!==j.LIVE||b("CurrentUser").isWorkUser()||this.props.shareMode==="page"||!this.props.ufiMarkup?!1:!0};d.$21=function(){if(!this.$26())return null;var a=b("React").jsx(b("Image.react"),{src:g("113395")});return b("React").jsx(b("XUIButton.react"),{className:"_1r3e",image:a,label:this.$1,size:"xlarge",onClick:this.$30})};d.$7=function(){var a,c=this.props.scheduledLiveCrosspostPayload;a=c?b("React").jsxs("div",{className:"_2nno"+(((a=this.props.composerConfig)==null?void 0:(a=a.contextConfig)==null?void 0:a.composerType)==="games_video_streamer_dashboard"?" _72ev":""),children:[b("React").jsx(b("Image.react"),{className:"_3_-n",src:c.backgroundImageURL}),b("React").jsx(b("Image.react"),{className:"_3_-_",src:c.profileImageURL}),b("React").jsx("div",{className:"_3__3"}),b("React").jsxs("div",{className:"_3__4",children:[b("React").jsx(b("XUIText.react"),{className:"_3__5",color:"white",display:"block",size:"header2",children:b("ScheduledLiveTimeStringUtil").getStr(new Date(c.plannedStartTime))}),b("React").jsx(b("XUIText.react"),{className:"_3__5",color:"white",display:"block",size:"header3",weight:"bold",children:i._("{broadcaster_name} plans to go live.",[i._param("broadcaster_name",c.profileName)])}),b("React").jsx(b("XUIText.react"),{className:b("joinClasses")("_3__5","_3__7"),display:"block",size:"body2",children:i._("Your crosspost of this scheduled live video will start playing as soon as the other Page goes live.")})]})]}):null;return b("React").jsx("div",{className:"_5zrk",children:b("React").jsx("div",{className:"_t42",children:b("React").jsxs(b("Layout.react"),{className:"_w10",children:[a,b("React").jsx(b("LiveVideoBroadcastAPIRHCContainer.react"),{})]})})})};d.$20=function(){var a=this;return b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.finishbutton},position:"above",shown:this.state.showFinishNux,width:"auto",onCloseButtonClick:function(){return a.setState({showFinishNux:!1})},children:i._("Live videos must be at least 4 seconds long")})};d.$29=function(){return b("React").jsx(b("LayoutColumn.react"),{className:"_1dtf"})};d.$30=function(){b("LiveVideoBroadcastActions").setInviteFriendsShown(!0)};d.$31=function(){b("LiveVideoBroadcastAPIActions").setShowEventLogDialog(!1)};d.$19=function(){b("LiveVideoBroadcastAPIActions").setShowEventLogDialog(!0)};d.$15=function(){if(!this.props.showEventLogDialog||!this.props.broadcastID||!this.props.accessToken||!this.props.videoID)return null;b("LiveVideoBroadcastActions").errorLogsOpen();return b("React").jsx(b("LiveVideoBroadcastErrorLogsContainer.react"),{videoID:b("nullthrows")(this.props.videoID,"video id is null"),onClose:this.$31})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastBodyContainer.react",["cx","fbt","ErrorBoundary.react","FluxContainer","Layout.react","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIBroadcastStoreUtils","LiveVideoBroadcastBody.react","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCopyrightStore","LiveVideoBroadcastIDStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastCopyrightStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastIDStore"),b("LiveVideoBroadcastAPIBroadcastStore")]};c.calculateState=function(){var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.allowBroadcastRehearsal,e=a.broadcastState,f=a.cameraState,g=a.composerPrivacySelector,h=a.connectionBroken,i=a.connectionFailed,j=a.countdownTime,k=a.encoders,l=a.fundraiserEnabled,m=a.composerConfig,n=a.showNUX,o=a.sponsorConfig,p=a.sponsorEnabled,q=a.startTime,r=a.tagList,s=a.broadcastCouldNotStart,t=a.broadcastCouldNotPublish,u=a.ufiConfig,v=a.ufiMarkup,w=a.isDescriptionExpanded,x=a.description,y=a.shortDescription,z=a.peopleTaggerSource,A=a.privacySelector,B=a.profileLink,C=a.selectedEncoderType,D=a.showJoinGroupCTA,E=a.gks,F=a.targetSelectorProps,G=a.profilePicUri,H=a.inputSource,I=a.shareMode,J=a.cameraEmbedHTML,K=a.targetingEnabled,L=a.isUpdateRequestPending,M=a.canEndLiveVideo,N=a.isLiveCoverVideoEnabled,O=a.canEnableLiveCoverVideo,P=a.hasCreatedPollRecently,Q=a.hasGamingContext,R=a.commentModes,S=a.selectedRHCTab;a=a.enableEventTicketPromotion;var T=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),U=T.mediaStream,V=T.feedbackID,W=T.actorID,X=T.selectedVideoInputSource,Y=T.accountID,aa=T.targetID,ba=T.isCrosspost;T=T.scheduledLiveCrosspostPayload;var Z=b("LiveVideoBroadcastCopyrightStore").getState().toObject(),ca=Z.copyrightTriggered;Z=Z.broadcastEndedWithCopyrightViolation;var da=b("LiveVideoBroadcastIDStore").get("videoID"),ea=b("LiveVideoBroadcastIDStore").get("broadcastID"),fa=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),$=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),ga=$.apiLivePreviewPlaying,ha=$.errorCount,ia=$.isRehearsal,ja=$.showEventLogDialog,ka=$.selectedInputStreamIndex,la=$.usePersistentStreamKeyByDefault,ma=$.is360Video;$=$.shouldShowLiveProducerUpsellNux;return{accessToken:c,accountID:Y,actorID:W,allowBroadcastRehearsal:d,apiLivePreviewPlaying:ga,canEndLiveVideo:M,composerPrivacySelector:g,broadcastCouldNotStart:s,broadcastCouldNotPublish:t,broadcastEndedWithCopyrightViolation:Z,broadcastID:ea,broadcastState:e,cameraState:f,commentModes:R,composerConfig:m,connectionBroken:h,connectionFailed:i,contextConfig:m?m.contextConfig:null,copyrightTriggered:ca,countdownTime:j,description:x,embedHTML:J,errorCount:ha,feedbackID:V,fundraiserEnabled:l,gks:E,hasGamingContext:!!Q,hasPairedEncoders:k&&k.length>0,selectedInputStreamIndex:ka,selectedEncoderType:C,selectedRHCTab:S,selectedVideoInputSource:X,shouldShowLiveProducerUpsellNux:$,showNUX:n,showEventLogDialog:ja,sponsorConfig:o,sponsorEnabled:p,startTime:b("LiveVideoBroadcastAPIBroadcastStoreUtils").getDisplayStartTimeForBroadcast(q,b("LiveVideoBroadcastAPIBroadcastStore")),tagList:r,ufiConfig:u,ufiMarkup:v,usePersistentStreamKeyByDefault:la,is360Video:ma,videoID:da,mediaStream:U,isDescriptionExpanded:w,shortDescription:y,peopleTaggerSource:z,privacySelector:A,profileLink:B,targetSelectorProps:F,profilePicUri:G,inputSource:H,shareMode:I,showJoinGroupCTA:D,targetID:aa,targetingEnabled:K,isUpdateRequestPending:L,isLiveCoverVideoEnabled:N,isRehearsal:ia,canEnableLiveCoverVideo:O,metadataConfig:fa,isCrosspost:!!ba,scheduledLiveCrosspostPayload:T,hasCreatedPollRecently:P,enableEventTicketPromotion:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("ErrorBoundary.react"),{fallbackComponent:i,children:b("React").jsx(b("LiveVideoBroadcastBody.react"),babelHelpers["extends"]({},this.state,{accessToken:this.state.accessToken,escapeKeyNux:this.props.escapeKeyNux,onActionButtonClick:this.props.onActionButtonClick,onFinishButtonClick:this.props.onFinishButtonClick,onNUXCloseButtonClick:this.props.onNUXCloseButtonClick,onNewCommentsPillClick:this.props.onNewCommentsPillClick}))})};return c}(b("React").PureComponent);var i=function(){var a,c=h._("There was an error, please refresh and try again");return(a=b("React")).jsx("div",{className:"_5zrk",children:a.jsx("div",{className:"_t42",children:a.jsx(b("Layout.react"),{className:"_w10",children:a.jsx("div",{className:"_620d",children:c})})})})};e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastSaveChangesDialog.react",["fbt","CenteredContainer.react","FBConfirmDialog.react","LiveVideoBroadcastActions","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isSaveRequestPending:!1},c.$1=function(){c.setState({isSaveRequestPending:!0}),c.props.onSaveChangesDialogConfirm()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){b("LiveVideoBroadcastActions").setShowSaveChangesDialog(a)};d.render=function(){if(this.state.isSaveRequestPending){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{modal:!0,shown:!0,width:400,children:[a.jsx(b("XUIDialogTitle.react"),{children:g._("Saving")}),a.jsx(b("XUIDialogBody.react"),{children:a.jsx(b("CenteredContainer.react"),{children:a.jsx(b("XUISpinner.react"),{size:"large"})})})]})}return b("React").jsx(b("FBConfirmDialog.react"),{cancelButtonText:g._("Don't Save"),confirmButtonText:g._("Save"),content:g._("You can save any changes made to this video before you leave."),shown:!0,title:g._("Save Changes?"),onCancel:this.props.onSaveChangesDialogCancel,onConfirm:this.$1,onToggle:this.$2})};return c}(b("React").Component);e.exports=a}),null);
__d("LiveVideoBroadcastSaveChangesDialogContainer.react",["fbt","ErrorDialog","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastSaveChangesDialog.react","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){b("ErrorDialog").show(g._("Save error"),g._("Error saving data, please try again")),d.props.onError()},d.$4=function(){if(!d.state.accessToken||!d.state.apiVideoID||!d.state.composerConfig)return;var a={is_continuous:d.state.isContinuous,is_embeddable:d.state.isEmbeddable,should_expire_after_live:d.state.shouldExpireAfterGoLive,should_show_graphic_content_warning:d.state.shouldShowGraphicContentWarning,is_rewind_enabled:d.state.isRewindEnabled,crosspost_page_ids:d.state.crosspostPageIDs,share_with_owning_business:d.state.shareWithOwningBusiness,live_comment_moderation_setting:d.state.commentModes};d.state.episodeData&&(a=babelHelpers["extends"]({},a,{is_episode:d.state.episodeData.isEpisode,season_id:d.state.episodeData.seasonID,playlist_ids:d.state.episodeData.playlistIDs}));d.state.canEnableLiveCoverVideo&&(a=babelHelpers["extends"]({},a,{is_page_live_cover_video_enabled:d.state.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));b("LiveVideoBroadcastAfterBootloadUtils").updateBroadcastRequest(d.state.accessToken,d.state.actorID,d.state.apiVideoID,d.state.apiBroadcastID,d.state.composerConfig,d.state.copyrightData,d.state.targetID,d.state.isCopyrighted,d.state.metadataConfig,a,d.$2,d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastCrosspostStore")]};c.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.canEnableLiveCoverVideo,e=a.composerConfig,f=a.episodeData,g=a.isLiveCoverVideoEnabled,h=a.isRewindEnabled;a=a.commentModes;var i=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),j=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),k=j.apiBroadcastID,l=j.apiVideoID,m=j.areCountriesIncluded,n=j.copyrightMonitoringType,o=j.copyrightRuleID,p=j.copyrightWhitelistedFBUsers,q=j.copyrightWhitelistedIGUserNames,r=j.isCopyrighted,s=j.isContinuous,t=j.isEmbeddable,u=j.ownershipCountries,v=j.selectedCategory,w=j.shouldExpireAfterGoLive;j=j.shouldShowGraphicContentWarning;var x=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),y=x.actorID;x=x.targetID;n={copyrightMonitoringType:n,copyrightRuleID:o,copyrightWhitelistedFBUsers:p,copyrightWhitelistedIGUserNames:q,areCopyrightCountriesIncluded:m,copyrightOwnershipCountries:u,selectedCategory:v};o=b("LiveVideoBroadcastCrosspostStore").getState().toObject();p=o.crosspostingConfig;q=p.filter(function(a){return a.get("allow")&&a.get("type")==="page"}).map(function(a){return a.get("id")}).toArray();m=b("LiveVideoBroadcastCrosspostStore").shouldShareWithOwningBusiness();return{accessToken:c,actorID:y,canEnableLiveCoverVideo:d,composerConfig:e,copyrightData:n,apiBroadcastID:k,apiVideoID:l,episodeData:f,isEmbeddable:t,metadataConfig:i,isCopyrighted:r,isLiveCoverVideoEnabled:g,isRewindEnabled:h,shareWithOwningBusiness:m,shouldExpireAfterGoLive:w,shouldShowGraphicContentWarning:j,isContinuous:s,targetID:x,crosspostPageIDs:q,commentModes:a}};var d=c.prototype;d.$1=function(){b("LiveVideoBroadcastActions").cleanup()};d.$2=function(){b("LiveVideoBroadcastActions").cleanup()};d.render=function(){return b("React").jsx(b("LiveVideoBroadcastSaveChangesDialog.react"),{onSaveChangesDialogCancel:this.$1,onSaveChangesDialogConfirm:this.$4})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("LiveVideoBroadcastShoppingMenuItem.react",["fbt","InteractiveToolsEventEmitter","LiveVideoBroadcastActions","ReactXUIMenu","RelayFBEnvironment","RelayHooks","RelayModern","LiveVideoBroadcastShoppingMenuItemMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("RelayHooks").graphql;var i=b("RelayModern").commitMutation,j=h!==void 0?h:h=b("LiveVideoBroadcastShoppingMenuItemMutation.graphql");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,{children:g._("Feature products")})||this;d.$LiveVideoBroadcastShoppingMenuItem3=function(){b("LiveVideoBroadcastActions").logShoppingShoppingButtonClick(),d.$LiveVideoBroadcastShoppingMenuItem1?b("InteractiveToolsEventEmitter").emit("shopping_open"):(b("LiveVideoBroadcastActions").logShoppingConvertToShoppingVideoMutation(),i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:d.$LiveVideoBroadcastShoppingMenuItem2.actorID,video_id:d.$LiveVideoBroadcastShoppingMenuItem2.videoID,live_video_composer_format:{format_type:"LIVE_SHOPPING"},raw_timestamp:0}},onError:function(a){b("LiveVideoBroadcastActions").logShoppingConvertToShoppingVideoMutationException()},onCompleted:function(){d.$LiveVideoBroadcastShoppingMenuItem1=!0,b("InteractiveToolsEventEmitter").emit("shopping_open")}}))};d.$LiveVideoBroadcastShoppingMenuItem2=c;d.setOnClickHandler(d.$LiveVideoBroadcastShoppingMenuItem3);d.$LiveVideoBroadcastShoppingMenuItem1=!1;return d}return c}(b("ReactXUIMenu").Item);e.exports=a}),null);
__d("XLiveVideoBroadcastInsightsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_broadcast/insights/",{page_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0}})}),null);
__d("XLiveVideoTextQuestionsEditorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/text_questions_editor/",{video_id:{type:"FBID"}})}),null);
__d("LiveVideoBroadcast.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","Event","FBConfirmDialog.react","Image.react","InteractiveToolsEventEmitter","Keys","Link.react","LiveVideoBroadcastActions","LiveVideoBroadcastBodyContainer.react","LiveVideoBroadcastConstants","LiveVideoBroadcastSaveChangesDialogContainer.react","LiveVideoBroadcastShoppingMenuItem.react","PageContentTabAccessToken","PopoverMenu.react","React","ReactComposerContextProviderMixin","ReactXUIMenu","RelayFBEnvironment","RelayHooks","SUIBusinessThemeContainer.react","VideoPollsTypedLogger","XLiveVideoBroadcastInsightsDialogController","XLiveVideoTextQuestionsEditorController","XUIAmbientNUX.react","asset","fbglyph","setTimeout","ReactComposerContextTypes"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("RelayHooks").RelayEnvironmentProvider,k=b("ReactXUIMenu").Item,l=b("LiveVideoBroadcastConstants").BROADCAST_STATE,m=b("LiveVideoBroadcastConstants").INPUT_SOURCE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={showEndDialog:!1,showEscapeKeyNux:!1};d.$8=function(){d.props.accessToken&&b("PageContentTabAccessToken").init(d.props.accessToken,d.props.accessToken,"");var a=b("XLiveVideoBroadcastInsightsDialogController").getURIBuilder().setFBID("video_id",d.props.videoID).setFBID("page_id",d.props.targetID).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))};d.$13=function(){d.props.onActionButtonClick(),d.setState({showEndDialog:!1})};d.$12=function(){d.setState({showEndDialog:!1})};d.$2=function(){d.props.inputSource===m.EDIT_SCHEDULE?b("LiveVideoBroadcastActions").setShowSaveChangesDialog(!0):b("LiveVideoBroadcastActions").cleanup()};d.$9=function(){new(b("VideoPollsTypedLogger"))().setEvent("www_live_composer_create_poll_menu_item_tapped").setOwnerID(d.props.targetID).setVideoID(d.props.videoID).setPollCreationType("attached").log(),b("InteractiveToolsEventEmitter").emit("poll_create")};d.$14=function(){d.setState({showEndDialog:!0})};d.props.dialog&&d.props.dialog.subscribe("key",d.$1.bind(babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d.$1=function(a,c){__p&&__p();var d=this;if(b("Event").getKeyCode(c)!==b("Keys").ESC)return;if(this.props.broadcastState===l.LIVE){this.setState({showEscapeKeyNux:!0});b("setTimeout")(function(){return d.setState({showEscapeKeyNux:!1})},b("LiveVideoBroadcastConstants").FINISH_BUTTON_NUX_TIME_MS);return}else if(this.props.countdownTime)return;this.$2()};d.$3=function(){var a=this;return this.refs.finishbutton==null?null:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.finishbutton},position:"left",shown:this.state.showEscapeKeyNux,width:"auto",onCloseButtonClick:function(){return a.setState({showEscapeKeyNux:!1})},children:i._("Click End Live Video to end your broadcast")})};d.$4=function(){b("LiveVideoBroadcastActions").setShowSaveChangesDialog(!1)};d.$5=function(){return!this.props.showSaveChangesDialog?null:b("React").jsx(b("LiveVideoBroadcastSaveChangesDialogContainer.react"),{onError:this.$4})};d.$6=function(){return this.props.broadcastState===l.LIVE||this.props.broadcastState===l.READY_TO_LIVE||this.props.broadcastState===l.FINISHING||this.props.broadcastState===l.EDITING||this.props.countdownTime||this.props.isUpdateRequestPending?null:b("React").jsx(b("Link.react"),{className:"_2k_f",href:"#",onClick:this.$2,children:b("React").jsx(b("Image.react"),{alt:i._("Close"),src:g("125921")})})};d.$7=function(){__p&&__p();var a,c,d=this.props.shareMode==="page";if(this.props.broadcastState!==l.LIVE||!this.props.ufiMarkup)return null;d=d?b("React").jsx(k,{onClick:this.$8,children:i._("See video insights")}):null;var e=this.props.inputSource===m.API||this.props.inputSource===m.EDIT?b("React").jsx(k,{onClick:this.$2,children:i._("Close")}):null;c=((c=this.props)!=null?(c=c.contextConfig)!=null?(c=c.gks)!=null?c.polls_enabled:c:c:c)&&!this.props.isCrosspost?b("React").jsx(k,{onClick:this.$9,children:i._("Create Poll")}):null;var f=this.props.videoID,h=null;if(f!=null&&((a=this.props.gks)==null?void 0:a.show_text_questions_editor_link)===!0){a=b("XLiveVideoTextQuestionsEditorController").getURIBuilder().setFBID("video_id",this.props.videoID).getURI();h=b("React").jsx(k,{href:a.toString(),rel:"noopener",target:"_blank",children:i._("Open Live Questions Editor")})}a=((a=this.props.gks)==null?void 0:a.fbshopping_enable_live_test_nov_2019)===!0;a=a?b("React").jsx(b("LiveVideoBroadcastShoppingMenuItem.react"),{actorID:(a=this.props.contextConfig)==null?void 0:a.actorID,videoID:f}):null;f=b("React").jsxs(b("ReactXUIMenu"),{children:[b("React").jsx(k,{onClick:this.$10,children:i._("Edit post")}),a,c,h,e,d]});return b("React").jsx(b("PopoverMenu.react"),{alignh:"right",alignv:"baseline",menu:f,children:b("React").jsx(b("Link.react"),{"aria-label":i._("More option"),className:"_2k_f",href:"#",children:b("React").jsx(b("Image.react"),{src:g("363611")})})})};d.$10=function(){b("LiveVideoBroadcastActions").setBroadcastState(l.EDITING)};d.$11=function(){return!this.state.showEndDialog?null:b("React").jsx(b("FBConfirmDialog.react"),{confirmButtonText:i._("End"),content:i._("If you end this live video now, you'll be able to choose if you want to save or delete it."),"data-testid":"end_dialog",shown:!0,title:i._("Do You Want to End This Live Video?"),onCancel:this.$12,onConfirm:this.$13,onToggle:this.$12})};d.render=function(){var a,c=this.$3();c=(a=b("React")).jsx(b("LiveVideoBroadcastBodyContainer.react"),{escapeKeyNux:c,onActionButtonClick:this.props.onActionButtonClick,onFinishButtonClick:this.$14,onNUXCloseButtonClick:this.props.onNUXCloseButtonClick,onNewCommentsPillClick:this.props.onNewCommentsPillClick});return a.jsx(j,{environment:b("RelayFBEnvironment"),children:a.jsx(b("SUIBusinessThemeContainer.react"),{children:a.jsxs("div",{className:"_358d"+(((a=this.props.contextConfig)==null?void 0:a.composerType)==="games_video_streamer_dashboard"?" _72ft":""),"data-testid":"broadcast_ui_container",children:[c,this.$6(),this.$7(),this.$5(),this.$11()]})})})};d.getChildContext=function(){return b("ReactComposerContextProviderMixin").getChildContext.bind(this)()};return c}(b("React").Component);a.childContextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("LiveVideoBroadcastDraftPollStore",["FluxMapStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({question:"",optionType:"TEXT",options:[{text:"",stickerID:"",isCorrect:!1},{text:"",stickerID:"",isCorrect:!1}],isSaved:!1,isDrafting:!1,publishing:!1})};d.reduce=function(a,b){__p&&__p();switch(b.type){case g.SET_DRAFTING_MODE:a=this.$LiveVideoBroadcastDraftPollStore1(a,b.isDrafting);break;case g.SET_POLL_OPTION_QUESTION:a=this.$LiveVideoBroadcastDraftPollStore2(a,b.question);break;case g.SET_POLL_OPTION_TEXT:a=this.$LiveVideoBroadcastDraftPollStore3(a,b.index,b.text);break;case g.SELECT_STICKER_POLL_OPTION:a=this.$LiveVideoBroadcastDraftPollStore4(a,b.index,b.id);break;case g.SET_IS_CORRECT_POLL_OPTION:a=this.$LiveVideoBroadcastDraftPollStore5(a,b.index,b.isChecked);break;case g.SET_SELECTOR_CHANGE_POLL_OPTION:a=this.$LiveVideoBroadcastDraftPollStore6(a,b.value);break;case g.SET_POLL_OPTION_IS_SAVED:a=this.$LiveVideoBroadcastDraftPollStore7(a,b.value);break;case g.SET_POLL_OPTION_PUBLISHING:a=this.$LiveVideoBroadcastDraftPollStore8(a,b.value);break;case g.DELETE_DRAFT_POLL:a=this.getInitialState();break}return a};d.$LiveVideoBroadcastDraftPollStore1=function(a,b){a=a.set("isDrafting",b);return a};d.$LiveVideoBroadcastDraftPollStore2=function(a,b){a=a.set("question",b);a=a.set("isSaved",!1);return a};d.$LiveVideoBroadcastDraftPollStore3=function(a,b,c){var d=a.get("options").slice();d[b]={text:c,stickerURI:d[b].stickerURI,isCorrect:d[b].isCorrect};a=a.set("options",d);a=a.set("isSaved",!1);return a};d.$LiveVideoBroadcastDraftPollStore4=function(a,b,c){var d=a.get("options").slice();d[b]={text:d[b].text,stickerID:c,isCorrect:d[b].isCorrect};c=d.filter(function(a){return a.stickerID!==""}).length;c===0?a=a.set("optionType","TEXT"):a=a.set("optionType","STICKER");a=a.set("options",d);a=a.set("isSaved",!1);return a};d.$LiveVideoBroadcastDraftPollStore5=function(a,b,c){var d=a.get("options").slice();for(var e=0;e<d.length;e++)b===e?d[e]={text:d[e].text,stickerID:d[e].stickerID,isCorrect:c}:d[e]={text:d[e].text,stickerID:d[e].stickerID,isCorrect:!1};a=a.set("options",d);a=a.set("isSaved",!1);return a};d.$LiveVideoBroadcastDraftPollStore6=function(a,b){b=parseInt(b,10);var c=a.get("options").slice(),d=b-c.length;d=d>0?c.concat(new Array(d).fill({text:"",stickerID:"",isCorrect:!1})):c.splice(0,b);a=a.set("options",d);a=a.set("isSaved",!1);return a};d.$LiveVideoBroadcastDraftPollStore7=function(a,b){a=this.getInitialState();return a};d.$LiveVideoBroadcastDraftPollStore8=function(a,b){a=a.set("publishing",b);return a};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("Live360CameraStateEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONNECTED:"connected",GOLIVE:"go_live"})}),null);
__d("LiveVideoBroadcastWaterfallEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_BROADCAST_START:"create_broadcast_start",CREATE_BROADCAST_FINISH:"create_broadcast_finish",CREATE_BROADCAST_FAILED:"create_broadcast_failed",UPDATE_BROADCAST_FAILED:"update_broadcast_failed",UPDATE_BROADCAST_SUCCESS:"update_broadcast_success",SERVER_ERROR:"ui.server_error",ERROR_LOGS_OPENED:"error_logs_opened",PUBLISH_BROADCAST_START:"publish_broadcast_start",PUBLISH_BROADCAST_FINISH:"publish_broadcast_finish",PUBLISH_BROADCAST_FAILED:"publish_broadcast_failed",ENDED_BROADCAST_IN_UNPUBLISHED_CHECK:"ended_broadcast_in_unpublished_check",UI_REQUEST_BROADCAST_START:"ui.request_broadcast_start",UI_TIME_OUT_WAITING_FOR_PUBLISH:"ui.time_out_waiting_for_publish",UI_MWS_BAD_AUDIO_OR_VIDEO_DATA:"ui.mws_bad_audio_or_video_data",UI_TRACK_ENDED:"ui.track_ended",UI_UFI_LOADED:"ui.ufi_loaded",BROADCASTER_SESSION_RATING:"broadcaster_session_rating",BROADCASTER_SESSION_ISSUES:"broadcaster_session_issues",END_BROADCAST_START:"end_broadcast_start",END_BROADCAST_FINISH:"end_broadcast_finish",END_BROADCAST_FAILED:"end_broadcast_failed",ERROR_CREATING_BROADCAST_ERROR_LOG_SUBSCRIPTION:"error_creating_broadcast_error_log_subscription",ERROR_FETCHING_BROADCAST_INPUT_STREAM:"error_fetching_broadcast_input_stream",ERROR_FETCHING_BROADCAST_ERROR_LOGS:"error_fetching_broadcast_error_logs",ERROR_FETCHING_BROADCAST_METADATA:"error_fetching_broadcast_metadata",ERROR_FETCHING_BROADCAST_SCHEDULE:"error_fetching_broadcast_schedule",ERROR_END_BROADCAST_MUTATION_FAIL:"error_end_broadcast_mutation_fail",ERROR_PAGINATING_BROADCAST_ERROR_LOGS:"error_paginating_broadcast_error_logs",ERROR_REGISTERING_PAIRED_ENCODERS:"error_registering_paired_encoders",ERROR_DELETE_STREAM_BEHAVIOR_CHANGE:"error_delete_stream_behavior_change",ERROR_IG_CROSSPOST_ENABLED_CHANGE:"error_ig_crosspost_enabled_change",UI_FINISH_LIVE_START:"ui.finish_live_start",UI_ENTERED_FINISHED_STATE:"ui.entered_finished_state",UI_DELETED_VIDEO:"ui.deleted_video",UI_DOWNLOADED_VIDEO:"ui.downloaded_video",COPYRIGHT_RESUME_BROADCAST:"copyright_resume_broadcast",COPYRIGHT_END_BROADCAST:"copyright_end_broadcast",UI_COPYRIGHT_AUTO_TAKEDOWN:"ui.copyright_auto_takedown",UI_COPYRIGHT_END_BROADCAST:"ui.copyright_end_broadcast",UI_COPYRIGHT_USER_DELETE_BROADCAST:"ui.copyright_user_delete_broadcast",UI_COPYRIGHT_RESUME_BROADCAST:"ui.copyright_resume_broadcast",UI_COPYRIGHT_TRIGGERED:"ui.copyright_triggered",UI_BROADCAST_BODY_LOAD_FAILED:"ui.broadcast_body_load_failed",UI_BROADCAST_COULD_NOT_FINISH:"ui.broadcast_could_not_finish",UI_BROADCAST_COULD_NOT_START:"ui.broadcast_could_not_start",UI_BROADCAST_DISCONNECTED:"ui.broadcast_disconnected",UI_BROADCAST_FAILED:"ui.broadcast_failed",UI_CONNECTION_ESTABLISHED:"ui.connection_established",UI_ICE_CONNECTION_STATE_CHANGED:"ui.ice_connection_state_changed",UI_INVITED_FRIEND:"ui.invited_friend",UI_INVITE_FRIENDS_OPENED:"ui.invite_friends_opened",UI_JOIN_RESPONSE_RECEIVED:"ui.join_response_received",UI_CANCEL_COUNTDOWN:"ui.cancel_countdown",UI_GO_LIVE_CLICKED:"ui.go_live_clicked",UI_REQUEST_CAMERA_ACCESS:"ui.request_camera_access",UI_ERROR_CREATING_BROADCAST:"ui.error_creating_broadcast",UI_ERROR_CREATING_BROADCAST_ERROR_LOG_SUBSCRIPTION:"ui.error_creating_broadcast_error_log_subscription",UI_ERROR_STARTING_API_BROADCAST:"ui.error_starting_api_broadcast",UI_ERROR_FETCHING_BROADCAST_ERROR_LOGS:"ui.error_fetching_broadcast_error_logs",UI_ERROR_FETCHING_BROADCAST_METADATA:"ui.error_fetching_broadcast_metadata",UI_ERROR_FETCHING_BROADCAST_PREVIEW_INPUT_STREAM:"ui.error_fetching_broadcast_preview_input_stream",UI_ERROR_FETCHING_BROADCAST_SCHEDULE:"ui.error_fetching_broadcast_schedule",UI_ERROR_FETCHING_STREAM_HEALTH:"ui.error_fetching_stream_health",UI_ERROR_FETCHING_STARS_GOALS:"ui.error_fetching_stars_goals",UI_SETTING_STARS_GOALS_FAILED:"ui.setting_stars_goals_failed",UI_SETTING_STARS_GOALS_SUCCESS:"ui.setting_stars_goals_success",UI_ERROR_PAGINATING_BROADCAST_ERROR_LOGS:"ui.error_paginating_broadcast_error_logs",UI_ERROR_REGISTERING_PAIRED_ENCODERS:"ui.error_registering_paired_encoders",UI_ERROR_DELETE_STREAM_BEHAVIOR_CHANGE:"ui.error_delete_stream_behavior_change",UI_ERROR_IG_CROSSPOST_ENABLED_CHANGE:"ui.error_ig_crosspost_enabled_change",UI_ERROR_AUTO_CAPTIONS_ENABLED_CHANGE:"ui.error_auto_captions_enabled_change",UI_SET_AUTO_CAPTIONS_ENABLED:"ui.set_auto_cpations_enabled",UI_SCHEDULED_LIVE_SUCCESS:"ui.scheduled_live_success",UI_SCHEDULED_LIVE_FAIL:"ui.scheduled_live_fail",UI_SET_CONTENT_TAGS:"ui.set_content_tags",UI_SET_BROADCAST_STATE:"ui.set_broadcast_state",UI_CLICK_FINISH_BUTTON:"ui.click_finish_button",UI_ERROR_LOGS_OPENED:"ui.error_logs_opened",SEND_JOIN_REQUEST_START:"send_join_request_start",SEND_JOIN_REQUEST_FINISH:"send_join_request_finish",SEND_JOIN_REQUEST_FAILED:"send_join_request_failed",SEND_ICE_RESTART_REQUEST_START:"send_ice_restart_request_start",SEND_ICE_RESTART_REQUEST_FINISH:"send_ice_restart_request_finish",SEND_ICE_RESTART_REQUEST_FAILED:"send_ice_restart_request_failed",SPEED_TEST_RESULT:"speed_test_result",STREAM_LINK_CLICK:"stream_link_click",CAMERA_NOT_FOUND:"camera_not_found",UI_READY_STATE_ENDED:"ui.ready_state_ended",UI_WEBRTC_STATS:"ui.webrtc_stats",API_BROADCAST_STOPPED:"ui.api_broadcast_stopped",UI_SET_INPUT_SOUCE:"ui.set_input_source",UI_SET_TARGET:"ui.set_target",UI_REQUEST_WEBCAM_STREAM:"ui.request_webcam_stream",UI_INITIALIZE:"ui.initialize",UI_PREVIEW_PLAYING:"ui.preview_playing",UI_PREVIEW_PLAYER_CRASH:"ui.preview_player_crash",TRIMMING_SCHEDULE:"trimming_schedule",TRIMMING_RESET:"trimming_reset",UI_TRY_LIVE_PRODUCER_NUX_SHOWN:"ui.try_live_producer_nux_shown",UI_TRY_LIVE_PRODUCER_CARD_SHOWN:"ui.try_live_producer_card_shown",UI_TRY_LIVE_PRODUCER_NUX_CLICKED:"ui.try_live_producer_nux_clicked",UI_TRY_LIVE_PRODUCER_CARD_CLICKED:"ui.try_live_producer_card_clicked",UI_EVENT_PROMOTION_SECTION_SHOWN:"ui.event_promotion_section_shown",UI_ERROR_FETCHING_PROMOTED_EVENTS:"ui.error_fetching_promoted_events",UI_SETTING_PROMOTED_EVENTS_STARTED:"ui.setting_promoted_events_started",UI_SETTING_PROMOTED_EVENTS_FAILED:"ui.setting_promoted_events_failed",UI_SETTING_PROMOTED_EVENTS_SUCCESS:"ui.setting_promoted_events_success",UI_CLEAR_PROMOTED_EVENTS_STARTED:"ui.clear_promoted_events_started",UI_CLEAR_PROMOTED_EVENTS_FAILED:"ui.clear_promoted_events_failed",UI_CLEAR_PROMOTED_EVENTS_SUCCESS:"ui.clear_promoted_events_success",UI_EVENT_PROMOTION_SHEET_CANCELED:"ui.event_promotion_sheet_canceled",UI_EVENT_PROMOTION_SHEET_DONE:"ui.event_promotion_sheet_done",UI_EVENT_PROMOTION_SHEET_EVENT_SELECTED:"ui.event_promotion_sheet_event_selected",UI_EVENT_PROMOTION_SHEET_EVENT_DESELECTED:"ui.event_promotion_sheet_event_deselected"})}),null);
__d("VideoShoppingLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONVERT_TO_SHOPPING_VIDEO_MUTATION:"convert_to_shopping_video_mutation",CONVERT_TO_SHOPPING_VIDEO_MUTATION_EXCEPTION:"convert_to_shopping_video_mutation_exception",PRODUCT_FEATURE_CLICK:"product_feature_click",PRODUCT_FEATURE_MUTATION:"product_feature_mutation",PRODUCT_FEATURE_MUTATION_EXCEPTION:"product_feature_mutation_exception",PRODUCT_SET_SELECT:"product_set_select",PRODUCT_UNFEATURE_CLICK:"product_unfeature_click",SHOPPING_BUTTON_CLICK:"shopping_button_click"})}),null);
__d("LiveVideoBroadcastLoggingStore",["CurrentUser","FluxMapStore","Live360CameraStateEvents","Live360CameraStateTypedLogger","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastDeleteStreamBehaviorKeys","LiveVideoBroadcastDispatcher","LiveVideoBroadcastFunnelLogger","LiveVideoBroadcastIDStore","LiveVideoBroadcastUIStore","LiveVideoBroadcastUtils","LiveVideoBroadcastWaterfallEvent","LiveVideoBroadcastWaterfallTypedLogger","LiveVideoShoppingTypedLogger","RTCMediaDevicesStore","RTCUserSettingsStore","Video360LiveCameraNames","VideoBroadcastTypedLogger","VideoShoppingLoggerEvent","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS,h=b("LiveVideoBroadcastConstants").BROADCAST_STATE,i=b("LiveVideoBroadcastConstants").CAMERA_STATE,j=b("LiveVideoBroadcastDeleteStreamBehaviorKeys").END_STREAM,k=b("LiveVideoBroadcastDeleteStreamBehaviorKeys").IGNORE,l=b("LiveVideoBroadcastUtils").logProducerEvent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){__p&&__p();switch(c.type){case g.GET_WEBCAM_STREAM_URL_REQUEST:var d=c.config?c.config.audioInput:null,e=c.config?c.config.videoInput:null,f=b("RTCMediaDevicesStore").getState(),l=f&&d?f.find(function(a){return a.deviceId===d}):null;f=f&&e?f.find(function(a){return a.deviceId===e}):null;l=l?l.label:d;f=f?f.label:e;this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_REQUEST_WEBCAM_STREAM,null,{audioDevice:l,videoDevice:f});break;case g.SCHEDULED_LIVE_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SCHEDULED_LIVE_SUCCESS);c.didEnableManualMode!==!0?this.$LiveVideoBroadcastLoggingStore2("schedule_broadcast_clicked"):this.$LiveVideoBroadcastLoggingStore2("enable_manual_mode_clicked");break;case g.ERROR_LOGS_OPENED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_LOGS_OPENED);this.$LiveVideoBroadcastLoggingStore2("error_logs_button_clicked");break;case g.INITIALIZE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_INITIALIZE);break;case g.SCHEDULED_LIVE_FAIL:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SCHEDULED_LIVE_FAIL,null,{response:c.response});this.$LiveVideoBroadcastLoggingStore2("schedule_broadcast_failed");break;case g.SET_TARGET:l=b("LiveVideoBroadcastAfterBootloadUtils").getIDsFromTarget(c.value,b("LiveVideoBroadcastBroadcastStore").get("accountID"));this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SET_TARGET,null,l);break;case g.SET_COMPOSER_CONFIG:a=a.set("sessionID",b("uuid")());break;case g.START_BROADCAST_REQUEST:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_REQUEST_BROADCAST_START,null,{videoInputSource:b("LiveVideoBroadcastBroadcastStore").get("selectedVideoInputSource")});this.$LiveVideoBroadcastLoggingStore3(b("Live360CameraStateEvents").GOLIVE);break;case g.START_LIVE_COUNTDOWN:this.$LiveVideoBroadcastLoggingStore4();break;case g.CANCEL_LIVE_COUNTDOWN:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CANCEL_COUNTDOWN);b("LiveVideoBroadcastFunnelLogger").goLiveCancelled();break;case g.FINISH_BROADCAST_REQUEST:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_FINISH_LIVE_START);b("LiveVideoBroadcastFunnelLogger").finishClicked();break;case g.DELETE_REPLAY_VIDEO:case g.DELETE_API_REPLAY_VIDEO:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_DELETED_VIDEO);break;case g.FINISH_BROADCAST_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ENTERED_FINISHED_STATE);b("LiveVideoBroadcastFunnelLogger").endFinishedFromUser();break;case g.ERROR_BROADCAST_PUBLISH_FAIL:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").PUBLISH_BROADCAST_FAILED);b("LiveVideoBroadcastFunnelLogger").endPublishFailed();break;case g.ERROR_END_BROADCAST_MUTATION_FAIL:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").ERROR_END_BROADCAST_MUTATION_FAIL,h.LIVE,{extraData:c.errorMessage});this.$LiveVideoBroadcastLoggingStore2("end_live_broadcast_failed");b("LiveVideoBroadcastFunnelLogger").endMutationFailed();break;case g.UPDATE_CAMERA_STATE:c.value===i.REQUEST_CAMERA_ACCESS?(this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_REQUEST_CAMERA_ACCESS),this.$LiveVideoBroadcastLoggingStore3(b("Live360CameraStateEvents").CONNECTED),b("LiveVideoBroadcastFunnelLogger").requestCameraAccess()):c.value===i.CAMERA_NOT_FOUND?b("LiveVideoBroadcastFunnelLogger").endCameraNotFound():c.value===i.MICROPHONE_NOT_FOUND?b("LiveVideoBroadcastFunnelLogger").endMicrophoneNotFound():c.value===i.BROADCAST?b("LiveVideoBroadcastFunnelLogger").foundCamera():c.value===i.CAMERA_NOT_ALLOWED&&b("LiveVideoBroadcastFunnelLogger").cameraPermissionDenied();break;case g.ERROR_MEDIA_VALIDATION:f={mediaValidationError:c.errorMessage,blockedFromGoingLive:c.blockedFromGoingLive};this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").CAMERA_NOT_FOUND,null,f,null);break;case g.ERROR_BROADCAST_COULD_NOT_START:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_BROADCAST_COULD_NOT_START);b("LiveVideoBroadcastFunnelLogger").endCouldNotStart();break;case g.ERROR_LOADING_BROADCAST_BODY:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_BROADCAST_BODY_LOAD_FAILED,null,{errorType:c.error.name,errorStack:c.stackInfo});break;case g.ERROR_CONNECTION_BROKEN:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_BROADCAST_DISCONNECTED,h.LIVE,null,"disconnected");a=a.set("iceConnectionState","disconnected");b("LiveVideoBroadcastFunnelLogger").connectionBroken();break;case g.ERROR_CREATING_BROADCAST_ERROR_LOG_SUBSCRIPTION:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_CREATING_BROADCAST_ERROR_LOG_SUBSCRIPTION);break;case g.ERROR_CREATING_BROADCAST:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_CREATING_BROADCAST,null,c.additionalLoggingData,null);this.$LiveVideoBroadcastLoggingStore2("create_broadcast_failed");b("LiveVideoBroadcastFunnelLogger").errorCreatingBroadcast();break;case g.ERROR_CONNECTION_FAILED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_BROADCAST_FAILED,h.LIVE,null,"failed");this.$LiveVideoBroadcastLoggingStore5("facecastwith_rtccall_ended",h.LIVE,{broadcast_transition_reason:"webrtc_failed"});a=a.set("iceConnectionState","failed");b("LiveVideoBroadcastFunnelLogger").endConnectionFailed();break;case g.WEBRTC_CONNECTION_ESTABLISHED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CONNECTION_ESTABLISHED,null,null,"connected");a=a.set("iceConnectionState","connected");b("LiveVideoBroadcastFunnelLogger").uploadStarted();break;case g.ICE_CONNECTION_STATE_CHANGED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ICE_CONNECTION_STATE_CHANGED,null,null,c.value);a=a.set("iceConnectionState",c.value);break;case g.SET_COPYRIGHT_TRIGGERED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_COPYRIGHT_TRIGGERED);break;case g.SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_COPYRIGHT_END_BROADCAST);this.$LiveVideoBroadcastLoggingStore2("copyright_takedown");b("LiveVideoBroadcastFunnelLogger").endCopyrightViolation();break;case g.HANDLE_COPYRIGHT_EVENT:switch(c.value){case"resume_live_video":this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_COPYRIGHT_RESUME_BROADCAST);break;case"auto_take_down_live_video":this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_COPYRIGHT_AUTO_TAKEDOWN);break;case"delete_live_video":this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_COPYRIGHT_USER_DELETE_BROADCAST);break}break;case g.LOG_WEBRTC_STATS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_WEBRTC_STATS,null,c.value);break;case g.INVITE_FRIEND:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_INVITED_FRIEND,null,null);break;case g.SET_INVITE_FRIENDS_SHOWN:c.value&&this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_INVITE_FRIENDS_OPENED,null,null);break;case g.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TIME_OUT_WAITING_FOR_PUBLISH,null,{errorSource:c.errorSource});break;case g.ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_MWS_BAD_AUDIO_OR_VIDEO_DATA,null,null);break;case g.ERROR_TRACK_ENDED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TRACK_ENDED,null,null);b("LiveVideoBroadcastFunnelLogger").trackEnded();break;case g.SETUP_UFI:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_UFI_LOADED,null,null);break;case g.UI_MOUNTED:b("LiveVideoBroadcastFunnelLogger").updateSourceTag();break;case g.READY_STATE_ENDED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_READY_STATE_ENDED,null,null);break;case g.API_BROADCAST_STOPPED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").API_BROADCAST_STOPPED,null,null);this.$LiveVideoBroadcastLoggingStore2("broadcast_stopped");break;case g.SET_INPUT_SOURCE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SET_INPUT_SOUCE,null,{source:c.source});b("LiveVideoBroadcastFunnelLogger").setInputSource(c.source);break;case g.API_GO_LIVE_CLICKED:l=b("LiveVideoBroadcastUIStore").get("composerConfig");f=l?b("LiveVideoBroadcastUtils").getComposerFormData(l.contextConfig.composerID,l.config.targetData.targetID,l.config.contextInfo):{};this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_GO_LIVE_CLICKED,null,babelHelpers["extends"]({},f,{crossposts_count:b("LiveVideoBroadcastCrosspostStore").getSelectedCrosspostPagesCount()}));this.$LiveVideoBroadcastLoggingStore2("go_live_clicked");b("LiveVideoBroadcastFunnelLogger").goLiveClicked();break;case g.SET_CONTENT_TAGS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SET_CONTENT_TAGS,null,{content_tags:c.value.map(function(a){return a.getTitle()})});b("LiveVideoBroadcastFunnelLogger").setContentTags();break;case g.SET_BROADCAST_STATE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SET_BROADCAST_STATE,null,{new_broadcast_state:c.broadcastState});b("LiveVideoBroadcastFunnelLogger").setBroadcastState(c.broadcastState);break;case g.ERROR_STARTING_API_BROADCAST:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_STARTING_API_BROADCAST,null,{errorType:c.errorType,additionalInfo:c.additionalInfo});this.$LiveVideoBroadcastLoggingStore2("go_live_failed");b("LiveVideoBroadcastFunnelLogger").errorStartingAPIBroadcast();break;case g.ERROR_FETCHING_BROADCAST_INPUT_STREAM:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").ERROR_FETCHING_BROADCAST_INPUT_STREAM,null,null);break;case g.ERROR_FETCHING_BROADCAST_PREVIEW_INPUT_STREAM:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_BROADCAST_PREVIEW_INPUT_STREAM,null,null);break;case g.ERROR_FETCHING_STREAM_HEALTH:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_STREAM_HEALTH);break;case g.ERROR_PAGINATING_BROADCAST_ERROR_LOGS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_PAGINATING_BROADCAST_ERROR_LOGS);break;case g.ERROR_REGISTERING_PAIRED_ENCODERS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_REGISTERING_PAIRED_ENCODERS);this.$LiveVideoBroadcastLoggingStore2("live_encoder_associate_failed");break;case g.ERROR_FETCHING_BROADCAST_ERROR_LOGS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_BROADCAST_ERROR_LOGS);break;case g.ERROR_FETCHING_BROADCAST_METADATA:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_BROADCAST_METADATA);break;case g.ERROR_FETCHING_STARS_GOALS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_STARS_GOALS);break;case g.SETTING_STARS_GOALS_FAILED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SETTING_STARS_GOALS_FAILED);break;case g.SETTING_STARS_GOALS_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SETTING_STARS_GOALS_SUCCESS);break;case g.ERROR_FETCHING_BROADCAST_SCHEDULE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_BROADCAST_SCHEDULE);break;case g.ERROR_DELETE_STREAM_BEHAVIOR_CHANGE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_DELETE_STREAM_BEHAVIOR_CHANGE);break;case g.ERROR_AUTO_CAPTIONS_ENABLED_CHANGE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_AUTO_CAPTIONS_ENABLED_CHANGE,null,(l={},l[c.error.name]=c.error.message,l));this.$LiveVideoBroadcastLoggingStore2("enable_auto_captions_failed");break;case g.ERROR_IG_CROSSPOST_ENABLED_CHANGE:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_IG_CROSSPOST_ENABLED_CHANGE);break;case g.SET_AUTO_CAPTIONS_ENABLED:this.$LiveVideoBroadcastLoggingStore2("enable_auto_captions_clicked");this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SET_AUTO_CAPTIONS_ENABLED,null,{enable:c.enabled?"True":"False"});break;case g.SERVER_ERROR:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").SERVER_ERROR,null,{details:c.details});b("LiveVideoBroadcastFunnelLogger").errorStartingAPIBroadcast();break;case g.CLICK_FINISH_BUTTON:this.$LiveVideoBroadcastLoggingStore2("end_live_clicked");this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CLICK_FINISH_BUTTON,null,null);this.$LiveVideoBroadcastLoggingStore5("click_finish_button",h.LIVE,null);b("LiveVideoBroadcastFunnelLogger").clickFinishButton();break;case g.API_BROADCAST_LIVE_PREVIEW_PLAYING:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_PREVIEW_PLAYING,null,null);break;case g.PREVIEW_PLAYER_CRASH:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_PREVIEW_PLAYER_CRASH,null,{playerError:c.errorInfo});break;case g.BROADCASTER_SESSION_RATING:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").BROADCASTER_SESSION_RATING,null,null,null,{broadcasterSessionRating:c.rating,broadcasterSessionIssues:c.issues});break;case g.BROADCASTER_SESSION_ISSUES:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").BROADCASTER_SESSION_ISSUES,null,null,null,{broadcasterSessionRating:c.rating,broadcasterSessionIssues:c.issues});break;case g.TRY_LIVE_PRODUCER_NUX_SHOWN:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TRY_LIVE_PRODUCER_NUX_SHOWN);break;case g.TRY_LIVE_PRODUCER_CARD_SHOWN:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TRY_LIVE_PRODUCER_CARD_SHOWN);break;case g.TRY_LIVE_PRODUCER_NUX_CLICKED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TRY_LIVE_PRODUCER_NUX_CLICKED);break;case g.TRY_LIVE_PRODUCER_CARD_CLICKED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_TRY_LIVE_PRODUCER_CARD_CLICKED);break;case g.ERROR_FETCHING_PROMOTED_EVENTS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_ERROR_FETCHING_PROMOTED_EVENTS);break;case g.EVENT_PROMOTION_SECTION_SHOWN:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_EVENT_PROMOTION_SECTION_SHOWN);break;case g.SETTING_PROMOTED_EVENTS_STARTED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SETTING_PROMOTED_EVENTS_STARTED);break;case g.SETTING_PROMOTED_EVENTS_FAILED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SETTING_PROMOTED_EVENTS_FAILED);break;case g.SETTING_PROMOTED_EVENTS_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_SETTING_PROMOTED_EVENTS_SUCCESS);break;case g.CLEAR_PROMOTED_EVENTS_STARTED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CLEAR_PROMOTED_EVENTS_STARTED);break;case g.CLEAR_PROMOTED_EVENTS_FAILED:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CLEAR_PROMOTED_EVENTS_FAILED);break;case g.CLEAR_PROMOTED_EVENTS_SUCCESS:this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_CLEAR_PROMOTED_EVENTS_SUCCESS);break;case g.SHOPPING_CONVERT_TO_SHOPPING_VIDEO_MUTATION:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").CONVERT_TO_SHOPPING_VIDEO_MUTATION);break;case g.SHOPPING_CONVERT_TO_SHOPPING_VIDEO_MUTATION_EXCEPTION:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").CONVERT_TO_SHOPPING_VIDEO_MUTATION_EXCEPTION);break;case g.SHOPPING_PRODUCT_FEATURE_CLICK:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").PRODUCT_FEATURE_CLICK,c.logData);break;case g.SHOPPING_PRODUCT_SET_SELECT:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").PRODUCT_SET_SELECT,c.logData);break;case g.SHOPPING_PRODUCT_UNFEATURE_CLICK:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").PRODUCT_UNFEATURE_CLICK,c.logData);break;case g.SHOPPING_SHOPPING_BUTTON_CLICK:this.$LiveVideoBroadcastLoggingStore6(b("VideoShoppingLoggerEvent").SHOPPING_BUTTON_CLICK);break;case g.COPY_EMBED_CODE_CLICKED:this.$LiveVideoBroadcastLoggingStore2("copy_embed_code_clicked");break;case g.ADD_INPUT_STREAM:case g.UPDATE_BACKUP_INPUT_STREAM:this.$LiveVideoBroadcastLoggingStore2("create_backup_stream_clicked");break;case g.SET_EMBEDDABLE:this.$LiveVideoBroadcastLoggingStore2(c.value===!0?"enable_video_embedding_clicked":"disable_video_embedding_clicked");break;case g.SET_CONTINUOUS:this.$LiveVideoBroadcastLoggingStore2(c.value===!0?"enable_publish_continuous_clicked":"disable_publish_continuous_clicked");break;case g.SET_SHOULD_EXPIRE_AFTER_GO_LIVE:this.$LiveVideoBroadcastLoggingStore2(c.value===!0?"enable_expire_after_live_clicked":"disable_expire_after_live_clicked");break;case g.SET_REWIND_ENABLED:this.$LiveVideoBroadcastLoggingStore2(c.enabled===!0?"enable_allow_rewind_clicked":"disable_allow_rewind_clicked");break;case g.SET_COMMENTATING_DISABLED:this.$LiveVideoBroadcastLoggingStore2(c.value===!0?"disable_live_commentary_clicked":"enable_live_commentary_clicked");break;case g.DELETE_STREAM_BEHAVIOR_CHANGED:c.value===j?this.$LiveVideoBroadcastLoggingStore2("enable_end_broadcast_with_stream_clicked"):c.value===k&&this.$LiveVideoBroadcastLoggingStore2("disable_end_broadcast_with_stream_clicked");break;case g.SET_ISR_ENABLED:this.$LiveVideoBroadcastLoggingStore2(c.value===!0?"enable_isr_clicked":"disable_isr_clicked");break;case g.SET_CONTENT_PROTECTION_ENABLED:this.$LiveVideoBroadcastLoggingStore2(c.enabled===!0?"enable_drm_clicked":"disable_drm_clicked");break;case g.SET_GAME:this.$LiveVideoBroadcastLoggingStore2(c.value!=null?"tagged_game_selection_clicked":"tagged_game_deletion_clicked");break;case g.COMMENT_MODERATION_CHANGED:this.$LiveVideoBroadcastLoggingStore2("live_comment_moderation_settings_change_clicked");break}return a};d.$LiveVideoBroadcastLoggingStore4=function(){var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");this.$LiveVideoBroadcastLoggingStore1(b("LiveVideoBroadcastWaterfallEvent").UI_GO_LIVE_CLICKED,null,{webglEnabled:a!=null});b("LiveVideoBroadcastFunnelLogger").goLiveClicked()};d.$LiveVideoBroadcastLoggingStore5=function(a,c,d){this.getDispatcher().waitFor([b("LiveVideoBroadcastIDStore").getDispatchToken(),b("LiveVideoBroadcastUIStore").getDispatchToken()]);var e=b("LiveVideoBroadcastIDStore").get("broadcastID"),f=b("LiveVideoBroadcastUIStore").getState().toObject();f=f.broadcastState;if(c&&c!==f)return;c=new(b("VideoBroadcastTypedLogger"))().setOverrideVideoBroadcastID(e).setOverrideAppID(b("LiveVideoBroadcastConstants").LIVE_WWW_BROADCASTING_APP_ID).setBroadcastEvent(a);d&&c.updateExtraData(d);c.log()};d.$LiveVideoBroadcastLoggingStore3=function(a){__p&&__p();var c=b("Video360LiveCameraNames").camera_names;for(var d=0;d<c.length;d++)c[d]=c[d].toLowerCase();d=b("LiveVideoBroadcastBroadcastStore").getState().toObject();var e=d.broadcastId;d=d.videoId;var f=b("RTCMediaDevicesStore").getState();if(!f)return;var g=b("RTCUserSettingsStore").getState(),h=g.videoInput;if(a==="go_live"){g=f.find(function(a){return a.deviceId===h});g&&(g=this.$LiveVideoBroadcastLoggingStore7(g.label),c.indexOf(g.toLowerCase())>-1&&new(b("Live360CameraStateTypedLogger"))().setEvent(a).setVideoID(d).setCameraName(g).setVC(b("CurrentUser").getAccountID()).setBroadcastID(e).log())}else if(a==="connected"){f=f.filter(function(a){return a.kind==="videoinput"});for(var i=0;i<f.length;i++)g=this.$LiveVideoBroadcastLoggingStore7(f[i].label),c.indexOf(g.toLowerCase())>-1&&new(b("Live360CameraStateTypedLogger"))().setEvent(a).setVideoID(d).setCameraName(g).setVC(b("CurrentUser").getAccountID()).setBroadcastID(e).log()}};d.$LiveVideoBroadcastLoggingStore6=function(a,c){var d=b("LiveVideoBroadcastBroadcastStore").getState().toObject();d=d.videoId;new(b("LiveVideoShoppingTypedLogger"))().setEvent(a).setProductItemID((a=c==null?void 0:c.productItemId)!=null?a:null).setProductSetID((a=c==null?void 0:c.productSetId)!=null?a:null).setVideoID(d).log()};d.$LiveVideoBroadcastLoggingStore1=function(a,c,d,e,f){__p&&__p();this.getDispatcher().waitFor([b("LiveVideoBroadcastUIStore").getDispatchToken()]);var g=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),h=g.broadcastId;g=g.videoId;var i=b("LiveVideoBroadcastAPIBroadcastStore").get("apiBroadcastID"),j=b("LiveVideoBroadcastBroadcastStore").getCurrentBroadcastTime();j=j===0?null:j;var k=b("LiveVideoBroadcastUIStore").getState().toObject(),l=k.broadcastState,m=k.wasEverOffline;k=k.inputSource;if(c&&c!==l)return;c=new(b("LiveVideoBroadcastWaterfallTypedLogger"))().setBroadcastID(h).setAPIBroadcastID(i).setBroadcastDuration(j).setSessionID(this.get("sessionID")).setWasUserOffline(m).setIceConnectionState(this.get("iceConnectionState")).setNewIceConnectionState(e).setVideoID(g).setBroadcastState(l).setInputSource(k).setEvent(a).setBroadcasterSessionRating(f==null?void 0:f.broadcasterSessionRating).setBroadcasterSessionIssues(f==null?void 0:f.broadcasterSessionIssues);h=b("LiveVideoBroadcastUIStore").get("composerConfig");j=h==null?void 0:(i=h.contextConfig)==null?void 0:i.composerType;j!=null&&c.setComposerEntryPoint(j);d&&c.updateExtraData(d);c.log()};d.$LiveVideoBroadcastLoggingStore2=function(a){var c=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),d=c.broadcastId;c=c.videoId;var e=b("LiveVideoBroadcastUIStore").getState().toObject();e=e.broadcastState;var f=b("LiveVideoBroadcastAPIBroadcastStore").get("apiBroadcastID");l({broadcastID:(f=f)!=null?f:d,videoID:c,event:a,broadcastStatus:e})};d.$LiveVideoBroadcastLoggingStore7=function(a){a=a.split(" ");var b=a.length;b>1&&a[b-1][0]=="("&&b--;return a.slice(0,b).join(" ")};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastRTCCallStore",["FBRTCConstants","FBRTCMultiwayMessage","FluxMapStore","LiveVideoBroadcastActions","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastUIStore","LiveVideoBroadcastWaterfallEvent","LiveVideoBroadcastWaterfallTypedLogger","RTCAppDispatcher","VideoBroadcastTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").CallEndReason,h="Audio or Video Only",i="No data coming",j="Stream not published in time.";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){__p&&__p();var d=null;switch(c.type){case"DISMISS":var e=c.request instanceof b("FBRTCMultiwayMessage")?c.request.dismissRequest():null;e=e?e.detailedReasonString:null;if(e===h||e===i){b("LiveVideoBroadcastActions").errorMWSBadAudioOrVideoData();break}else if(e===j){b("LiveVideoBroadcastActions").errorTimeOutWaitingForPublish("MWS");break}case"HANGUP":case"CALL_ERROR":case"END_CALL":switch(c.endCallReason){case g.CLIENT_ERROR:d="client_error";b("LiveVideoBroadcastActions").errorRTCClientError();break;case g.CONNECTION_DROPPED:d="connection_dropped";break;case g.SIGNALING_MESSAGE_FAILED:d="signaling_message_failed";break;case g.HANGUP_CALL:d="call_hangup";break}this.$LiveVideoBroadcastRTCCallStore1("facecastwith_rtccall_ended",d?d:b("FBRTCConstants").callEndReasonString(c.endCallReason),c.endCallSubreason||c.detailedReasonString||null);break;case"ON_JOIN_RESPONSE":e=this.get("joinRequestSendTime");d=e?Date.now()-e:null;this.$LiveVideoBroadcastRTCCallStore2(b("LiveVideoBroadcastWaterfallEvent").UI_JOIN_RESPONSE_RECEIVED,{responseTime:d});break;case"ON_JOIN_REQUEST_SENT":a=a.set("joinRequestSendTime",Date.now());break}return a};d.$LiveVideoBroadcastRTCCallStore1=function(a,c,d){var e=b("LiveVideoBroadcastBroadcastStore").getState().toObject();e=e.broadcastId;new(b("VideoBroadcastTypedLogger"))().setOverrideVideoBroadcastID(e).setOverrideAppID(b("LiveVideoBroadcastConstants").LIVE_WWW_BROADCASTING_APP_ID).setBroadcastEvent(a).addToExtraData("broadcast_transition_reason",c).addToExtraData("broadcast_transition_subreason",d).log()};d.$LiveVideoBroadcastRTCCallStore2=function(a,c){var d=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),e=d.broadcastId;d=d.videoId;var f=b("LiveVideoBroadcastBroadcastStore").getCurrentBroadcastTime();f=f===0?null:f;var g=b("LiveVideoBroadcastUIStore").getState().toObject();g=g.wasEverOffline;e=new(b("LiveVideoBroadcastWaterfallTypedLogger"))().setBroadcastID(e).setBroadcastDuration(f).setWasUserOffline(g).setVideoID(d).setEvent(a);c&&e.updateExtraData(c);e.log()};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("LiveVideoBroadcastReplayUIStore",["FluxMapStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LiveVideoBroadcastConstants").ACTIONS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({vodReady:!1,shouldUploadHigherQualityReplayVideo:!1})};d.reduce=function(a,b){switch(b.type){case g.SET_VOD_READY:a=a.set("vodReady",!0);break;case g.SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO:a=a.set("shouldUploadHigherQualityReplayVideo",b.value);break;case g.INITIALIZE:a=this.getInitialState();break}return a};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("LiveVideoBroadcastDispatcher"))}),null);
__d("LiveVideoBroadcastContainer.react",["csx","fbt","Arbiter","AsyncRequest","DOM","FluxContainer","LiveVideoBroadcast.react","LiveVideoBroadcastActions","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastConstants","LiveVideoBroadcastDispatcher","LiveVideoBroadcastDraftPollStore","LiveVideoBroadcastIDStore","LiveVideoBroadcastRTCCallStore","LiveVideoBroadcastStatusUpdateSubscriptionHack","LiveVideoBroadcastUIStore","LiveVideoBroadcastUtils","LiveVideoInviteFriendsStore","Network","QuickPerformanceLogger","React","ReactDOM","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCUserSettingsStore","Run","SubscriptionsHandler","UFILivePinnedCommentStore","UFILiveVideoAutoscrollHandler","UFINewCommentsPillUtils","UFIThreadedFacecastCommentsStore","VideoBroadcastStatus","XBasicFBNuxDismissController","clearInterval","setInterval","setTimeout","throttle","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastLoggingStore","LiveVideoBroadcastReplayUIStore","LiveVideoBroadcastCopyrightStore"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LiveVideoBroadcastConstants").BROADCAST_STATE,j=b("LiveVideoBroadcastConstants").CAMERA_STATE,k=b("LiveVideoBroadcastConstants").INPUT_SOURCE,l=4459,m=6e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastIDStore")]};c.calculateState=function(a,d){__p&&__p();d=b("LiveVideoBroadcastUIStore").getState().toObject();var e=d.accessToken,f=d.broadcastState,g=d.cameraState,h=d.countdownTime,l=d.composerConfig,n=d.dialog,o=d.ufiConfig,p=d.ufiMarkup,q=d.isDescriptionExpanded,r=d.gks,s=d.inputSource,t=d.shareMode,u=d.shouldBeClosed,v=d.showSaveChangesDialog;d=d.isUpdateRequestPending;var w=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),x=w.isCrosspost,y=w.mediaStream,z=w.webRTCLoggingFreq;w=w.targetID;var A=b("LiveVideoBroadcastIDStore").get("videoID"),B=b("RTCCallStore").getState().toObject();B=B.connections;B=B.first();var C=a?a.webRTCLoggingStarted:!1;B&&!C&&z&&(c.$7(B,z||m,f),C=!0);B=a?a.videoID:null;A&&A!==B&&b("LiveVideoBroadcastStatusUpdateSubscriptionHack").subscribe(A,function(a){a=a.live_video_broadcast_status_update_subscribe;a=a.video_broadcast_status;a===b("VideoBroadcastStatus").LIVE_STOPPED&&(s===k.EDIT||s===k.CAMERA)&&b("LiveVideoBroadcastActions").setBroadcastState(i.FINISHED);a===b("VideoBroadcastStatus").VOD_READY&&b("LiveVideoBroadcastActions").setVodReady();s===k.EDIT_SCHEDULE&&a===b("VideoBroadcastStatus").LIVE&&(b("LiveVideoBroadcastActions").setBroadcastState(i.LIVE),b("LiveVideoBroadcastActions").setInputSource(k.EDIT))});!u&&s==="CAMERA"&&!y&&(g===j.CHECK_CAMERA_ACCESS||g===j.REQUEST_CAMERA_ACCESS)&&this.requestCameraURL();return{isCrosspost:x,accessToken:e,broadcastState:f,cameraState:g,countdownTime:h,dialog:n,contextConfig:l?l.contextConfig:null,inputSource:s,isDescriptionExpanded:q,isUpdateRequestPending:d,gks:r,shareMode:t,shouldBeClosed:u,showSaveChangesDialog:v,targetID:w,ufiMarkup:p,ufiConfig:o,videoID:A,webRTCLoggingStarted:C}};c.$7=function(a,d){a.getStats().done(function(a){b("LiveVideoBroadcastActions").logWebRTCStats(b("LiveVideoBroadcastUtils").reduceWebRTCStats(a))}),b("setTimeout")(function(){c.$7(a,d)},d)};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$15=function(){switch(d.state.broadcastState){case i.PREVIEW:d.state.countdownTime?d.$12():d.$10();break;case i.LIVE:b("LiveVideoBroadcastActions").clickFinishButton();d.$14();break;default:break}};d.$16=function(){b("UFINewCommentsPillUtils").scrollToBottom(d.$2,d.props.newCommentsPillConfig)};d.$18=function(a){b("UFINewCommentsPillUtils").updateScrolledUp(a.target,d.state.ufiConfig)};try{b("QuickPerformanceLogger").markerStart(44957698,0),b("QuickPerformanceLogger").markerStart(44957699,0)}catch(a){}b("LiveVideoBroadcastDispatcher").explicitlyRegisterStores([b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastLoggingStore"),b("LiveVideoBroadcastReplayUIStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastCopyrightStore"),b("LiveVideoBroadcastReplayUIStore"),b("LiveVideoInviteFriendsStore"),b("LiveVideoBroadcastIDStore"),b("LiveVideoBroadcastDraftPollStore")]);b("RTCAppDispatcher").explicitlyRegisterStores([b("LiveVideoBroadcastRTCCallStore"),b("RTCCallStore"),b("RTCUserSettingsStore"),b("RTCMediaDevicesStore")]);b("UFILivePinnedCommentStore").addListener(function(){d.$8(),d.$9()});return d}var d=c.prototype;d.$10=function(){b("LiveVideoBroadcastActions").startLiveCountdown(),this.$4=b("setInterval")(this.$11.bind(this),b("LiveVideoBroadcastConstants").MSEC_IN_SEC)};d.$12=function(){b("clearInterval")(this.$4),b("LiveVideoBroadcastActions").cancelLiveCountdown()};d.$11=function(){if(this.state.countdownTime)this.state.countdownTime===1?(b("clearInterval")(this.$4),this.$13()):b("LiveVideoBroadcastActions").updateCountdown(this.state.countdownTime-1);else throw new Error("Countdown time is not defined during timer update")};d.$13=function(){b("LiveVideoBroadcastActions").finishCountdown(),b("LiveVideoBroadcastActions").startLiveBroadcastRequest(this.state.gks?this.state.gks.live_www_broadcasting_download_raw_video:!1)};d.$14=function(){b("LiveVideoBroadcastActions").finishBroadcastRequest()};d.$17=function(){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",l).getURI();new(b("AsyncRequest"))().setURI(a).send();b("LiveVideoBroadcastActions").setShowNUX(!1)};d.$9=function(){this.$2&&this.$1.manageScroll(this.$2,this.state.ufiConfig)};d.$8=function(){__p&&__p();var a=this.state.ufiMarkup;if(!a)return;this.$3=b("DOM").scry(a,"._5yqa")[0];var c=!!this.$2;this.$2=b("DOM").scry(a,"._4iif")[0];a=this.props.newCommentsPillConfig;if(!c){c=a.Event;this.$5.addSubscriptions(c.listen(this.$2,"scroll",b("throttle")(this.$18,20)))}};d.$19=function(){this.state.broadcastState===i.LIVE&&this.state.inputSource==="CAMERA"&&b("LiveVideoBroadcastActions").finishBroadcastRequest()};d.componentDidMount=function(){__p&&__p();var a=this;try{b("QuickPerformanceLogger").markerEnd(44957698,2),b("QuickPerformanceLogger").markerEnd(44957701,2)}catch(a){}this.$1=new(b("UFILiveVideoAutoscrollHandler"))();this.$6=b("ReactDOM").findDOMNode(this);this.$5=new(b("SubscriptionsHandler"))();this.$5.addSubscriptions(b("Arbiter").subscribe("ufi/commentChanged",function(b,c){a.state.ufiConfig.ftentidentifier===c.ftentidentifier&&a.$9()}),b("Network").addListener("online",b("LiveVideoBroadcastActions").handleNetworkOnline),b("Network").addListener("offline",b("LiveVideoBroadcastActions").handleNetworkOffline));b("Run").onUnload(function(){a.$19()});b("Run").onLeave(function(){a.$19()});b("Run").onBeforeUnload(function(){var c=a.state.contextConfig&&a.state.contextConfig.composerType==="social_plugin";if(!b("LiveVideoBroadcastUIStore").get("warnOnExit")||c)return void 0;if(a.state.broadcastState!==i.FINISHED)return h._("You are still broadcasting");else return void 0});this.state.cameraState==="CHECK_CAMERA_ACCESS"&&window.setTimeout(function(){a.state.cameraState==="CHECK_CAMERA_ACCESS"&&b("LiveVideoBroadcastActions").updateCameraState(j.REQUEST_CAMERA_ACCESS)},b("LiveVideoBroadcastConstants").REQUEST_ACCESS_DELAY_MS);b("LiveVideoBroadcastActions").uiMounted();window.addEventListener("resize",function(){a.$20()});this.$5.addSubscriptions(b("UFIThreadedFacecastCommentsStore").addListener(function(){a.$20()}))};d.componentDidUpdate=function(a,b){this.$2||this.$8(),this.state.isDescriptionExpanded!==b.isDescriptionExpanded&&this.$20()};d.componentWillUnmount=function(){b("clearInterval")(this.$4),this.$5.release()};c.requestCameraURL=function(){navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(a){a.every(function(a){a=a.kind;return a!=="videoinput"})?b("LiveVideoBroadcastActions").updateCameraState(j.CAMERA_NOT_FOUND):b("LiveVideoBroadcastActions").getWebcamStreamUrlRequest()})["catch"](function(){return b("LiveVideoBroadcastActions").updateCameraState(j.CAMERA_NOT_FOUND)}):b("LiveVideoBroadcastActions").updateCameraState(j.CAMERA_NOT_FOUND)};d.$20=function(){this.$8(),this.$9()};d.render=function(){return!this.state.contextConfig?null:this.state.shouldBeClosed?null:b("React").jsx(b("LiveVideoBroadcast.react"),{accessToken:this.state.accessToken,broadcastState:this.state.broadcastState,contextConfig:this.state.contextConfig,countdownTime:this.state.countdownTime,dialog:this.state.dialog,gks:this.state.gks,inputSource:this.state.inputSource,isCrosspost:this.state.isCrosspost,isUpdateRequestPending:this.state.isUpdateRequestPending,shareMode:this.state.shareMode,showSaveChangesDialog:this.state.showSaveChangesDialog,targetID:this.state.targetID,ufiMarkup:this.state.ufiMarkup,videoID:this.state.videoID,onActionButtonClick:this.$15,onNewCommentsPillClick:this.$16,onNUXCloseButtonClick:this.$17})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);