if (self.CavalryLogger) { CavalryLogger.start_js(["UkubA"]); }

__d("XAdPreferencesNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/preferences/nux/",{type:{type:"String",required:!0}})}),null);
__d("XAdsPreferencesFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/preferences/feeedback/",{ad_id:{type:"Int"},id:{type:"Int"},favorite:{type:"Enum",required:!0,enumType:1}})}),null);
__d("AdsPrefs",["AsyncRequest","BanzaiODS","CSS","DOM","Event","XAdPreferencesNUXController","XAdsPreferencesFeedbackController","tidyEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){b("CSS").toggleClass(a,"hidden_elem");a=b("CSS").hasClass(a,"hidden_elem")?"ad_useful":"ad_neutral";c=b("XAdsPreferencesFeedbackController").getURIBuilder().setInt("id",c).setEnum("favorite",a).getURI();a=new(b("AsyncRequest"))(c);a.send()}a={initRHCFeedback:function(a,c,d){b("tidyEvent")(b("Event").listen(c,"click",function(b){g(d,a),b.kill()}))},toggleFavorite:function(a){var c=b("DOM").find(a.getRoot(),".img");g(c,a.getLabel())},registerView:function(a){a=b("XAdPreferencesNUXController").getURIBuilder().setString("type",a).getURI();new(b("AsyncRequest"))(a).send()},logSurveyClick:function(a){b("tidyEvent")(b("Event").listen(a,"click",function(a){b("BanzaiODS").bumpEntityKey(2966,"ads_www","ad_prefs_new_user_ad_about_survey_click")}))}};e.exports=a}),null);
__d("EntstreamFeedObjectHideProfileForTopicUndoTombstone.react",["cx","fbt","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_4glo",children:[this.props.feedbackText," ",b("React").jsx(b("ShimButton.react"),{className:"_4glp",form:"link",onClick:this.props.onUndoButtonClick,children:h._("Undo")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("XFeedHideProfileForTopicController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/control/hide_profile_for_topic/",{topic:{type:"Int"},actor:{type:"Int"},action:{type:"Enum",enumType:1}})}),null);
__d("EntstreamFeedObjectHideProfileForTopic",["cx","AsyncRequest","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectHideProfileForTopicUndoTombstone.react","React","ReactDOM","XFeedHideProfileForTopicController","ge"],(function(a,b,c,d,e,f,g){__p&&__p();a={hideProfile:function(a,c){c=b("EntstreamFeedObject").getRoot(b("ge")(c));if(!c)return;var d=a.getRoot().getAttribute("data-topic-id"),e=a.getRoot().getAttribute("data-actor-id"),f=a.getRoot().getAttribute("data-feedback-text");b("CSS").hide(a.getRoot());var g=b("DOM").create("div",{className:"_553t"});b("DOM").replace(c,g);b("ReactDOM").render(b("React").jsx(b("EntstreamFeedObjectHideProfileForTopicUndoTombstone.react"),{onUndoButtonClick:this._handleUndoButtonClick.bind(this,d,e,c,g,a),feedbackText:f}),g)},_handleUndoButtonClick:function(a,c,d,e,f){c=b("XFeedHideProfileForTopicController").getURIBuilder().setInt("actor",c).setInt("topic",a).setEnum("action","unhide_profile").getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("DOM").replace(e,d);b("CSS").show(f.getRoot())}};e.exports=a}),null);
__d("EntstreamFeedObjectSeeFirstOffUndoTombstone.react",["cx","fbt","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_4i1z",tabIndex:"0",children:[this.props.feedbackText," ",b("React").jsx(b("ShimButton.react"),{className:"_4ub0",form:"link",onClick:this.props.onUndoButtonClick,children:h._("Undo")})]})};return c}(b("React").Component);e.exports=a}),null);
__d("XFeedSubFollowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/profile/sub_follow/",{id:{type:"Int"},action:{type:"Enum",enumType:1},location:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("EntstreamFeedObjectSeeFirstOff",["csx","cx","AsyncRequest","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectSeeFirstOffUndoTombstone.react","Parent","React","ReactDOM","XFeedSubFollowController","ge"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={turnOffSeeFirst:function(a,c){c=b("EntstreamFeedObject").getRoot(b("ge")(c));if(!c)return;var d=a.getRoot().getAttribute("data-see-first-off-id"),e=a.getRoot().getAttribute("data-feedback-text");b("CSS").hide(a.getRoot());var f=b("DOM").create("div",{className:"_4ua_"});b("DOM").prependContent(c,f);b("ReactDOM").render(b("React").jsx(b("EntstreamFeedObjectSeeFirstOffUndoTombstone.react"),{onUndoButtonClick:this._handleUndoButtonClick.bind(this,d,c,f,a),feedbackText:e}),f);this.adjustIndicator(c,a)},_handleUndoButtonClick:function(a,c,d,e){a=b("XFeedSubFollowController").getURIBuilder().setInt("id",a).setEnum("action","see_first").setInt("location",73).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").send();b("DOM").remove(d);b("CSS").show(e.getRoot());this.adjustIndicator(c,e)},adjustIndicator:function(a,c){__p&&__p();a=b("DOM").scry(a,"._zwz");if(!a||a.length===0)return;a=a[0];c=b("Parent").bySelector(c.getRoot(),"._5pbk");c=b("DOM").scry(c,"._3bb4");var d=!0;c.forEach(function(a){d=d&&!b("CSS").shown(a)});d?b("CSS").hide(a):b("CSS").show(a)}};e.exports=a}),null);
__d("CommercialBreakVideoHide",["StoryComponentVideoPlayerControllerRegistry","$"],(function(a,b,c,d,e,f){__p&&__p();a={hide:function(a,c){__p&&__p();if(!a||!c)return;a=b("$")(a);a=b("StoryComponentVideoPlayerControllerRegistry").findVideoPlayerControllerForElement(a,c);if(!a)return;c=a.getOption("VideoWithCommercialBreak","controller");if(!c)return;c.onPauseAdFromNFX()}};e.exports=a}),null);
__d("EntstreamHomeFeedObjectOptionsMenuUtils",["csx","CSS","DOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={findMenuItemPosition:function(a,c){var d=0,e=!1;a.forEachItem(function(a){if(!b("CSS").matchesSelector(a.getRoot(),"._54ni"))return;(c===a||c===a.getRoot())&&(e=!0);e||d++});return e?d:null},calculateMenuSize:function(a){var c=b("DOM").scry(a.getRoot(),'li[role="presentation"].__MenuItem').length,d;b("CSS").matchesSelector(a.getRoot(),"._50n_")?d=b("DOM").scry(a.getRoot(),'li[role="presentation"]._50o0').length:d=0;b("CSS").matchesSelector(a.getRoot(),"._50o1")?a=b("DOM").scry(a.getRoot(),'li[role="presentation"]._50o2').length:a=0;return c-d-a}};e.exports=a}),null);
__d("FeedStoryOptionMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FeedStoryOptionMenuLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FeedStoryOptionMenuLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FeedStoryOptionMenuLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setFeedLocation=function(a){this.$1.feed_location=a;return this};c.setIsSecondary=function(a){this.$1.is_secondary=a;return this};c.setIsSelfStory=function(a){this.$1.is_self_story=a;return this};c.setIsSponsored=function(a){this.$1.is_sponsored=a;return this};c.setMTouchFeedLocation=function(a){this.$1.m_touch_feed_location=a;return this};c.setMenuOpenedDuration=function(a){this.$1.menu_opened_duration=a;return this};c.setMenuSize=function(a){this.$1.menu_size=a;return this};c.setOptionName=function(a){this.$1.option_name=a;return this};c.setOptionPos=function(a){this.$1.option_pos=a;return this};c.setQeIosWaistCauExperimentsUniverse=function(a){this.$1.qe_ios_waist_cau_experiments_universe=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={client_userid:!0,event_type:!0,feed_location:!0,is_secondary:!0,is_self_story:!0,is_sponsored:!0,m_touch_feed_location:!0,menu_opened_duration:!0,menu_size:!0,option_name:!0,option_pos:!0,qe_ios_waist_cau_experiments_universe:!0,session_id:!0,time:!0,weight:!0};e.exports=a}),null);
__d("getEventTarget",[],(function(a,b,c,d,e,f){"use strict";var g=3;function a(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return a.nodeType===g?a.parentNode:a}e.exports=a}),null);
__d("EntstreamHomeFeedObjectOptionsMenu",["csx","cx","AdsPrefs","AdsTransparencyReportAdTypedLogger","AdsTransparencyTypedLogger","AsyncRequest","Clipboard","CommercialBreakVideoHide","CSS","DesktopHscrollUnit","DOM","EducationPromotionTriggerInfo","EntstreamFeedObject","EntstreamFeedObjectFollow","EntstreamFeedObjectFollowup","EntstreamFeedObjectHideProfileForTopic","EntstreamFeedObjectSeeFirstOff","EntstreamHomeFeedObjectHide","EntstreamHomeFeedObjectOptionsMenuUtils","Event","FeedAdXoutEventTracker","FeedObjectCapstone","FeedStoryOptionMenuTypedLogger","FunnelLogger","MenuTogglingItem","SubscriptionsHandler","Tooltip","TooltipData","UFICentralUpdates","UFIConstants","WebFunnelLogger","XEducationPromotionTriggerRecordController","emptyFunction","ge","getEventTarget","onEnclosingPageletDestroy"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c,d,e){__p&&__p();d=c.node_id;var f=c.story_token,g=c.hideable_token,h=c.identifier,i=c.location,k=c.session_id,l=c.is_sponsored,m=c.is_self_story;c=c.host_video_id;var n=e.item,o=n.getRoot(),p=o.getAttribute("data-feed-option-name"),q=b("CSS").matchesSelector(o,"._50o2")||b("CSS").matchesSelector(o,"._50o0"),r=b("CSS").matchesSelector(o,"._2ofr");if(p&&!r){new(b("FeedStoryOptionMenuTypedLogger"))().setOptionName(p).setOptionPos(b("EntstreamHomeFeedObjectOptionsMenuUtils").findMenuItemPosition(a,n)).setMenuSize(b("EntstreamHomeFeedObjectOptionsMenuUtils").calculateMenuSize(a)).setIsSecondary(q?1:0).setEventType("clk").setFeedLocation(i).setSessionID(k).setIsSponsored(l?1:0).setIsSelfStory(m?1:0).log();var s=i?"loc:"+i:"loc:null";b("FunnelLogger").appendActionWithTag("WWW_CHEVRON_FUNNEL","clk:"+p,"loc:"+s)}if(typeof n.getValue!=="function")return;switch(n.getValue()){case"hide":case"markspam":case"afrostart":b("EntstreamHomeFeedObjectHide").hide(d,f,n.getValue(),g);break;case"afro_direct_action":if(i===88||i===125||i===126){b("CommercialBreakVideoHide").hide(d,c);break}s=b("EntstreamFeedObject").getHscrollOuterRootIfAvailable(b("EntstreamFeedObject").getRoot(b("ge")(d)));(p==="HIDE_AD"||p==="REPORT_AD")&&b("FeedAdXoutEventTracker").markHidden(s);b("FeedObjectCapstone").removeCapstone(s);f=n.getRoot().getAttribute("data-optimistic-hide");if(f){b("EntstreamFeedObjectFollowup").getFollowup(s)&&b("EntstreamFeedObjectFollowup").removeFollowup(s);g=b("DOM").create("div",{className:"_5lum"});b("DOM").appendContent(g,n.getRoot().getAttribute("data-action-in-progress-string"));b("DOM").insertBefore(s.firstChild,g);c=b("DesktopHscrollUnit").handleOptimisticHideInUnit(s);!c&&p!=="NFXRemoveItemFromAdAction"&&b("CSS").addClass(s,"_i6m")}break;case"follow_post":case"unfollow_post":b("EntstreamFeedObjectFollow").toggleFollow(n,d,h);break;case"ad_useful":case"ad_neutral":b("AdsPrefs").toggleFavorite(n);e.event.preventDefault();return;case"see_first_off":b("EntstreamFeedObjectSeeFirstOff").turnOffSeeFirst(n,d);break;case"hide_profile_for_topic":b("EntstreamFeedObjectHideProfileForTopic").hideProfile(n,d);break;case"has_nested_option":e.item.hasAction=b("emptyFunction").thatReturnsFalse;var t=b("DOM").scry(o,"._2ofs");if(r){b("CSS").removeClass(o,"_2ofr");e.item.hasAction=function(){this.hasAction=b("emptyFunction").thatReturnsTrue;return!1};for(var f=0;f<t.length;f++){g=t[f];if(g.hasAttribute("clicked")){e.item.hasAction=b("emptyFunction").thatReturnsTrue;g.removeAttribute("clicked");break}}}else{b("CSS").addClass(o,"_2ofr");e.item._nestedItemListeners||(e.item._nestedItemListeners=[]);c=function(c){var d=t[c];e.item._nestedItemListeners.push(b("Event").listen(d,"click",function(e){var f=d.getAttribute("data-feed-option-name");f&&new(b("FeedStoryOptionMenuTypedLogger"))().setOptionName(f).setOptionPos(c).setMenuSize(b("EntstreamHomeFeedObjectOptionsMenuUtils").calculateMenuSize(a)).setIsSecondary(q?1:0).setEventType("clk").setFeedLocation(i).setSessionID(k).setIsSponsored(l?1:0).setIsSelfStory(m?1:0).log();b("getEventTarget")(e).setAttribute("clicked",!0)}))};for(var p=0;p<t.length;p++)c(p)}break;case"copy_demo_link":b("Clipboard").copy(e.item.getLink());var u=e.item.getRoot();b("TooltipData").set(u,"Copied to Clipboard");b("Tooltip").show(u);window.setTimeout(function(){u.removeAttribute("data-tooltip-content"),b("Tooltip").hide(u)},2e3);e.event.preventDefault();break;case"inject_ad_option":case"clear_ads_option":break}j(a,n)()}function j(a,c){return function(){var d=b("DOM").scry(a.getRoot(),"._2ofr"),e=c&&c.getRoot();for(var f=0;f<d.length;f++){var g=d[f];g!==e&&b("CSS").removeClass(g,"_2ofr")}a.forEachItem(function(a){a!==c&&b("CSS").matchesSelector(a.getRoot(),"._1hqk")&&(k(a),a.hasAction=b("emptyFunction").thatReturnsTrue)})}}function k(a){__p&&__p();if(Array.isArray(a._nestedItemListeners))for(var b=a._nestedItemListeners,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.remove()}a._nestedItemListeners=void 0}function l(a,c){__p&&__p();var d=c.location,e=c.session_id,f=c.is_sponsored,g=c.is_self_story,h=c.ad_logging_data;return function(){__p&&__p();new(b("FeedStoryOptionMenuTypedLogger"))().setOptionName("root").setEventType("clk").setMenuSize(b("EntstreamHomeFeedObjectOptionsMenuUtils").calculateMenuSize(a)).setFeedLocation(d).setSessionID(e).setIsSponsored(f?1:0).setIsSelfStory(g?1:0).log();b("FunnelLogger").startFunnel("WWW_CHEVRON_FUNNEL");var c=d?"loc:"+d:"loc:null";b("FunnelLogger").addFunnelTag("WWW_CHEVRON_FUNNEL","loc:"+c);!!h&&Object.getOwnPropertyNames(h).length&&(new(b("AdsTransparencyTypedLogger"))().setAdID(h.ad_id).setEvent(h.transparency_event).setIsDpa(h.is_dpa).setProduct(h.product).addToExtraData("session_id",h.impression_session_id).log(),new(b("AdsTransparencyReportAdTypedLogger"))().setAdID(h.ad_id).setEntity(h.report_entity).setEvent(h.report_event).setProductLocation(h.report_location).setSessionID(h.impression_session_id).setAdsPageType(h.ads_page_type).log(),new(b("WebFunnelLogger"))("AdsReportingFunnelDefinition").setAction("impression").setActionTag("xout_menu").addFunnelPayload("flowtype",h.flow_type).setSessionKey(h.ad_id).log(),new(b("AsyncRequest"))().setURI(b("XEducationPromotionTriggerRecordController").getURIBuilder().getURI()).setMethod("POST").setData({timestamps:["last_open_ad_contextual_menu_timestamp"]}).send());var i=b("CSS").matchesSelector(a.getRoot(),"._50o1"),j=b("CSS").matchesSelector(a.getRoot(),"._50n_");a.forEachItem(function(c){__p&&__p();var h,k=c.getRoot(),l=k.getAttribute("data-feed-option-name"),m=(h=b("CSS")).matchesSelector(k,"._50o2"),n=h.matchesSelector(k,"._50o0"),o=h.matchesSelector(k,"._50nd");h=h.matchesSelector(k,"._50ne");k=i&&m||j&&n||!i&&o||!j&&h;o=m||n;if(l&&!k){new(b("FeedStoryOptionMenuTypedLogger"))().setOptionName(l).setOptionPos(b("EntstreamHomeFeedObjectOptionsMenuUtils").findMenuItemPosition(a,c)).setMenuSize(b("EntstreamHomeFeedObjectOptionsMenuUtils").calculateMenuSize(a)).setIsSecondary(o?1:0).setEventType("imp").setFeedLocation(d).setSessionID(e).setIsSponsored(f?1:0).setIsSelfStory(g?1:0).log();h=d?"loc:"+d:"loc:null";b("FunnelLogger").appendActionWithTag("WWW_CHEVRON_FUNNEL","imp:"+l,"loc:"+h)}c.onShow()})}}function m(a,c,d){__p&&__p();c=c.identifier;if(d.payloadsource===b("UFIConstants").UFIPayloadSourceType.USER_ACTION){d=d.actions||[];for(var e=0;e<d.length;e++){var f=d[e];if(f.actiontype===b("UFIConstants").UFIActionType.ADD_COMMENT_ACTION){if(f.feedbackfbid!=c)return;a.getRoot();a.forEachItem(function(a){a instanceof b("MenuTogglingItem")&&a.getValue()==="unfollow_post"&&a.handleClick()})}}}}function a(a,c){var d=c.node_id,e=a.subscribe("itemclick",function(b,d){return i(a,c,b,d)}),f=a.subscribe("show",l(a,c).bind(this)),g=a.subscribe("hide",j(a,null)),h=b("UFICentralUpdates").subscribe("update-actions",function(b,d){m(a,c,d)});d=b("ge")(d);if(d){var k=new(b("SubscriptionsHandler"))();k.addSubscriptions(e,f,g,h,b("onEnclosingPageletDestroy")(d,function(){a.done(),a.destroy(),k.release()}))}}e.exports=a}),null);
__d("TimelineCommentsLoader",["CommentPrelude","CSS","DOM","Event","Parent","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g={init:function(){__p&&__p();g.init=b("emptyFunction"),b("Event").listen(document.body,"click",function(a){__p&&__p();var c=b("Parent").byClass(a.getTarget(),"fbTimelineFeedbackCommentLoader");if(c){a.kill();b("CommentPrelude").click(c,!1,"timeline_comments_loader");a=b("Parent").byTag(c,"form");var d=b("DOM").scry(a,"li.uiUfiViewAll input");d.length||(d=b("DOM").scry(a,"li.fbUfiViewPrevious input"));d.length||(d=b("DOM").scry(a,"a.UFIPagerLink"));d[0].click();b("CSS").show(b("DOM").find(a,"li.uiUfiComments"));b("CSS").removeClass(c,"fbTimelineFeedbackCommentLoader")}})}};e.exports=g}),null);