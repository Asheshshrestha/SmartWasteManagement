if (self.CavalryLogger) { CavalryLogger.start_js(["6jgPc"]); }

__d("GroupsPollDeleteOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"GroupsQuestionOptionDeleteData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"groups_question_option_delete",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"GroupsQuestionOptionDeleteResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"deleted_option_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"GroupsPollDeleteOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"GroupsPollDeleteOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"GroupsPollDeleteOptionMutation",id:"1939994219348819",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAddOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionAddOptionData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"Variable",name:"first",variableName:"first"},d={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f=[e],g={kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:f},h={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[h,e],j=[c,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},m=[{kind:"Literal",name:"first",value:10}],n={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},p=[o],q={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAddOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:b,concreteType:"QuestionAddOptionResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[c]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!1,selections:[d,g,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:!1,selections:f}]}]}]},operation:{kind:"Operation",name:"PollAddOptionMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_option",storageKey:null,args:b,concreteType:"QuestionAddOptionResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:i},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:j,concreteType:"QuestionOptionsConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_voters",storageKey:"profile_voters(first:10)",args:m,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[n]},h,{kind:"InlineFragment",type:"User",selections:p},{kind:"InlineFragment",type:"Page",selections:p}]},d]},q]},{kind:"LinkedHandle",alias:null,name:"profile_voters",args:m,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},n]},e]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,o,e]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},h]},d]},q]},{kind:"LinkedHandle",alias:null,name:"options",args:j,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]},{kind:"LinkedField",alias:null,name:"question_options_edge",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!1,selections:[d,g,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:null,plural:!1,selections:i}]}]}]},params:{operationKind:"mutation",name:"PollAddOptionMutation",id:"2183103128467309",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAddVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionAddVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"profile_voters",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[d]},f={kind:"Variable",name:"first",variableName:"first"},g={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[f,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],j={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},k=[{kind:"Literal",name:"first",value:10}],l={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},n=[m],o={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAddVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:b,concreteType:"QuestionAddVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[f]}]}]}]},operation:{kind:"Operation",name:"PollAddVoteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_add_vote",storageKey:null,args:b,concreteType:"QuestionAddVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e,g]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,g]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:i,concreteType:"QuestionOptionsConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[j]},c,{kind:"LinkedField",alias:null,name:"profile_voters",storageKey:"profile_voters(first:10)",args:k,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[l]},h,{kind:"InlineFragment",type:"User",selections:n},{kind:"InlineFragment",type:"Page",selections:n}]},o]},p]},{kind:"LinkedHandle",alias:null,name:"profile_voters",args:k,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l]},g]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[j,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,m,g]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},h]},o]},p]},{kind:"LinkedHandle",alias:null,name:"options",args:i,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]},params:{operationKind:"mutation",name:"PollAddVoteMutation",id:"2788614041152055",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollRemoveVoteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"QuestionRemoveVoteData!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"profile_voters",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[d]},f={kind:"Variable",name:"first",variableName:"first"},g={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[f,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],j={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},k=[{kind:"Literal",name:"first",value:10}],l={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},n=[m],o={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollRemoveVoteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:b,concreteType:"QuestionRemoveVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[f]}]}]}]},operation:{kind:"Operation",name:"PollRemoveVoteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"question_remove_vote",storageKey:null,args:b,concreteType:"QuestionRemoveVoteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"option",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[c,e,g]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,g]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:i,concreteType:"QuestionOptionsConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[j]},c,{kind:"LinkedField",alias:null,name:"profile_voters",storageKey:"profile_voters(first:10)",args:k,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[l]},h,{kind:"InlineFragment",type:"User",selections:n},{kind:"InlineFragment",type:"Page",selections:n}]},o]},p]},{kind:"LinkedHandle",alias:null,name:"profile_voters",args:k,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l]},g]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[j,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,m,g]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},h]},o]},p]},{kind:"LinkedHandle",alias:null,name:"options",args:i,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]}]},params:{operationKind:"mutation",name:"PollRemoveVoteMutation",id:"2899467313412988",text:null,metadata:{}}}}();e.exports=a}),null);
__d("ReportGroupsPollOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ReportGroupsPollOptionData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"report_groups_poll_option",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ReportGroupsPollOptionResponsePayload",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reported_option_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"ReportGroupsPollOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ReportGroupsPollOptionMutation",argumentDefinitions:a,selections:b},params:{operationKind:"mutation",name:"ReportGroupsPollOptionMutation",id:"1808065669214752",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAttachmentComponentRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"actorID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"actorID"}],c=[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"id",variableName:"questionID"}],d={kind:"Variable",name:"first",variableName:"first"},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[g]},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},j=[d,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},m=[{kind:"Literal",name:"first",value:10}],n={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o=[n],p={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},q={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAttachmentComponentRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:b,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:c,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[d]}]}]},operation:{kind:"Operation",name:"PollAttachmentComponentRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:b,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'}]}]}]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:c,concreteType:"Question",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,e]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:j,concreteType:"QuestionOptionsConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_voters",storageKey:"profile_voters(first:10)",args:m,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",type:"User",selections:o},{kind:"InlineFragment",type:"Page",selections:o}]},p]},q]},{kind:"LinkedHandle",alias:null,name:"profile_voters",args:m,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g]},e]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,n,e]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},i]},p]},q]},{kind:"LinkedHandle",alias:null,name:"options",args:j,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]},params:{operationKind:"query",name:"PollAttachmentComponentRefetchQuery",id:"2407765239260895",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PollAttachmentComponent_question.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},g=[f],h={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},i={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Fragment",name:"PollAttachmentComponent_question",type:"Question",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:null},{count:"first",cursor:null,direction:"forward",path:["options"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"ordering",type:"[QuestionOptionsOrdering]",defaultValue:["vote_count","creation_time"]}],selections:[a,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"LinkedField",alias:"options",name:"__PollAttachmentComponent_options_connection",storageKey:null,args:null,concreteType:"QuestionOptionsConnection",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[c]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:"profile_voters",name:"__PollAttachmentComponent_options_profile_voters_connection",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[d]},e,{kind:"InlineFragment",type:"User",selections:g},{kind:"InlineFragment",type:"Page",selections:g}]},h]},i]},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},d]}]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},e]},h]},i]}]}}();e.exports=a}),null);
__d("PollAttachmentComponent_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PollAttachmentComponent_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'}]}]}]};e.exports=a}),null);
__d("PollAttachmentQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"actorID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"questionID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"actorID"}],c=[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"id",variableName:"questionID"}],d={kind:"Variable",name:"first",variableName:"first"},e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__width:32)",args:[{kind:"Literal",name:"size__width",value:32}],concreteType:"Image",plural:!1,selections:[g]},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},j=[d,{kind:"Literal",name:"orderby",value:["vote_count","creation_time"]}],k={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},m=[{kind:"Literal",name:"first",value:10}],n={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o=[n],p={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},q={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PollAttachmentQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:b,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:c,concreteType:"Question",plural:!1,selections:[{kind:"FragmentSpread",name:"PollAttachmentComponent_question",args:[d]}]}]},operation:{kind:"Operation",name:"PollAttachmentQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"actor",storageKey:null,args:b,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'}]}]}]},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:c,concreteType:"Question",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"response_method",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_poll_options",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,e]},{kind:"LinkedField",alias:null,name:"options",storageKey:null,args:j,concreteType:"QuestionOptionsConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"QuestionOption",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"text_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l]},{kind:"ScalarField",alias:null,name:"viewer_has_voted",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_voters",storageKey:"profile_voters(first:10)",args:m,concreteType:"QuestionOptionProfileVotersConnection",plural:!1,selections:[k,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"QuestionOptionProfileVotersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,f,h,i,{kind:"InlineFragment",type:"User",selections:o},{kind:"InlineFragment",type:"Page",selections:o}]},p]},q]},{kind:"LinkedHandle",alias:null,name:"profile_voters",args:m,handle:"connection",key:"PollAttachmentComponent_options_profile_voters",filters:null},{kind:"LinkedField",alias:null,name:"associated_image",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},g]},e]},{kind:"ScalarField",alias:null,name:"can_viewer_delete_groups_poll_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"groups_poll_option_author_description",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[l,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,n,e]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report_to_group_admin",args:null,storageKey:null},i]},p]},q]},{kind:"LinkedHandle",alias:null,name:"options",args:j,handle:"connection",key:"PollAttachmentComponent_options",filters:[]}]}]},params:{operationKind:"query",name:"PollAttachmentQuery",id:"2507703069268152",text:null,metadata:{}}}}();e.exports=a}),null);
__d("PhotoViewState",["ArbiterMixin","PhotoStore","PhotoUtils","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){__p&&__p();var e;e=a.call(this)||this;d=d||{};e._viewer=b;e._setID=c;e._position=d.position||0;e._preventPreload=d.preventPreload;e._reverse=d.reverse;e._updateCallback=d.updateCallback;e._preloaded={};return e}var d=c.prototype;d._fetchCallback=function(a){if(!this._viewer.isOpen())return;this._preload(a);this._log("data_fetch_complete")};d._preload=function(a){b("PhotoUtils").preload(this._viewer,a,function(a){this._preloaded[b("PhotoUtils").getFBIDFromData(a)]=!0}.bind(this))};d._preloadPhotosInRange=function(a,c){var d=[];for(var a=a;a<=c;++a){var e=b("PhotoStore").getByIndexImmediate(this._setID,a);e&&!this._isPreloaded(e)&&d.push(e)}this._preload(d)};d._isPreloaded=function(a){return this._preloaded[b("PhotoUtils").getFBIDFromData(a)]};d.getPosition=function(){return this._position};d.isValidMovement=function(a){if(!b("PhotoStore").hasBeenCreated(this._setID))return!1;if(b("PhotoStore").hasLooped(this._setID))return!0;a=this._position+a;var c=b("PhotoStore").getAvailableRange(this._setID),d=c.offset+c.length-1;return a>=c.offset-1&&a<=d+1};d.getRelativeMovement=function(a){return b("PhotoStore").getIndexForID(this._setID,a)-this._position};d.moveCursor=function(a){if(!this.isValidMovement(a))return!1;this._position+=a;return!0};d._page=function(a){if(!this.moveCursor(a))return;this._log("page_begin");var d=b("PhotoStore").getByIndexImmediate(this._setID,this._position);!d?(this.inform("photo_fetch"),this._log("photo_fetch")):this._isPreloaded(d)||this._preload([d]);b("PhotoStore").getByIndex(this._setID,this._position,this._updateCallback);this._loadMoreIfNecessary(a>0,c.BUFFER_SIZE);this._log("page_complete")};d.loadMoreForwardIfNecessary=function(a){__p&&__p();if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID);c=c.offset+c.length-1;var d=this._position+a;if(d>c&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c);b("PhotoStore").fetchForward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(this._position+1,d)};d.loadMoreBackwardIfNecessary=function(a){if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID),d=this._position-a;if(d<c.offset&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c.offset);b("PhotoStore").fetchBackward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(d,this._position-1)};d._loadMoreIfNecessary=function(a,b){a?this.loadMoreForwardIfNecessary(b):this.loadMoreBackwardIfNecessary(b)};d.displayFirst=function(){if(!this._viewer.isOpen())return;b("PhotoStore").setPreFetchCallback(this._setID,function(){this._log("data_fetch_begin")}.bind(this));var a=function(a){this._isPreloaded(a)||this._preload([a]),this._updateCallback&&this._updateCallback(a)}.bind(this);b("PhotoStore").getByIndex(this._setID,this._position,a);this._reverse?this.loadMoreBackwardIfNecessary(c.BUFFER_SIZE):this.loadMoreForwardIfNecessary(c.BUFFER_SIZE)};d.backward=function(){this._page(this._reverse?1:-1)};d.forward=function(){this._page(this._reverse?-1:1)};d._log=function(a){this._viewer.log(a)};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a,{BUFFER_SIZE:4});e.exports=a}),null);
__d("SpotlightViewerCoreMixin",["PhotoLogger","PhotoStore","PhotoUtils","PhotoViewState","React","SpotlightViewerImage"],(function(a,b,c,d,e,f){__p&&__p();a={_displayFirstPhoto:function(){b("PhotoStore").executePostCreate(this.props.setid,this.viewState.displayFirst.bind(this.viewState))},_getInitialPosition:function(){var a;this.props.clearcache||(a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid));a===void 0&&(b("PhotoStore").clearSetCache(this.props.setid),a=0);return a},__displayPhoto:function(){var a=this._getInitialPosition();this.viewState=new(b("PhotoViewState"))(this,this.props.setid,{position:a,preventPreload:this.__shouldPreventPhotoPreload,reverse:this.props.reverse,updateCallback:this._updatePhoto});this.inform("open");this._displayFirstPhoto()},UNSAFE_componentWillMount:function(){this._logger=new(b("PhotoLogger"))(this.getViewerID()),this.log("open_begin"),this.__displayPhoto()},componentDidMount:function(){this._enableSubscriptions&&this._enableSubscriptions(),this.log("open_complete")},isOpen:function(){return this.state.open},close:function(){if(!this.isOpen())return;this.log("close_begin");this.setState({open:!1},function(){this.inform("close"),this.log("close_complete")})},componentWillUnmount:function(){this.viewState=null},_onClickViewport:function(a){a?this.viewState.forward():this.viewState.backward()},_getMedia:function(a,c){return b("React").jsx(b("SpotlightViewerImage"),{ref:"image",src:a.uri,dimensions:c.imageDimensions})},_getCurrentFBID:function(){return b("PhotoUtils").getFBIDFromData(this.state.photoData)},_updatePhoto:function(a){this.log("photo_change_begin"),this.setState({photoData:a},function(){this.inform("photo_change",this.state.photoData),this.log("photo_change_complete")})},getLogger:function(){return this._logger},log:function(a){this._logger&&this._logger.logEvent(a)}};e.exports=a}),null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g={verticalPadding:"number",horizontalPadding:"number",normalResDim:"object"};a=function(){"use strict";__p&&__p();function a(a){__p&&__p();this._verticalPadding=40;this._horizontalPadding=60;this._normalResDim={x:960,y:960};this._photoStripHeight=88;for(var c in a){if(!g[c])throw new Error("Unsupported extraData value '"+c+"' should not be used");typeof a[c]===g[c]&&(this["_"+c]=a[c])}this._listener=b("Event").listen(window,"resize",this._resetMaxStageDimensions.bind(this))}var c=a.prototype;c.destroy=function(){this._listener.remove()};c.getStageDimensions=function(a){var c=this.getMaxStageDimensions();c=new(b("Vector"))(Math.min(a.x,c.x),Math.min(a.y,c.y));var d=c.x/c.y;a=a.x/a.y;d<a?c.y=Math.round(c.x/a):c.x=Math.round(c.y*a);return c};c.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;if(d>=e||a>=c){var f=d/a,g=e/c;g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c)}return new(b("Vector"))(d,a)};c.getImageDimensionsForMaxStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y-this._photoStripHeight;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};c.getMaxStageDimensions=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x-this._horizontalPadding,b("Vector").getViewportDimensions().y-this._verticalPadding));return this._maxStageDimensions};c.getMaxStageDimensionsWithoutPadding=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y));return this._maxStageDimensions};c._resetMaxStageDimensions=function(){this._maxStageDimensions=null};c.getBestFitImageFromPhoto=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};c.getOriginalDimensionsFromPhoto=function(a){a=b("PhotoUtils").getOriginalImageFromData(a);return new(b("Vector"))(a.width,a.height)};c.getBestFitDimensionsFromPhoto=function(a,c){a=this.getBestFitImageFromPhoto(a,c);return new(b("Vector"))(a.width,a.height)};c.getVerticalPadding=function(){return this._verticalPadding};c.getHorizontalPadding=function(){return this._horizontalPadding};return a}();e.exports=a}),null);
__d("SpotlightViewerStageResizer",["Event","MessengerEnvironment","SubscriptionsHandler","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g=520;a=function(){"use strict";__p&&__p();function a(a,c){this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(b("Event").listen(window,"resize",this._resetStageDimensions.bind(this))),this._dimensions=a,this._minHeight=c.minHeight||g,this._minWidth=c.minWidth||g,this._resetStageDimensions()}var c=a.prototype;c.destroy=function(){this._dimensions=null,this._subscriptionsHandler.release()};c._resetStageDimensions=function(){this._currentStageDimensions=new(b("Vector"))(this._minWidth,this._minHeight)};c.getImageAndStageDimensions=function(a){a=this._dimensions.getBestFitDimensionsFromPhoto(a,this._dimensions.getMaxStageDimensions());var c=b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding(a):this._dimensions.getStageDimensions(a);this._currentStageDimensions=new(b("Vector"))(Math.max(c.x,this._minWidth,this._currentStageDimensions.x),Math.max(c.y,this._minHeight,this._currentStageDimensions.y));c=b("MessengerEnvironment").messengerui?this._dimensions.getImageDimensionsForMaxStage(a,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(a,this._currentStageDimensions);return{stageDimensions:this._currentStageDimensions,imageDimensions:c}};c.getCurrentStageDimensions=function(){return this._currentStageDimensions};return a}();e.exports=a}),null);
__d("SpotlightViewerDimensionMixin",["MessengerEnvironment","PhotoViewerDimensions","SpotlightViewerStageResizer"],(function(a,b,c,d,e,f){__p&&__p();a={getInitialState:function(){this._dimensions=new(b("PhotoViewerDimensions"))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new(b("SpotlightViewerStageResizer"))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return{maxStageDimensions:b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()}},componentWillUnmount:function(){this._resizer&&this._resizer.destroy(),this._resizer=null,this._dimensions&&this._dimensions.destroy(),this._dimensions=null},getMedia:function(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==="MessageVideo")return this._getVideo();var a=this._resizer.getImageAndStageDimensions(this.state.photoData),b=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(b,a)}else return null},getDimensions:function(){return this._dimensions},getStageDimensions:function(){if(this.state.photoData)return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;else return b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()},getImageDimensions:function(){return!this.state.photoData?null:this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions},onResize:function(){if(b("MessengerEnvironment").messengerui){var a=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:a,width:a.x})}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()})}};e.exports=a}),null);
__d("SpotlightViewerInit",["DOM","ReactDOM"],(function(a,b,c,d,e,f){a={render:function(a,c){var d=b("DOM").create("div");a=b("ReactDOM").render(a,d);b("DOM").appendContent(document.body,d);a.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(d),b("DOM").remove(d),c&&c()});return a}};e.exports=a}),null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],(function(a,b,c,d,e,f){__p&&__p();a={_getInitialPhotoData:function(){var a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid);a=b("PhotoStore").getByIndexImmediate(this.props.setid,a);return a?a:this._getThumbnailPhotoData()},_getThumbnailPhotoData:function(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var a={id:this.props.photoid};for(var c=0;c<this.props.dimensions.length;++c){var d=b("Vector").deserialize(this.props.dimensions[c]);a["image"+c]={width:d.x,height:d.y,uri:this.props.thumbsrc}}return a}};e.exports=a}),null);
__d("GroupsPollDeleteOptionMutation",["RelayModern","RelayRuntime","GroupsPollDeleteOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("GroupsPollDeleteOptionMutation.graphql");function a(a,b){__p&&__p();var c={input:{actor_id:b.viewer.actor.id,question_option_id:b.optionID}},d=function(a){__p&&__p();var c=a.get(b.questionID);if(!c)return;c=c&&i.getConnection(c,"PollAttachmentComponent_options");if(!c)return;i.deleteNode(c,b.optionID);var d=parseInt(c.getValue("count"),10);c.setValue(d-1,"count");a["delete"](b.optionID)},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,updater:d,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PollAddOptionMutation",["RelayModern","PollAddOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=0,j=g!==void 0?g:g=b("PollAddOptionMutation.graphql");function a(a,b){__p&&__p();var c=b.imageUpload&&b.imageUpload.fbid;c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_text:b.optionText,option_page_id:b.optionPageID,image_id:c},first:b.numOptionsToShow};var d=function(){var a=b.question.author.id===b.viewer.actor.id,c="client:newOption:"+i++,d=b.imageUpload&&{image:{height:b.imageUpload.thumbnail_height,width:b.imageUpload.thumbnail_width,uri:b.imageUpload.thumbnail_uri}};c={node:{id:c,text_with_entities:{text:b.optionText},associated_image:d,viewer_has_voted:!a,profile_voters:{count:a?0:1,edges:a?[]:[{node:babelHelpers["extends"]({},b.viewer.actor)}]}}};d=b.question.options.edges.map(function(c){var d=babelHelpers["extends"]({},c.node);b.question.response_method==="CHOOSE_ONE"&&c.node.viewer_has_voted&&!a&&(d.viewer_has_voted=!1,d.profile_voters={count:c.node.profile_voters.count-1});return{node:d}});d.push(c);return{question_add_option:{question:{id:b.question.id,options:{count:b.question.options.count+1,edges:d}},question_options_edge:c}}},e=function(a){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,variables:c,optimisticResponse:d(),onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PollAttachmentUtils",[],(function(a,b,c,d,e,f){"use strict";a={isOpinionPoll:function(a){return a==="CHOOSE_ONE"||a==="IMAGE_CHOOSE_ONE"},isEigenpoll:function(a){return a==="CHOOSE_MULTIPLE"||a==="IMAGE_CHOOSE_MULTIPLE"}};e.exports=a}),null);
__d("PollAddVoteMutation",["PollAttachmentUtils","RelayModern","RelayRuntime","PollAddVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("PollAttachmentUtils").isOpinionPoll,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=b("RelayRuntime").ConnectionHandler,k=g!==void 0?g:g=b("PollAddVoteMutation.graphql");function a(a,b){__p&&__p();var c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_id:b.option.id,rank:b.rank},first:b.numOptionsToShow},d=function(a){__p&&__p();a=a.get(b.question.id);if(!a)return;a=a&&j.getConnection(a,"PollAttachmentComponent_options");if(!a)return;a=a&&a.getLinkedRecords("edges");if(!a)return;a=a.map(function(a){return a&&a.getLinkedRecord("node")});a.forEach(function(a){if(!a)return;var c=a&&j.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a.getValue("id")===b.option.id?(a.setValue(!0,"viewer_has_voted"),c.setValue(b.option.profile_voters.count+1,"count")):a.getValue("viewer_has_voted")&&(a.setValue(!1,"viewer_has_voted"),c.setValue(parseInt(c.getValue("count"),10)-1,"count"))})},e=function(a){__p&&__p();if(h(b.question.response_method))d(a);else{a=a.get(b.option.id);if(!a)return;var c=a&&j.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a.setValue(!0,"viewer_has_voted");c.setValue(b.option.profile_voters.count+1,"count")}},f=function(){b.callbacks&&b.callbacks.onSuccess()},g=function(a){b.callbacks&&b.callbacks.onFailure(a)};return i(a,{mutation:k,optimisticUpdater:e,variables:c,onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PollRemoveVoteMutation",["RelayModern","RelayRuntime","PollRemoveVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PollRemoveVoteMutation.graphql");function a(a,b){__p&&__p();var c={input:{actor_id:b.viewer.actor.id,question_id:b.question.id,option_id:b.option.id},first:b.numOptionsToShow},d=function(a){a=a.get(b.option.id);if(!a)return;var c=a&&i.getConnection(a,"PollAttachmentComponent_options_profile_voters");if(!c)return;a&&a.setValue(!1,"viewer_has_voted");c&&c.setValue(b.option.profile_voters.count-1,"count")},e=function(){b.callbacks&&b.callbacks.onSuccess()},f=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:j,optimisticUpdater:d,variables:c,onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("ReportGroupsPollOptionMutation",["RelayModern","ReportGroupsPollOptionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ReportGroupsPollOptionMutation.graphql");function a(a,b){var c={input:{actor_id:b.viewer.actor.id,poll_option_id:b.optionID}},d=function(){b.callbacks&&b.callbacks.onSuccess()},e=function(a){b.callbacks&&b.callbacks.onFailure(a)};return h(a,{mutation:i,variables:c,onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("SpotlightPollOptionImageViewer",["cx","ArbiterMixin","Facepile.react","React","SpotlightViewer","SpotlightViewerClose","SpotlightViewerCoreMixin","SpotlightViewerDimensionMixin","SpotlightViewerThumbnailMixin","SpotlightViewport","TextWithEntities.react","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=20,i=28,j=10;a=b("React").createClass({displayName:"SpotlightPollOptionImageViewer",mixins:[b("ArbiterMixin"),b("SpotlightViewerCoreMixin"),b("SpotlightViewerThumbnailMixin"),b("SpotlightViewerDimensionMixin")],getViewerID:function(){return this.props.setid},getInitialState:function(){return{photoData:this._getThumbnailPhotoData(),open:!0}},render:function(){var a=this.getMedia(),c=this.getStageDimensions(),d=this.props.useloadingindicator&&!this.state.photoData;return b("React").jsx(b("SpotlightViewer"),{onHide:this.close,open:this.state.open,rootClassName:this.props.rootClassName,children:b("React").jsxs(b("SpotlightViewport"),{className:"_wma",media:a,onClick:this._onClickViewport,showLoadingIndicator:d,snapToPhoto:this.props.snapToPhoto,stageDimensions:c,useWidth:!0,children:[b("React").jsx(b("SpotlightViewerClose"),{onClick:this.close}),this._renderOptionData()]})})},_renderOptionData:function(){return b("React").jsxs("div",{className:"_50-m _wmb",children:[this._renderOptionText(),this._renderFacepile(),this._renderMore()]})},_renderOptionText:function(){var a=this.props.optionText.split(/\r?\n/)[0].slice(0,h);a.length<this.props.optionText.length&&(a+="...");return b("React").jsx(b("TextWithEntities.react"),{className:"_wmc",renderEmoticons:!1,renderEmoji:!0,text:a})},_renderFacepile:function(){return b("React").jsx("div",{className:"_wmd",children:b("React").jsx(b("Facepile.react"),{onFaceClick:this._onFaceClick,numFaces:j,profiles:this.props.profiles,showHovercard:!1,size:i})})},_renderMore:function(){var a=this.props.voterCount-j;if(a<=0)return null;a="+"+a+" voters";return b("React").jsx("div",{className:"_wme",children:b("React").jsx(b("XUIText.react"),{children:a})})},_onFaceClick:function(){this.close()}});e.exports=a}),null);
__d("GroupsPollOptionActions",[],(function(a,b,c,d,e,f){"use strict";a={REMOVE:"remove",REPORT_TO_GROUP_ADMINS:"reportToGroupAdmins",REPORT_TO_FACEBOOK:"reportToFacebook"};e.exports=a}),null);
__d("GroupsPollOptionStrings",["fbt","invariant","GroupsPollOptionActions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={getLabel:function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return g._("Remove Option");case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return g._("Report to Group Admins");case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return g._("Report to Facebook");default:return h(!1,"All menu options must have a UI string")}},getConfirmRemoveDialogTitle:function(){return g._("Delete Option")},getConfirmRemoveDialogBody:function(){return g._("Are you sure you want to delete this option from the poll?")},getConfirmRemoveDialogButtonText:function(){return g._("Delete")},getConfirmReportDialogTitle:function(){return g._("Report to Group Admins")},getConfirmReportDialogBody:function(){return g._("Are you sure you want to report this poll option to the group admins?")},getConfirmReportDialogButtonText:function(){return g._("Report")},getReportSuccessfulDialogBody:function(){return g._("Your report has been submitted to the group admins.")}};e.exports=a}),null);
__d("GroupsPollAttachmentDeleteOption.react",["ix","cx","fbt","FDSButton.react","GroupsPollOptionStrings","Image.react","React","SimpleXUIDialog","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),d.$2,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})},d.$2=function(a){var b=d.props.optionID||"";a&&d.props.onDelete(b)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_1mh_",children:b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("363585")}),label:i._("Delete poll option"),labelIsHidden:!0,use:"flatWhite",onClick:this.$1})})};return c}(b("React").Component);e.exports=a}),null);
__d("GroupsPollOptionActionMenu.react",["cx","AsyncRequest","ContextualDialogArrow","FRXURI","GroupsPollOptionActions","GroupsPollOptionStrings","PopoverMenu.react","React","ReactXUIMenu","SimpleXUIDialog","XUIDotsButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReactXUIMenu").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={popoverMenuIsShown:!1},d.$4=function(){d.setState(function(a){return{popoverMenuIsShown:!a.popoverMenuIsShown}})},d.$6=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmRemoveDialogBody(),b("GroupsPollOptionStrings").getConfirmRemoveDialogTitle(),d.$9,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmRemoveDialogButtonText()})},d.$9=function(a){a&&d.props.onDelete(d.props.optionID)},d.$8=function(){var a=b("FRXURI").withEntReportable({reportable_ent_token:d.props.optionID,story_location:"group",entry_point:"groups_poll"});a=new(b("AsyncRequest"))().setURI(a);a.send()},d.$7=function(){b("SimpleXUIDialog").showConfirm(b("GroupsPollOptionStrings").getConfirmReportDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle(),d.$10,{confirmBtnTxt:b("GroupsPollOptionStrings").getConfirmReportDialogButtonText()})},d.$10=function(a){a&&d.props.onReportToAdmin(d.props.optionID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:this.$1(),children:a.jsx(b("PopoverMenu.react"),{alignh:"right",layerBehaviors:[b("ContextualDialogArrow")],menu:a.jsx(b("ReactXUIMenu"),{children:this.$2(this.$3())}),onShow:this.$4,onHide:this.$4,children:a.jsx(b("XUIDotsButton.react"),{})})})};d.$2=function(a){var c=this;return a.map(function(a){return b("React").jsx(h,{className:"_6sye",icon:c.$5(a[0]),value:a[0],onClick:a[1],children:b("GroupsPollOptionStrings").getLabel(a[0])},a[0])})};d.$5=function(a){switch(a){case b("GroupsPollOptionActions").REMOVE:return b("React").jsx("div",{className:"_6syc _6syd"});case b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS:return b("React").jsx("div",{className:"_6syc _6sub"});case b("GroupsPollOptionActions").REPORT_TO_FACEBOOK:return b("React").jsx("div",{className:"_6syc _6suc"});default:return null}};d.$1=function(){return this.state.popoverMenuIsShown?"_6kx9":"_69c3"};d.$3=function(){var a=[];this.props.showDelete&&a.push([b("GroupsPollOptionActions").REMOVE,this.$6]);this.props.showReportToAdmin&&a.push([b("GroupsPollOptionActions").REPORT_TO_GROUP_ADMINS,this.$7]);a.push([b("GroupsPollOptionActions").REPORT_TO_FACEBOOK,this.$8]);return a};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImage.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerFailedPhotoUploadContainer.react","ReactComposerMediaUploadType","ReactComposerPhotoThumbnail.react","ReactComposerPhotoUploadState","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,j=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED,k=40;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.$1()};d.$1=function(){return this.props.upload.mediaType==b("ReactComposerMediaUploadType").VIDEO?null:this.$2()};d.$2=function(){var a=this.props.upload;if(a.state===j)return b("React").jsx(b("ReactComposerFailedPhotoUploadContainer.react"),{error:a.error,filename:a.filename,mediaConfig:this.props.mediaConfig,uploadID:a.id},a.id);else if(a.state===i)return b("React").jsx(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.props.onFileSelected,ref:this.props.setFileInput,title:h._("Choose a file to upload"),"data-testid":"add-more-photos",children:b("React").jsx(b("Link.react"),{className:"_348w",children:b("React").jsx(b("ReactComposerPhotoThumbnail.react"),{bgClassName:"_348x",bgURL:a.fileURL,height:k,width:k})})});return b("React").jsx("div",{className:"_348y",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactComposerQuestionAttachmentOptionImageContainer.react",["cx","fbt","FileInput.react","Link.react","React","ReactComposerMediaUtils","ReactComposerQuestionAttachmentOptionImage.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){if(d.props.onFileSelected){var c=d.props.onFileSelected;c(a,d.fileInput.getFileInput())}b("ReactComposerMediaUtils").clearInput(d.fileInput.getFileInput(),!0)},d.$4=function(a){d.fileInput=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{canUploadMultiplePhotos:!1,upload:null}};d.render=function(){var a=this.props.upload?this.$1():this.$2();return a};d.$2=function(){return b("React").jsx("div",{className:"_61kz",children:b("React").jsx(b("FileInput.react"),{containerClassName:"_348v",accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:"composer_photo",onChange:this.$3,ref:this.$4,title:h._("Choose a file to upload"),"data-testid":"add-more-photos",children:this.$5()})})};d.$1=function(){var a=this.props.upload;return b("React").jsx("div",{className:"_61k_",children:b("React").jsx(b("ReactComposerQuestionAttachmentOptionImage.react"),{upload:this.props.upload,mediaConfig:this.props.mediaConfig,onFileSelected:this.$3,mediaAcceptParam:this.props.mediaAcceptParam,canUploadMultiplePhotos:this.props.canUploadMultiplePhotos,setFileInput:this.$4})},a.photoID)};d.$5=function(){return b("React").jsx(b("Link.react"),{"aria-label":h._("Photo Upload Link"),className:"_348w"})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PollAttachmentAddOption.react",["ix","cx","fbt","AbstractTextArea.react","Bootloader","Image.react","Link.react","React","ReactComposerPhotoUploadState","ReactComposerQuestionAttachmentOptionImageContainer.react","TextAreaControl","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=5,k=b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,l={addImageOptionTextInput:"_4l_h",addImageOptionTextInputRightBorder:"_4l_h _gz4",addOption:"_31qf _31qg",addImageOption:"_31qf _31qg _gz5",addOptionLabel:"_31qi",centerPlus:"_65lo",charCount:"_31qk",addOptionInput:"_4sjs",addOptionImageInput:"_gzh"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={text:"",isFocused:!1,isUploading:!1,upload:null},d.$7=function(){d.setState({text:"",isFocused:!1,isUploading:!1,upload:null}),d.$2.release()},d.$8=function(a){a=a.getPayload();a&&a.fbid?d.setState({upload:babelHelpers["extends"]({state:k,fileURL:a.thumbnail_uri},a)}):d.refs.imageContainer.fileInput&&d.refs.imageContainer.fileInput.getFileInput().clear()},d.$9=function(){d.setState({isUploading:!0})},d.$10=function(){d.setState({isUploading:!1})},d.$11=function(){d.setState({isUploading:!1})},d.$4=function(a){if(d.state.isUploading)return;b("Bootloader").loadModules(["PollImageUploader"],function(a){d.$2&&d.$2.release(),d.$2=new a(d.refs.imageContainer.fileInput.getFileInput(),d.$8,d.$9,d.$10,d.$11)},"PollAttachmentAddOption.react")},d.$6=function(a){if(d.state.isUploading)return;d.props.onAdd(d.state.text,d.state.upload);d.setState({text:"",upload:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs.textArea.getTextFieldDOM();this.$1=new(b("TextAreaControl"))(a);this.$1.setAutogrow(!0);this.$1.onupdate()};d.componentDidUpdate=function(){this.$1.onupdate()};d.componentWillUnmount=function(){this.$1=null};d.render=function(){var a=this,c,d,e,f=l.addOption,h=l.addOptionInput;this.props.hasImageOption&&(f=l.addImageOption,h=this.state.upload?l.addImageOptionTextInput:l.addImageOptionTextInputRightBorder,e=this.$3(),c=b("React").jsx("div",{className:l.addOptionImageInput,onClick:this.$4,role:"presentation",children:b("React").jsx(b("ReactComposerQuestionAttachmentOptionImageContainer.react"),{canUploadMultiplePhotos:!1,mediaAcceptParam:"image/*",mediaConfig:{photoLimit:1},ref:"imageContainer",upload:this.state.upload})}),this.state.isUploading&&(d=b("React").jsx("div",{className:"_gzi",children:b("React").jsx("div",{className:"_g-d",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})})})));return b("React").jsxs("div",{children:[b("React").jsxs("div",{className:l.charCount,children:[e,b("React").jsxs("div",{className:this.state.isFocused?"":"_14f8",children:[this.state.text.length,"/",this.props.maxOptionLength]})]}),b("React").jsxs("div",{className:f,children:[b("React").jsx("div",{className:l.addOptionLabel,children:b("React").jsx(b("Image.react"),{className:l.centerPlus,src:g("126622")})}),b("React").jsx("div",{className:h,children:b("React").jsx(b("AbstractTextArea.react"),{onChange:function(b){return a.$5(b)},onEnter:this.$6,maxLength:this.props.maxOptionLength,disabled:this.props.disabled,onFocus:function(){return a.setState({isFocused:!0})},onBlur:function(){return a.setState({isFocused:!1})},placeholder:i._("Add option"),value:this.state.text,ref:"textArea"})}),c,d]})]})};d.$3=function(){return b("React").jsx("div",{"data-testid":"clear-add-poll-option-button",className:this.state.text||this.state.upload||this.state.isUploading?"":"_14f8",children:b("React").jsx(b("Link.react"),{onClick:this.$7,children:b("React").jsx(b("Image.react"),{src:g("125920")})})})};d.$5=function(a){if(a.target.value.length>this.props.maxOptionLength||a.target.value.split(/\r|\n|\r\n/).length>j)return;this.setState({text:a.target.value})};return c}(b("React").Component);e.exports=a}),null);
__d("PollAttachmentComponent.react",["cx","fbt","ClickableArea.react","Facepile.react","GroupsPollAttachmentDeleteOption.react","GroupsPollDeleteOptionMutation","GroupsPollOptionActionMenu.react","GroupsPollOptionStrings","Image.react","LeftRight.react","PollAddOptionMutation","PollAddVoteMutation","PollAttachmentAddOption.react","PollAttachmentUtils","PollRemoveVoteMutation","ProfileBrowserLink","ProfileBrowserTypes","React","RelayModern","ReportGroupsPollOptionMutation","ShimButton.react","SimpleXUIDialog","SpotlightPollOptionImageViewer","SpotlightViewerInit","TextWithEntities.react","getURLRanges","gkx","randomShuffle","PollAttachmentComponent_viewer.graphql","PollAttachmentComponent_question.graphql","PollAttachmentComponentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=b("PollAttachmentUtils").isEigenpoll;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var m=520,n=660,o=5,p={accessible:"accessible_elem",root:"_3cof",facepileCenter:"_3cog _man",optionContainer:"_61xb",row:"_mb4",optionRow:"_mb4 _1jwy",optionLabel:"_31qh",optionSelector:"_3cok",optionBar:"_3col",optionBarImage:"_eh7",optionBarNonMember:"_6khz",optionBarImageNonMember:"_6kh-",optionImage:"_eh8",optionVotes:"_3com",optionText:"_3con",optionAuthor:"_17ug",optionTextPadded:"_3con _eh9",optionTextImage:"_eha",optionTextSpanImage:"_ehb",optionExpanderLink:"_3coo",optionExpander:"_31qf _3cop",space:"_3coq"};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLocked:!1,disableShuffle:!d.props.shouldShuffle,numOptionsToShow:5},d.$4=function(a){d.setState({isLocked:!0}),d.setState(function(a){return{numOptionsToShow:a.numOptionsToShow-1}}),b("GroupsPollDeleteOptionMutation").commit(d.props.relay.environment,{optionID:a,questionID:d.props.question.id,viewer:d.props.viewer,callbacks:{onSuccess:function(){d.setState({isLocked:!1})},onFailure:function(a){d.setState({isLocked:!1}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}}})},d.$5=function(a){b("ReportGroupsPollOptionMutation").commit(d.props.relay.environment,{optionID:a,viewer:d.props.viewer,callbacks:{onSuccess:function(){b("SimpleXUIDialog").show(b("GroupsPollOptionStrings").getReportSuccessfulDialogBody(),b("GroupsPollOptionStrings").getConfirmReportDialogTitle())},onFailure:function(a){b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary)}}})},d.$3=function(a,c){if(a.replace(/\s+/g,"")===""){var e=h._("Add some text to your poll option so people know what it's about."),f=h._("Poll Option Needs Text");b("SimpleXUIDialog").show(e,f)}else d.setState({isLocked:!0,numOptionsToShow:d.props.question.options.count+1}),b("PollAddOptionMutation").commit(d.props.relay.environment,{question:d.props.question,optionText:a,viewer:d.props.viewer,numOptionsToShow:d.props.question.options.count+1,imageUpload:c,callbacks:{onSuccess:function(){d.setState({isLocked:!1})},onFailure:function(a){d.setState({isLocked:!1,numOptionsToShow:d.props.question.options.count}),b("SimpleXUIDialog").show(a&&a.source&&a.source.description,a&&a.source&&a.source.summary||a.name)}}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props.question;if(!c)return b("React").jsx("div",{});var d=this.state.isLocked,e=b("gkx")("983908")?!0:c.can_viewer_post,f=this.state.numOptionsToShow,g=c.options.edges.reduce(function(a,b){return Math.max(a,b.node.profile_voters.count)},1),i=[].concat(c.options.edges);this.props.shouldShuffle&&!this.state.disableShuffle&&(i=b("randomShuffle")(i));var j=i.some(function(a){return!!a.node.associated_image});i=i.slice(0,f).map(function(i){__p&&__p();var k=i.node.profile_voters.edges;k=k.filter(function(b){return b.node.id!==a.props.viewer.actor.id});k=k.slice(0,10).map(function(a){return a.node});i.node.viewer_has_voted&&k.unshift(a.props.viewer.actor);var q=k.map(function(a){return{URL:a.url,name:a.name,uniqueID:parseInt(a.id,10),profilePicURI:a.profile_picture.uri}});k=b("ProfileBrowserLink").constructPageURI(b("ProfileBrowserTypes").OPTION_VOTERS,{option_id:i.node.id}).toString();var r=b("ProfileBrowserLink").constructDialogURI(b("ProfileBrowserTypes").OPTION_VOTERS,{option_id:i.node.id}).toString(),s=function(g){if(!(e&&!d))return;a.setState({isLocked:!0});g=i.node.viewer_has_voted?b("PollRemoveVoteMutation"):b("PollAddVoteMutation");g.commit(a.props.relay.environment,{question:c,option:i.node,viewer:a.props.viewer,numOptionsToShow:f,callbacks:{onSuccess:function(){a.setState({isLocked:!1})},onFailure:function(c){a.setState({isLocked:!1}),b("SimpleXUIDialog").show(c&&c.source&&c.source.description,c&&c.source&&c.source.summary)}}})},t=function(a){b("SpotlightViewerInit").render(b("React").jsx(b("SpotlightPollOptionImageViewer"),{setid:"poll-option-message",optionText:i.node.text_with_entities.text,photoid:i.node.associated_image.id,thumbsrc:i.node.associated_image.image.uri,profiles:q,voterCount:i.node.profile_voters.count,clearcache:!0,dimensions:[[i.node.associated_image.image.width,i.node.associated_image.image.height].join(",")],minHeight:m,minWidth:n}))},u=e?p.optionBar:p.optionBarNonMember,v=p.optionText,w=p.optionAuthor,x=null,y,z;j&&(v=p.optionTextPadded,i.node.associated_image&&(u=e?p.optionBarImage:p.optionBarImageNonMember,v=p.optionTextImage,x=p.optionTextSpanImage,y=b("React").jsx("div",{className:"_ehe",children:b("React").jsx("div",{className:"_eh8",children:b("React").jsx(b("ShimButton.react"),{onClick:t,children:b("React").jsx(b("Image.react"),{"aria-label":"View image",height:40,width:40,src:i.node.associated_image.image.uri})})})})));q.length&&(z=b("React").jsx("div",{className:p.accessible,children:h._("Voters for this option")}));t=c.options.count>1&&i.node.can_viewer_delete_groups_poll_option;t=a.$1(t,i.node.can_viewer_report,i.node.can_viewer_report_to_group_admin,i.node.id);var A=null;t!==null&&a.props.isShared?A=o-2:t!==null||a.props.isShared?A=o-1:A=o;var B=i.node.groups_poll_option_author_description;return b("React").jsx("div",{className:p.optionContainer,children:b("React").jsxs("div",{className:e?p.optionRow:p.row,children:[b("React").jsxs("div",{className:"_mb5",children:[e?b("React").jsx("div",{className:p.optionLabel,children:b("React").jsx("input",{"aria-label":i.node.text_with_entities.text,type:l(c.response_method)?"checkbox":"radio",disabled:!(e&&!d),className:p.optionSelector,checked:i.node.viewer_has_voted,onChange:s})}):null,b("React").jsxs("div",{className:u,children:[b("React").jsx("div",{className:p.optionVotes,style:{width:100*i.node.profile_voters.count/g+"%"}}),b("React").jsx(b("ClickableArea.react"),{onClick:s,children:b("React").jsxs("div",{className:v,children:[b("React").jsx(b("TextWithEntities.react"),{className:x,ranges:b("getURLRanges")(i.node.text_with_entities.text),renderEmoticons:!1,renderEmoji:!0,text:i.node.text_with_entities.text}),B!=null&&B.text.length>0?b("React").jsx("div",{className:w,children:b("React").jsx(b("TextWithEntities.react"),{className:x,ranges:B.ranges,text:B.text})}):null]})}),y]})]}),z,b("React").jsx("div",{className:"_mb6",children:b("React").jsx("div",{className:p.facepileCenter,children:b("React").jsxs(b("LeftRight.react"),{direction:"right",children:[b("React").jsx(b("Facepile.react"),{moreColor:"gray",moreCount:i.node.profile_voters.count-Math.min(A,q.length),moreDialogLink:r,morePageLink:k,numFaces:A,profiles:q,showHovercard:!0,size:28}),t]})})})]})},i.node.id)});var k=null,q=null;if(c.options.count>f){var r,s=c.options.count-f,t=h._({"*":"{options} More Options..."},[h._param("options",s,[0])]),u=h._("1 More Option...");k=(r=b("React")).jsxs("div",{className:p.optionContainer,children:[r.jsx("div",{className:p.space}),r.jsx(b("ShimButton.react"),{className:p.optionExpanderLink,form:"link",onClick:function(){return a.$2()},children:r.jsx("div",{className:p.optionExpander,children:s>1?t:u})})]})}else c.can_viewer_add_poll_options&&(q=b("React").jsx("div",{className:p.optionContainer,children:b("React").jsx(b("PollAttachmentAddOption.react"),{onAdd:this.$3,maxOptionLength:this.props.maxOptionLength,disabled:this.state.isLocked,hasImageOption:j})}));return b("React").jsxs("div",{className:p.root,children:[i,k,q]})};d.$1=function(a,c,d,e){return c?b("React").jsx("div",{className:"_6nh8",children:b("React").jsx(b("GroupsPollOptionActionMenu.react"),{onDelete:this.$4,onReportToAdmin:this.$5,optionID:e,showDelete:a,showReportToAdmin:d})}):a?b("React").jsx(b("GroupsPollAttachmentDeleteOption.react"),{onDelete:this.$4,optionID:e}):null};d.$2=function(){this.setState({disableShuffle:!0,numOptionsToShow:this.props.question.options.count}),this.props.relay.refetch({actorID:this.props.actorID,first:this.props.question.options.count,questionID:this.props.question.id})};return c}(b("React").Component);e.exports=a(c,{viewer:i!==void 0?i:i=b("PollAttachmentComponent_viewer.graphql"),question:j!==void 0?j:j=b("PollAttachmentComponent_question.graphql")},k!==void 0?k:k=b("PollAttachmentComponentRefetchQuery.graphql"))}),null);
__d("PollAttachmentLoadShimmer.react",["cx","FlexLayout.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=[];for(var d=0;d<a;d++)c.push(b("React").jsx("div",{className:"_1tt _7ut-"},d));return c}function i(){var a;return(a=b("React")).jsxs("div",{className:"_mb4",children:[a.jsxs(b("FlexLayout.react"),{children:[a.jsx("div",{className:"_1tt _7ut_"}),a.jsx("div",{className:"_1tt _7utn"})]}),a.jsx("div",{className:"_mb6",children:a.jsx(b("FlexLayout.react"),{className:"_7uu0",children:h(5)})})]})}function a(){return b("React").jsxs("div",{className:"_61xb",children:[b("React").jsx(i,{}),b("React").jsx(i,{})]})}e.exports=a}),null);
__d("PollAttachment.react",["PollAttachmentComponent.react","PollAttachmentLoadShimmer.react","React","RelayFBEnvironment","RelayModern","gkx","PollAttachmentQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.shouldShuffle?200:5;return b("React").jsx(h,{environment:b("RelayFBEnvironment"),variables:{actorID:this.props.actorID,first:c,questionID:this.props.questionID},query:g!==void 0?g:g=b("PollAttachmentQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(d)return b("React").jsx("div",{children:d.message});else if(c)return b("React").jsx(b("PollAttachmentComponent.react"),babelHelpers["extends"]({},a.props,c));return b("gkx")("888366")?b("React").jsx(b("PollAttachmentLoadShimmer.react"),{}):b("React").jsx("div",{children:"Loading"})}})};return c}(b("React").Component);e.exports=a}),null);