if (self.CavalryLogger) { CavalryLogger.start_js(["n0fh6"]); }

__d("OnLiveRHCItemClick",["CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a,c){new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction("live_video_carousel_thumbnail_clicked").setSessionKey((a=c)!=null?a:b("CurrentUser").getID()).log()}}),null);
__d("LiveRHCUtils",[],(function(a,b,c,d,e,f){"use strict";a="live_rhc_collapse";e.exports=a}),null);
__d("LiveRHCAutoplayController",["Arbiter","LiveRHCUtils","Run","SubscriptionsHandler","VideoAutoplayControllerX","VideoAutoplayPlayerBase","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=42,h=.5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$LiveRHCAutoplayController1=new Set();g.$LiveRHCAutoplayController3=d;g.$LiveRHCAutoplayController10=e;g.$LiveRHCAutoplayController8=f;g.$LiveRHCAutoplayController8||g.$LiveRHCAutoplayController1.add("server_blocked");g.$LiveRHCAutoplayController7=new(b("SubscriptionsHandler"))();g.$LiveRHCAutoplayController2=g.isAutoplayable();g.$LiveRHCAutoplayController10.registerOption("LivePlayer","isAutoplaying",function(){return g.$LiveRHCAutoplayController2},function(a){g.$LiveRHCAutoplayController2=a});g.$LiveRHCAutoplayController10.registerOption("LivePlayer","isVisibleForAutoplay",function(){return g.isVisible()});g.$LiveRHCAutoplayController11();b("Run").onLeave(function(){g.$LiveRHCAutoplayController7.release(),g.$LiveRHCAutoplayController4.unsubscribe(),g.$LiveRHCAutoplayController5.unsubscribe(),g.$LiveRHCAutoplayController6.unsubscribe()});g.$LiveRHCAutoplayController10.setLogEntryPropertyGetters({autoplay_eligible:function(){return g.isAutoplayable()},autoplay_failure_reasons:function(){return JSON.stringify(Array.from(g.$LiveRHCAutoplayController1))}});window.addEventListener("blur",function(){g.$LiveRHCAutoplayController12("lost_focus")});window.addEventListener("focus",function(){g.$LiveRHCAutoplayController13("lost_focus")});g.$LiveRHCAutoplayController9=b("VideoAutoplayControllerX").registerVideoUnit(babelHelpers.assertThisInitialized(g));g.$LiveRHCAutoplayController4=b("Arbiter").subscribe(c.ARBITER_COLLAPSED_EVENT_NAME,function(a,b){b.collapsed?(g.$LiveRHCAutoplayController12("collapsed"),g.pause("video_visibility_initiated")):(g.$LiveRHCAutoplayController13("collapsed"),g.isAutoplayable()&&g.playWithoutUnmute("video_visibility_initiated"))});g.$LiveRHCAutoplayController5=b("Arbiter").subscribe(b("LiveRHCUtils"),function(){g.$LiveRHCAutoplayController12("collapsed"),g.pause("video_visibility_initiated")});g.$LiveRHCAutoplayController6=b("Arbiter").subscribe("TahoeController/exitTahoe",function(){g.$LiveRHCAutoplayController13("manually_paused")});return g}var d=c.prototype;d.$LiveRHCAutoplayController14=function(){return this.$LiveRHCAutoplayController10.isState("destroyed")};d.getDistanceToViewport=function(){if(this.$LiveRHCAutoplayController14())return-Infinity;if(this.$LiveRHCAutoplayController10.isFullscreen())return 0;var a=b("getViewportDimensions")().height,c=this.getDOMPosition();if(c.height===0)return-Infinity;c=c.y+(1-h)*c.height;return c-a/2};d.isVisible=function(){if(this.$LiveRHCAutoplayController14())return!1;var a=b("getViewportDimensions")().height,c=b("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-g+(1-h)*d.height,f=d.y+h*d.height,i=d.x+(1-h)*d.width;d=d.x+h*d.width;return e<0||f>=a||i<0||d>=c?!1:!0};d.getDOMPosition=function(){return this.$LiveRHCAutoplayController10.getDOMPosition()};d.getVideoPlayerController=function(){return this.$LiveRHCAutoplayController10};d.logDisplayed=function(){this.$LiveRHCAutoplayController10.logEvent("displayed")};d.playWithoutUnmute=function(a){this.$LiveRHCAutoplayController10.play(a)};d.pause=function(a){this.$LiveRHCAutoplayController10.pause(a)};d.preload=function(){this.$LiveRHCAutoplayController10.preload&&this.$LiveRHCAutoplayController10.preload()};d.isLooping=function(){return!1};d.isState=function(a){return this.$LiveRHCAutoplayController10.isState(a)};d.pauseIfInvisible=function(){this.isVisible()||this.pause("video_visibility_initiated")};d.isAutoplayable=function(){return this.$LiveRHCAutoplayController8&&!this.$LiveRHCAutoplayController1.size&&this.isVisible()};d.unregister=function(){this.$LiveRHCAutoplayController9&&this.$LiveRHCAutoplayController9()};d.isMuted=function(){return this.$LiveRHCAutoplayController10.isMuted()};d.isPlaying=function(){return this.$LiveRHCAutoplayController10.isState("playing")};d.shouldPauseWhenScrolledOffscreen=function(){return!0};d.setDimensions=function(a,b){this.$LiveRHCAutoplayController10.setDimensions(a,b)};d.$LiveRHCAutoplayController11=function(){__p&&__p();var a=this,b=[["beginPlayback",function(){return a.$LiveRHCAutoplayController15()}],["TahoeController/exitTahoe",function(){return a.$LiveRHCAutoplayController15()}],["finishPlayback",function(){return a.$LiveRHCAutoplayController16()}],["turnOffAutoplay",function(b){var c=null;b&&(c=b.reason);a.$LiveRHCAutoplayController17(c)}],["resumeAutoplay",function(b){var c=null;b&&(c=b.reason);a.$LiveRHCAutoplayController15(c)}]];this.$LiveRHCAutoplayController7.addSubscriptions.apply(this.$LiveRHCAutoplayController7,b.map(function(b){var c=b[0];b=b[1];return a.$LiveRHCAutoplayController10.addListener(c,b)}))};d.$LiveRHCAutoplayController13=function(a){this.$LiveRHCAutoplayController1["delete"](a),this.$LiveRHCAutoplayController2=this.isAutoplayable()};d.$LiveRHCAutoplayController12=function(a){this.$LiveRHCAutoplayController1.add(a),this.$LiveRHCAutoplayController2=!1};d.$LiveRHCAutoplayController16=function(){this.$LiveRHCAutoplayController12("has_seen_finished")};d.$LiveRHCAutoplayController17=function(a){if(a==="unmuted")return;this.$LiveRHCAutoplayController12((a=a)!=null?a:"manually_paused")};d.$LiveRHCAutoplayController15=function(a){this.$LiveRHCAutoplayController13((a=a)!=null?a:"manually_paused")};d.isRegistered=function(){return this.$LiveRHCAutoplayController9==null};return c}(b("VideoAutoplayPlayerBase"));a.ARBITER_COLLAPSED_EVENT_NAME="LiveRHC/collapsed";e.exports=a}),null);
__d("XLiveVideoRHCUpdatePreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/rhc/update_preferences/",{collapsed:{type:"Bool",defaultValue:!1},video_id:{type:"FBID"}})}),null);
__d("LiveRHCCollapseController",["Arbiter","AsyncRequest","CSS","LiveRHCAutoplayController","LiveRHCUtils","XLiveVideoRHCUpdatePreferencesController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.collapsed=a.collapsed;this.collapsed_menu=a.collapsed_menu;this.collapsed_options_menu_container=a.collapsed_options_menu_container;this.expanded_menu=a.expanded_menu;this.expanded_options_menu_container=a.expanded_options_menu_container;this.wns_active=!1;this.wns_collapse=!1;this.wrapper=a.wrapper;b("Arbiter").subscribe(b("LiveRHCUtils"),function(){c.collapsed||(c.$1(!0,!1),c.wns_collapse=!0),c.wns_active=!0});b("Arbiter").subscribe("fbVideoWatchAndScroll/closeWNS",function(){c.wns_collapse&&(c.$1(!1,!1),c.wns_collapse=!1),c.wns_active=!1});var d=this;[this.collapsed_menu,this.expanded_menu].forEach(function(a){return a.subscribe("itemclick",function(a,c){switch(c.item.getValue()){case"collapse":d.$1(!0,!0);break;case"expand":(d.wns_active||d.wns_collapse)&&(b("Arbiter").inform("fbVideoWatchAndScroll/closeWNS"),d.wns_active=!1,d.wns_collapse=!1);d.$1(!1,!0);break}})})}var c=a.prototype;c.$1=function(a,c){a?(b("CSS").hide(this.expanded_options_menu_container),b("CSS").hide(this.wrapper),b("CSS").show(this.collapsed_options_menu_container)):(b("CSS").hide(this.collapsed_options_menu_container),b("CSS").show(this.wrapper),b("CSS").show(this.expanded_options_menu_container));this.collapsed=a;b("Arbiter").inform(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,{collapsed:this.collapsed});if(c){a=b("XLiveVideoRHCUpdatePreferencesController").getURIBuilder().setBool("collapsed",this.collapsed).getURI();new(b("AsyncRequest"))(a).send()}};return a}();e.exports=a}),null);
__d("LiveRHCContent",["Arbiter","LiveRHCAutoplayController"],(function(a,b,c,d,e,f){"use strict";a=function(a){this.$1=b("Arbiter").subscribe(b("LiveRHCAutoplayController").ARBITER_COLLAPSED_EVENT_NAME,function(b,c){a.carousel.forceLayoutUpdate()})};e.exports=a}),null);
__d("OnLiveRHCShowMoreClick",["CSS","CurrentUser","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={attachClickListener:function(a){a.see_more_button.addEventListener("click",function(c){b("CSS").hide(a.see_more_button);b("CSS").show(a.container);b("CSS").show(a.see_less_button);new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction("live_video_see_more_button_clicked").setSessionKey((c=a.session_id)!=null?c:b("CurrentUser").getID()).log()}),a.see_less_button.addEventListener("click",function(c){b("CSS").hide(a.container);b("CSS").hide(a.see_less_button);b("CSS").show(a.see_more_button);new(b("WebFunnelLogger"))("LiveBroadcastRHCFunnelDefinition").setAction("live_video_see_less_button_clicked").setSessionKey((c=a.session_id)!=null?c:b("CurrentUser").getID()).log()})}};e.exports=a}),null);