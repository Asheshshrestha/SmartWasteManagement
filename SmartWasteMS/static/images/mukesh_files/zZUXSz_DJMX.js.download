if (self.CavalryLogger) { CavalryLogger.start_js(["RKkNf"]); }

__d("PinnedConversationNubsActionTaken",[],(function(a,b,c,d,e,f){e.exports={TAB_CLOSED_BY_USER:0}}),null);
__d("NubController",["csx","ArbiterMixin","Dock"],(function(a,b,c,d,e,f,g){__p&&__p();function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a){this.el=a;this.nubButton=a.querySelector(".fbNubButton");this.closeButton=a.querySelector("._2dv8");b("Dock").registerNubController(a,this);this.closeButton&&this.closeButton.addEventListener("click",this.hide.bind(this));return this},buttonContentChanged:function(){this.inform("nub/button/content-changed")},flyoutContentChanged:function(){this.inform("nub/flyout/content-changed")},hide:function(){b("Dock").hide(this.el)},show:function(){b("Dock").show(this.el)}});e.exports=a}),null);
__d("BuddyListNub",["csx","cx","fbt","Arbiter","AsyncRequest","AvailableList","BootloadedComponent.react","ChannelConnection","ChatOptions","ChatSidebarActions","ChatSidebarStore","ChatSidebarVisibility","ChatVisibility","CSS","Dock","DOM","Event","JSLogger","JSResource","KeyboardShortcuts","Keys","NubController","OrderedFriendsList","Parent","PresencePrivacy","PresenceStatus","PresenceUtil","React","ReactDOM","Run","Style","Toggler","emptyFunction","intlNumUtils","qex","translateKey"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=40,k=253,l="277px",m=b("JSLogger").create("buddylist_nub"),n=b("qex")._("1211264");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){__p&&__p();var g;g=a.call(this)||this;a.prototype.init.call(babelHelpers.assertThisInitialized(g),c);g.root=c;g.orderedList=d;g.button=b("DOM").find(c,"a.fbNubButton");g.unreadCount=b("DOM").find(c,"span._5ayx");g.label=b("DOM").find(c,"span.label");g.buddyListTitle=b("DOM").find(c,".titlebarTextWrapper");g.body=b("DOM").scry(c,"div.fbNubFlyoutBody")[0];g.container=b("Parent").bySelector(c,"._56ox");var h=b("DOM").find(c,"div.fbNubFlyoutTitlebar");b("Toggler").createInstance(h).setSticky(!1);b("Toggler").createInstance(c).setSticky(!0);var j=b("DOM").scry(c,"._7oue");f&&b("Run").onAfterLoad(function(){g.dropdown=b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:"buddylist"}),f)});d.subscribeOnce("render",g.flyoutContentChanged.bind(babelHelpers.assertThisInitialized(g)));b("Run").onAfterLoad(function(){__p&&__p();var a=b("DOM").find(h,"div._4k48");a&&b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(g.button,"div._1us9");a&&b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarComposeLink.react").__setRef("BuddyListNub"),className:"_3a-4"}),a);a=b("DOM").find(g.button,"div._1usa");a&&b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarDropdown.react").__setRef("BuddyListNub"),onToggleSidebar:function(){},sidebarType:"buddylist_nub"}),a);if(!n){a=b("DOM").find(h,"div._3gl7");a&&b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub")}),a);a=b("DOM").find(g.button,"div._3gll");a&&b("ReactDOM").render(b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("ChatSidebarGroupCreateButtonReactComponent").__setRef("BuddyListNub"),className:"newGCF"}),a)}});d.setScrollContainer(g.body);b("AvailableList").subscribe("buddylist/availability-changed",g._updateCount.bind(babelHelpers.assertThisInitialized(g)));b("Arbiter").subscribe("chat/connect",function(){return g._handleConnect(!0)});b("Arbiter").subscribe("chat/option-changed",function(a,b){b.name=="hide_groups"?this.onResize():b.name==="hide_buddylist"&&(b.value?this.hide():this.show())}.bind(babelHelpers.assertThisInitialized(g)));b("ChannelConnection").subscribe(b("ChannelConnection").CONNECTED,function(){return g._updateView()});b("ChannelConnection").subscribe(b("ChannelConnection").SHUTDOWN,function(){return g._updateView()});b("ChannelConnection").subscribe(b("ChannelConnection").RECONNECTING,function(){return g._updateView()});b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],function(){return g._updateView()});g.subscribe("show",g.onShow.bind(babelHelpers.assertThisInitialized(g)));g.subscribe("hide",g.onHide.bind(babelHelpers.assertThisInitialized(g)));g.subscribe("resize",g.onResize.bind(babelHelpers.assertThisInitialized(g)));b("Event").listen(c,"keydown",g._onKeyDown.bind(babelHelpers.assertThisInitialized(g)));b("Event").listen(g.button,"click",g.onButtonClick.bind(babelHelpers.assertThisInitialized(g)));b("KeyboardShortcuts").register("q",function(a){g._isOpen||(g.onButtonClick(),g.show()),a.prevent()},{persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("q")],description:i._("Search Messenger contacts")}});b("Arbiter").subscribe("minisidebar/show",g.hide.bind(babelHelpers.assertThisInitialized(g)));b("Arbiter").subscribe("sidebar/visibility",function(a,b){b?g.hide():g._onSidebarHide()});b("Style").set(g.body,"min-height",l);b("Arbiter").subscribe("sidebar/typeahead/active",function(a,c){c?(g._typeaheadActive=!0,b("CSS").hide(g.body.parentNode),g.orderedList.hide(),g.onResize()):(g._typeaheadActive=!1,g.onResize(),b("CSS").show(g.body.parentNode),g.orderedList.show())});b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&b("ChatSidebarStore").getVisibleType()==="buddylist"&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.length>0&&g.show(),b("Event").listen(h,"click",function(a){b("CSS").matchesSelector(a.target,".titlebarTextWrapper")&&g._syncHideBuddylist(!0)}),j.forEach(function(a){var c=this;b("Event").listen(a,"click",function(a){c._syncHideBuddylist(!0)})},babelHelpers.assertThisInitialized(g)),g._updateView(),m.log("buddylist_initialized")});return g}var d=c.prototype;d._handleVisibilityChange=function(){this._updateView(),b("ChatVisibility").isOnline()||this.hide()};d._updateView=function(a){__p&&__p();var c;if(!b("ChatVisibility").isOnline())a=i._("Chat");else if(b("ChannelConnection").disconnected())a=i._("{Chat} (Disconnected)",[i._param("Chat",i._("Chat"))]);else{var d=b("PresenceStatus").getOnlineCount();if(d){var e=b("DOM").create("span",{className:"count"},"("+b("intlNumUtils").formatNumberWithThousandDelimiters(d)+")");a=i._({"*":"{Chat} {number-available}"},[i._param("Chat",i._("Chat")),i._param("number-available",e,[0,d])])}else a=i._("Chat"),c=!0}this._setPresenceIcon();this._setUnread();this._setLabel(a,c);this._updateBuddyListTitle();this.buttonContentChanged()};d._updateBuddyListTitle=function(){__p&&__p();var a,c=i._("Chat"),d="_6d4h";if(!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())a=b("DOM").create("div",{"class":d},c);else{var e=b("PresenceStatus").getOnlineCount(),f;e&&(d="_6d4h _6d4i",f=b("DOM").create("div",{"class":"_6d4j"},i._("{subTitle} online",[i._param("subTitle",b("intlNumUtils").formatNumberWithThousandDelimiters(e))])));e=b("DOM").create("div",{"class":d},c);f&&b("DOM").appendContent(e,f);a=e}d=this.buddyListTitle.textContent||this.buddyListTitle.innerText;if(a&&d!==a){c=this.buddyListTitle.cloneNode(!0);b("DOM").setContent(c,a);b("DOM").replace(this.buddyListTitle,c);this.buddyListTitle=c}};d._setPresenceIcon=function(){b("CSS").conditionClass(this.root,"offline",!b("ChatVisibility").isOnline()||b("ChannelConnection").disconnected())};d.onButtonClick=function(){if(!b("ChatSidebarStore").isInitialized())return!0;b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){c=b("ChatSidebarStore").isEnabled();!c&&a?b("ChatSidebarActions").enable("sidebar"):b("ChatSidebarActions").show(c&&a?"sidebar":"buddylist")})};d.onHide=function(){this._isOpen=!1,this._buddyListRenderSubscription&&(this.orderedList.unsubscribe(this._buddyListRenderSubscription),this._buddyListRenderSubscription=null),this._hideBuddyList(),b("Arbiter").inform("buddylist/hide")};d._onKeyDown=function(a){a=b("Event").getKeyCode(a);if(a===b("Keys").ESC&&!b("CSS").hasClass(this.root,"menuOpened")){this.hide();return!1}else a==b("Keys").RETURN&&b("ChatSidebarVisibility").shouldShowSidebarIgnoreEnabled(null,function(a,c){b("ChatSidebarActions").enable(a?"sidebar":"buddylist")})};d._onSidebarHide=function(a){var c=this;b("OrderedFriendsList").getList(function(a){b("ChatSidebarStore").isEnabled()&&!b("ChatOptions").getSetting("hide_buddylist")&&!b("ChannelConnection").disconnected()&&!b("PresencePrivacy").isUserOffline()&&a.lenth>0?c.show():c.hide()})};d.onResize=function(){var a=this._typeaheadActive?b("Dock").getMaxFlyoutHeight(this.root)-60:k;b("Arbiter").inform("buddyList/resized",a,"persistent");this._typeaheadActive?b("Style").set(this.body,"max-height","none"):b("Style").set(this.body,"max-height",l);a=Math.max(250,a);a=Math.floor(a/j);this.orderedList.setNumTopFriends(a,!1,"buddylist")};d._showBuddyList=function(){var a=this;this._buddyListRenderSubscription=this.orderedList.subscribe("render",function(){b("Style").get(a.body,"height")!=l&&b("Style").set(a.body,"height",l)});this.orderedList.show();m.bump("buddylist_show")};d._hideBuddyList=function(){this.orderedList.hide(),m.bump("buddylist_hide")};d.onShow=function(){this._isOpen=!0,b("ChannelConnection").disconnected()?(b("ChannelConnection").reconnect(),this._showBuddyList()):b("ChatVisibility").goOnline(this._showBuddyList.bind(this)),this._syncHideBuddylist(!1)};d._setLabel=function(a,c){var d=this.label.textContent||this.label.innerText;if(d!==a){d=this.label.cloneNode(!0);b("DOM").setContent(d,a);b("DOM").replace(this.label,d);this.label=d}this.throbber&&b("CSS").conditionShow(this.throbber,!!c)};d._setUnread=function(a){b("CSS").conditionShow(this.unreadCount,!!a)};d._updateCount=function(){this._updateView()};d._syncHideBuddylist=function(a){b("ChatOptions").setSetting("hide_buddylist",a,"buddylist"),new(b("AsyncRequest"))("/ajax/chat/settings.php").setHandler(b("emptyFunction")).setErrorHandler(b("emptyFunction")).setData({hide_buddylist:a,window_id:b("PresenceUtil").getSessionID()}).setAllowCrossPageTransition(!0).send()};return c}(b("NubController"));b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){c.buddylist_visible=b("ChatSidebarStore").getVisibleType()==="buddylist"});e.exports=a}),null);
__d("NotificationBeeperItemCloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Close");return b("React").jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:"_3soc",title:a,label:a,labelIsHidden:!0}))};return c}(b("React").Component);e.exports=a}),null);
__d("NotificationInterpolator",["cx","Badge.react","React","TextWithEmoticons.react","joinClasses"],(function(a,b,c,d,e,f,g){function a(a,c){var d=null;((c=c.entity)!=null?(c=c.work_foreign_entity_info)!=null?c.type:c:c)==="FOREIGN"&&(d=b("React").jsx(b("Badge.react"),{type:"work_non_coworker"}));typeof a==="string"&&(a=b("React").jsx(b("TextWithEmoticons.react"),{text:a}));return b("React").jsxs("span",{className:b("joinClasses")("fwb","_6btd"),children:[a,d]})}e.exports=a}),null);
__d("NotificationURI",["BusinessURI.brands","URI","VideoPermalinkURI","isDevelopersURI","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g;a={localize:function(a){__p&&__p();try{a=b("BusinessURI.brands")(a)}catch(b){return a.toString()}var c=a.getSubdomain();c=a.getUnqualifiedURI().getQualifiedURI().setSubdomain(c);if(b("isDevelopersURI")(a)){a=c.getDomain().split(".");a.length>=2&&(a.splice(-2,1,"facebook")[0]==="workplace"&&c.setDomain(a.join(".")))}return c.toString()},snowliftable:function(a){if(!a)return!1;a=new(g||(g=b("URI")))(a);var c=a.getQueryData();return b("isFacebookURI")(a)&&(b("VideoPermalinkURI").isValid(a)||"fbid"in c)},isVaultSetURI:function(a){return this._areEquals(a,"/ajax/vault/sharer_preview.php")},isAlbumDraftRecoveryDialogURI:function(a){return this._areEquals(a,"/ajax/photos/upload/overlay/")},isQuicksilverURI:function(a){return this._areEquals(a,"/games/quicksilver/spotlight/")},isDirectURI:function(a){return this._startsWith(a,"/direct/")},isIGAccountCreationURI:function(a){return this._areEquals(a,"/ads/growth/aymt/instagram/account-creation-dialog/")},_areEquals:function(a,c){if(!a)return!1;a=new(g||(g=b("URI")))(a);return b("isFacebookURI")(a)&&a.getPath()===c},_startsWith:function(a,c){if(!a)return!1;a=new(g||(g=b("URI")))(a);return b("isFacebookURI")(a)&&a.getPath().startsWith(c)}};e.exports=a}),null);
__d("XLiveVideoLoadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/video/load/",{video_id:{type:"FBID",required:!0}})}),null);
__d("notificationListRendererIsStoryOnlyLiveVideoNotification",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.renderer_data;return a==null?!1:a.__typename==="LiveVideoNotificationRendererData"&&!!a.bucket_data}e.exports=a}),null);
__d("notificationListRendererOpenNotification",["AsyncRequest","Bootloader","NotificationURI","PageTransitions","URI","VideoChainingCaller","XLiveVideoLoadController","notificationListRendererIsStoryOnlyLiveVideoNotification"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c){__p&&__p();var d=c.renderer_data;if(d==null)return;if(!b("notificationListRendererIsStoryOnlyLiveVideoNotification")(c)&&(a.metaKey||a.ctrlKey||a.button===1))return;if(d.__typename==="LiveVideoNotificationRendererData"){a.preventDefault();d=b("XLiveVideoLoadController").getURIBuilder().setFBID("video_id",d.video_id).getURI();d=new(b("AsyncRequest"))(d).setHandler(function(d){d.payload?h(a,c):b("PageTransitions").go(c.url)});d.send()}}function h(a,b){var c=b.renderer_data;if(c==null)return;c.bucket_data?i(a,c):c.can_render_in_tahoe&&j(a,c,b)}function i(a,c){b("Bootloader").loadModules(["FBStoriesLiveNotificationHandler"],function(a){a.renderLiveStory(c)},"notificationListRendererOpenNotification")}function j(a,c,d){b("Bootloader").loadModules(["TahoeController"],function(a){var e=b("NotificationURI").localize(new(g||(g=b("URI")))(d.url)),f=c.video_channel_caller;a.openFromVideoLink(new g(e),{channelID:c.video_channel_id,caller:f?(a=b("VideoChainingCaller"))!=null?a[f]:a:null})},"notificationListRendererOpenNotification")}e.exports=a}),null);
__d("NotificationBeeperItemContents.react",["cx","invariant","Animation","AsyncRequest","Bootloader","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","NotificationBeeperItemCloseButton.react","NotificationInterpolator","NotificationURI","NotificationUserActions","React","ReactDOM","TextWithEntities.react","Timestamp.react","URI","notificationListRendererOpenNotification"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.isLiveVideo=null,d.onClick=function(a){__p&&__p();d.$1();d.props.onHide();if(a.button===1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;var c=d.props.notification;b("notificationListRendererOpenNotification")(a,c);if(a.isDefaultPrevented()===!0)return;var e=c.primerAttributes;if(e&&(e.rel==="async"||e.rel==="async-post")){var f=new(b("AsyncRequest"))(e.ajaxify||c.url);e.rel==="async-post"&&f.setMethod("POST");f.send();a.preventDefault()}else e&&e.rel==="theater"?(a.persist(),b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(e.ajaxify||c.url,a.currentTarget)},"NotificationBeeperItemContents.react"),a.preventDefault()):e&&(e.rel==="dialog"||e.rel==="dialog-post")&&(b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(e.ajaxify||c.url,a.currentTarget,"dialog")},"NotificationBeeperItemContents.react"),a.preventDefault())},d.onClose=function(){d.$1(),d.props.onHide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){b("NotificationUserActions").markNotificationsAsRead([this.props.notification.alert_id])};d.$2=function(){new(b("Animation"))(b("ReactDOM").findDOMNode(this.refs.inner)).from("opacity","0").to("opacity","1").duration(200).go()};d.$3=function(){var a=this.$4();a=JSON.parse(a);return a.content_id};d.$5=function(){if(this.isLiveVideo===null){var a=this.$4();this.isLiveVideo=a.indexOf("live_video")!==-1}return!!this.isLiveVideo};d.$4=function(){return this.props.notification.tracking||"{}"};d.componentDidMount=function(){var a=this;this.props.onReadyToHide(this.props.notification.alert_id);this.$5()&&b("Bootloader").loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode"],function(b,c){c=a.$3();c&&b.genVideoData(c)},"NotificationBeeperItemContents.react")};d.componentDidUpdate=function(a){(a.notification.alert_id!==this.props.notification.alert_id||a.notification.creation_time!==this.props.notification.creation_time)&&(this.$2(),this.props.onReadyToHide(this.props.notification.alert_id))};d.render=function(){var a=this.props.notification;a.title!==null||h(0,17664,a.notif_type);var c=a.thumbnail?a.thumbnail.uri:null,d=a.icon?a.icon.uri:null,e=b("NotificationURI").localize(new(i||(i=b("URI")))(a.url));return b("React").jsxs("div",{ref:"inner",className:this.props.className,children:[b("React").jsx(b("NotificationBeeperItemCloseButton.react"),{onClick:this.onClose}),b("React").jsx("a",{href:e,onClick:this.onClick,className:"_3soi",children:b("React").jsxs(b("ImageBlock.react"),{className:"_3soj",spacing:"medium",children:[b("React").jsx(b("FBProfilePhotoShadow.react"),{className:"_2yt7",children:b("React").jsx(b("Image.react"),{src:c,className:"_3sok"+(c?"":" hidden_elem")})}),b("React").jsxs("div",{className:"_3sol",children:[b("React").jsx(b("TextWithEntities.react"),{renderEmoticons:!0,renderEmoji:!0,interpolator:b("NotificationInterpolator"),ranges:a.title.ranges,aggregatedranges:a.title.aggregated_ranges,text:a.title.text}),b("React").jsxs(b("ImageBlock.react"),{className:"_3som",children:[b("React").jsx(b("Image.react"),{className:"_1x8t"+(d?"":" hidden_elem"),src:d}),b("React").jsx(b("Timestamp.react"),{time:a.timestamp.time,text:a.timestamp.text,verbose:a.timestamp.verbose})]})]})]})})]})};return c}(b("React").Component);e.exports=a}),null);
__d("NotificationBeeperItem.react",["cx","CSSFade","NotificationBeeperConst","NotificationBeeperItemContents.react","NotificationBeeperItemRenderersList","React","ReactDOM","Style","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("NotificationBeeperConst").FADE_OUT_LENGTH;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={encounteredException:!1,fadedIn:!1,hidden:!1},c.$3=function(){c.setState({hidden:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidCatch2=function(){this.props.onReadyToHide(this.props.notification.alert_id),this.setState(function(a){return babelHelpers["extends"]({},a,{encounteredException:!0})})};d.componentDidMount=function(){var a=this;b("setTimeoutAcrossTransitions")(function(){a.setState({fadedIn:!0})},50);this.props.onInserted(this.props.notification.alert_id)};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.render=function(){var a=this;if(this.state.encounteredException)return null;var c=this.props.notification,d=c.renderer_data;c=c.tracking;d=this.$4(d);return b("React").jsx("li",{className:this.state.hidden?"hidden_elem":"",ref:function(b){return a.$2=b},"data-gt":c,children:b("React").jsx(d,{className:"_3sod"+(this.state.fadedIn?" _3soe":""),notification:this.props.notification,onHide:this.$3,onReadyToHide:this.props.onReadyToHide,onPreventHide:this.props.onPreventHide})})};d.componentDidUpdate=function(a,c,d){if(!this.$2)return;a=b("ReactDOM").findDOMNode(this.$2);if(!a)return;this.props.fadingOut?(this.$1=b("CSSFade").hide(a,{callback:this.$3,duration:h}),a.style.transitionDuration="0ms"):(this.$1&&(this.$1.cancel(),this.$1=void 0),b("Style").set(a,"opacity","1"))};d.$4=function(a){return a&&a.__typename==="LiveVideoNotificationRendererData"&&a.video_id==null?b("NotificationBeeperItemContents.react"):b("NotificationBeeperItemRenderersList")[a&&a.__typename]||b("NotificationBeeperItemContents.react")};return c}(b("React").Component);e.exports=a}),null);
__d("NotificationBeeper.react",["cx","Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationBeeperConst","NotificationBeeperItem.react","NotificationConstants","NotificationSound","NotificationUpdates","NotificationUserActions","React","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h=(a=b("NotificationBeeperConst")).ACTIVE_DELAY_LONG,i=a.BeepStates,j=a.FADE_OUT_LENGTH,k=a.IDLE_DELAY;c=b("NotificationConstants").PayloadSourceType;var l=c.CLIENT,m=c.OTHER_APPLICATION;d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={beeps:{},fading:!1,hovering:!1,soundEnabled:d.props.soundEnabled},d.onMouseEnter=function(){d.$2&&b("clearTimeout")(d.$2);var a=[],c=d.state.beeps;Object.keys(c).forEach(function(b){c[b].state!=i.PENDING?a.push(b):c[b].state=i.RENDERED});b("NotificationUserActions").markNotificationsAsSeen(a);d.setState({hovering:!0,fading:!1,beeps:c})},d.onMouseLeave=function(){d.$5(h),d.setState({hovering:!1})},d.$6=function(a){d.state.hovering||d.$5(),d.state.soundEnabled&&d.state.beeps[a].shouldPlaySound&&(d.$3||(d.$3=new(b("NotificationSound"))(d.props.soundPath)),d.$3.play(a))},d.onReadyToHide=function(a,b){d.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:i.READY_TO_HIDE});return babelHelpers["extends"]({},b,{beeps:c})}),d.$2||d.$5(b)},d.$8=function(a){d.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:i.RENDERED});return babelHelpers["extends"]({},b,{beeps:c})})},d.$7=function(){d.$2=null,d.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==i.READY_TO_HIDE&&(b[a]=babelHelpers["extends"]({},b[a],{state:i.FADING_OUT}))});return babelHelpers["extends"]({},a,{beeps:b,fading:!0})}),b("setTimeoutAcrossTransitions")(b("shield")(d.$9,babelHelpers.assertThisInitialized(d)),j)},d.$9=function(){__p&&__p();if(!d.state.fading)return;d.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==i.FADING_OUT&&delete b[a]});return babelHelpers["extends"]({},a,{beeps:b,fading:!1})});b("setTimeoutAcrossTransitions")(function(){d.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==i.PENDING&&(b[a]=babelHelpers["extends"]({},b[a],{state:i.RENDERED}))});return babelHelpers["extends"]({},a,{beeps:b})})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){__p&&__p();var a=this,c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("NotificationUpdates").subscribe("update-notifications",function(b,c){if(c.payloadsource===m||c.payloadsource===l){b=c.nodes;b&&b.length&&a.handleBeepChanges(a.$4(b))}}),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notif_sound_pref_changed"),function(b,c){a.setState({soundEnabled:c.obj.enabled})}));c.addSubscriptions(b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_BEEPER",callback:function(b){var c=b.notification;b=b.should_play_sound;if(c!==null){var d;a.handleBeepChanges((d={},d[c.alert_id]={notification:c,shouldPlaySound:b},d))}}}));this.$1=c;b("Arbiter").inform("NotificationBeeper/mounted",null,"persistent")};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null};d.$5=function(a){this.$2&&b("clearTimeout")(this.$2),this.$2=b("setTimeoutAcrossTransitions")(b("shield")(this.$7,this),a==null?k:a)};d.handleBeepChanges=function(a){var b=this.state.fading?i.PENDING:i.RENDERED,c=!1,d=babelHelpers["extends"]({},this.state.beeps);Object.keys(a).reverse().forEach(function(e){var f=a[e],g=d[e];(!g||g.notification.alert_id!==f.notification.alert_id||g.notification.creation_time!==f.notification.creation_time)&&(g&&(c=!0,delete d[e]),d[e]=babelHelpers["extends"]({},f,{state:b}))});c&&this.$5();this.setState({beeps:d})};d.render=function(){var a=this,c=this.state.beeps,d=[];Object.keys(c).reverse().forEach(function(e){var f=c[e];if(f.state==i.PENDING)return;d.push(b("React").jsx(b("NotificationBeeperItem.react"),{fadingOut:a.state.fading&&f.state==i.FADING_OUT,notification:f.notification,onInserted:a.$6,onReadyToHide:a.onReadyToHide,onPreventHide:a.$8},e))},this);var e=d.length>0;e=(e?"":"hidden_elem")+" _50d1";return b("React").jsx("ul",{ref:"container",className:e,"data-gt":this.props.tracking,"data-testid":"beeper_list",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:d})};d.$4=function(a){return a.reduce(function(a,b){a[b.alert_id]={notification:b,shouldPlaySound:!1};return a},{})};return c}(b("React").Component);e.exports=d}),null);
__d("NotificationBeeperContainer",["NotificationBeeper.react","React","ReactDOM"],(function(a,b,c,d,e,f){a={renderBeeper:function(a,c){b("ReactDOM").render(b("React").jsx(b("NotificationBeeper.react"),babelHelpers["extends"]({},a)),c)}};e.exports=a}),null);
__d("ConversationNubTabStateListStorage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){this.$1=[]}var b=a.prototype;b.modify=function(a){this.$1=a(this.$1)};b.getData=function(){return this.$1};return a}();e.exports=a}),null);
__d("differenceSets",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=new Set();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];FIRST:for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;for(var k=0;k<d.length;k++){var l=d[k];if(l.has(j))continue FIRST}b.add(j)}return b}e.exports=a}),null);
__d("ConversationNubTabStateList",["invariant","ConversationNubTabStateListStorage","differenceSets"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$2=new Set(),this.$1=new(b("ConversationNubTabStateListStorage"))()}var c=a.prototype;c.modifyTabState=function(a,b){this.modifyTabs(function(c){var d=c.findIndex(function(b){return b.tabID===a});d!==-1||g(0,5816);b(c[d]);return c})};c.$3=function(a){return new Set(a.map(function(a){return a.tabID}))};c.modifyTabs=function(a){var c=this;try{this.$1.modify(function(d){var e=c.$3(d);d=a(d);var f=c.$3(d);c.$2=b("differenceSets")(e,f);return d})}finally{this.$2=new Set()}};c.getTabs=function(){return this.$1.getData()};c.getTabState=function(a){a=this.getTabStateIfExists(a);a||g(0,5816);return a};c.getTabStateIfExists=function(a){return this.getTabs().find(function(b){return b.tabID===a})};c.push=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.modifyTabs(function(a){b.forEach(function(b){a.find(function(a){return a.tabID===b.tabID})?g(0,5817,b.tabID):a.push(b)});return a})};c.remove=function(a){this.modifyTabs(function(b){var c=b.findIndex(function(b){return b.tabID===a});c!==-1&&b.splice(c,1);return b})};return a}();e.exports=a}),null);
__d("ConversationNubTabState",["invariant","ConversationNubTabStateList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=12;a=function(){__p&&__p();function a(){this.$1=Object.create(null),this.$2=new(b("ConversationNubTabStateList"))(),this.$3=Infinity}var c=a.prototype;c.anyTabHasFocus=function(){return this.getUnsortedLoadedTabs().some(function(a){return a.getIsFocused()})};c.anyTabHasText=function(){return this.getUnsortedLoadedTabs().some(function(a){return a.getHasText()})};c.getTabState=function(a){return this.$2.getTabState(a)};c.getTabStateIfExists=function(a){return this.$2.getTabStateIfExists(a)};c.getUnloadedTabs=function(){var a=this,b=this.$2.getTabs().filter(function(b){return!a.getLoadedTab(b.tabID)});return b};c.setMaxDockTabs=function(a){this.$3=a};c.getNumDockTabs=function(){var a=this.$3,b=this.getTotalTabCount();return Math.min(a,b)};c.getNumMenuTabs=function(){return this.getTotalTabCount()-this.getNumDockTabs()};c.addTabState=function(a){this.$2.push(a)};c.addLoadedTab=function(a,b){var c=this.getTabState(a);if(!c)return;c=this.getLoadedTab(a);if(c)return;this.$1[a]=b;this.$4()};c.getLoadedTab=function(a){return this.$1[a]};c.getLoadedTabByFeedbackTarget=function(a){return this.getLoadedTabs().find(function(b){return b.getPersistentState().ftID===a})};c.isTabInDock=function(a){a=this.getLoadedTab(a);if(!a)return!1;a=this.$5(a);return 0<=a&&a<this.getNumDockTabs()};c.clearTabNotifications=function(a){this.$2.modifyTabState(a,function(a){a.unseenCommentsSinceLastCleared={},a.hasFakeInitBadge=!1,a.badgeCount=0,a.isBlinkingUnread=!1})};c.deleteTab=function(a){var b=this.getLoadedTab(a);b&&(delete this.$1[a],b.destroy());this.$2.remove(a);return Boolean(b)};c.deleteAllTabs=function(){var a=this;this.getUnsortedLoadedTabs().forEach(function(b){return a.deleteTab(b.getTabID())})};c.modifyTabState=function(a,b){return this.$2.modifyTabState(a,b)};c.moveTabToDockLeft=function(a){__p&&__p();var b=this,c=this.getLoadedTab(a);if(!c)return;this.$2.modifyTabs(function(d){__p&&__p();var e=d.findIndex(function(b){return b.tabID===a});e!==-1||g(0,5816);var f=d[e],h=b.$5(c),i=b.getLoadedTabs().length,j=b.getNumDockTabs();if(h<0||i===0)return d;else if(j===0){h!==0&&(d.splice(e,1),d.unshift(f));return d}i=j-1;if(h===i)return d;d.splice(e,1);h<i&&(i-=1);j=b.getLoadedTabs()[i];var k=b.getTabState(j.getTabID());k||g(0,6150);e=d.findIndex(function(a){return a.tabID===k.tabID});d.splice(e,0,f);return d})};c.getLoadedTabs=function(){var a=this,b=this.$2.getTabs().map(function(b){return a.getLoadedTab(b.tabID)}).filter(Boolean);return b};c.getUnsortedLoadedTabs=function(){var a=Object.values(this.$1);return a};c.getTotalTabCount=function(){return this.getUnsortedLoadedTabs().length};c.getTabsForDockOldestFirst=function(){return this.getLoadedTabs().slice(0,this.getNumDockTabs())};c.getTabsForDockNewestFirst=function(){return this.getTabsForDockOldestFirst().slice().reverse()};c.getTabsForMenuOldestFirst=function(){return this.getLoadedTabs().slice(this.getNumDockTabs())};c.getTabsForMenuNewestFirst=function(){return this.getLoadedTabs().slice(this.getNumDockTabs()).reverse()};c.$4=function(){var a=this,b=this.getLoadedTabs().length;if(b>h){b=b-h;b=this.getTabsForMenuOldestFirst().slice(0,b);b.map(function(a){return a.getTabID()}).forEach(function(b){return a.deleteTab(b)})}};c.$5=function(a){return this.getLoadedTabs().indexOf(a)};return a}();e.exports=new a()}),null);
__d("ConversationNub",["csx","cx","Arbiter","ConversationNubHeader","ConversationNubTabState","ConversationNubTabsUpdateEventController","ConversationNubUtils","CSS","DOM","EventListener","NotificationUserActions","SubscriptionsHandler","UFIComposerIsTypingStore","URI","clearTimeout","containsNode","debounce","guid","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ConversationNubTabsUpdateEventController").minimizeAndInformTabUpdate,k=b("ConversationNubTabsUpdateEventController").popOutAndInformTabUpdate,l=b("ConversationNubTabState"),m=10,n=500,o=100;a=function(){__p&&__p();a.createDefaultState=function(a,c,d,e,f,g){return{tabID:a,permalinkURI:c!=null?new(i||(i=b("URI")))(c):null,ftID:d,notifAlertID:e,notificationType:f,title:g,keepAtBottom:!1,isTabRaised:!1,isBlinkingUnread:!1,badgeCount:0,allSeenNewComments:{},unseenCommentsSinceLastCleared:{},hasFakeInitBadge:!1}};function a(a,c,d,e,f,g){__p&&__p();var h=this;f===void 0&&(f=!1);g===void 0&&(g=!1);this.$13=!1;this.$14=!1;this.$1=a;this.$12=c;this.$5=b("guid")();this.$7=null;this.$8=!1;this.$9=null;this.$10=f;this.$11=g;this.$15=e;this.$6=new(b("SubscriptionsHandler"))();this.$16();this.$17();d!=null&&l.modifyTabState(this.$12,function(a){d?a.hasFakeInitBadge=!1:(a.hasFakeInitBadge=!0,h.$18(1),h.$19(!0))});this.$20()}var c=a.prototype;c.$20=function(){this.$21(),this.$22(),b("ConversationNubUtils").informShouldRecheckTabVisibility(this),this.forceReflow()};c.getPersistentState=function(){return l.getTabState(this.$12)};c.getPersistentStateIfExists=function(){return l.getTabStateIfExists(this.$12)};c.$16=function(){__p&&__p();var a=this.$23();if(a){this.$6.addSubscriptions(b("EventListener").listen(a,"click",this.$24.bind(this)),b("EventListener").listen(a,"mouseenter",this.$25.bind(this)),b("EventListener").listen(a,"mouseleave",this.$26.bind(this)));a=b("ConversationNubUtils").getCloseButtonElem(a);a&&b("ConversationNubUtils").addCloseButtonListeners(a,this.$6,this.$27.bind(this))}a=this.$28();a&&(l.modifyTabState(this.$12,function(a){a.keepAtBottom=!0}),this.$6.addSubscriptions(b("EventListener").listen(a,"scroll",b("debounce")(this.$29.bind(this),o)),b("Arbiter").subscribe("reflow",this.$30.bind(this))));a=this.$31();a&&this.$6.addSubscriptions(b("EventListener").listen(a,"focusin",this.$32.bind(this,!0)),b("EventListener").listen(a,"focusout",this.$32.bind(this,!1)))};c.$17=function(){__p&&__p();var a=this,c=this.$33();if(!c){this.$2=null;return}var d=function(){var b=a.getPersistentState();return{permalinkURI:b.permalinkURI,ftID:b.ftID,tabID:b.tabID}};c=new(b("ConversationNubHeader"))(c,d);this.$6.addSubscriptions(c.subscribe("closeButton",this.$27.bind(this)),c.subscribe("showMenu",this.$34.bind(this)),c.subscribe("hideMenu",this.$35.bind(this)),c.subscribe("minimizeButton",this.$36.bind(this,!0)),c.subscribe("clickHeader",this.$36.bind(this,!0)),c.subscribe("menuPermalinkClick",this.$36.bind(this,!1)),b("UFIComposerIsTypingStore").addListener(function(){var c=a.getPersistentStateIfExists();if(!c)return;var d=a.$14;c=b("UFIComposerIsTypingStore").getValueFor(c.ftID);a.$14=c===!0;d!==a.$14&&b("ConversationNubTabsUpdateEventController").informTabsUpdated()}));this.$2=c};c.$33=function(){return this.$1&&b("DOM").scry(this.$1,".fbNubFlyoutTitlebar")[0]};c.$23=function(){return this.$1&&b("DOM").scry(this.$1,".fbNubButton")[0]};c.$28=function(){!this.$3&&this.$1&&(this.$3=b("DOM").scry(this.$1,".uiScrollableAreaWrap")[0]);return this.$3};c.$31=function(){!this.$4&&this.$1&&(this.$4=b("DOM").scry(this.$1,".fbNubFlyoutBodyContent")[0]);return this.$4};c.$37=function(){var a=this.$23();return a?b("DOM").scry(a,"._37op")[0]:null};c.$27=function(){b("ConversationNubUtils").informShouldCloseTab(this.$12,this.getFeedbackTargetID(),b("ConversationNubUtils").CLOSE_REASON_TAB_X_OUT)};c.$36=function(a){j(this,a)};c.$34=function(){this.$1&&b("CSS").addClass(this.$1,"_1uw3")};c.$35=function(){this.$1&&b("CSS").removeClass(this.$1,"_1uw3")};c.$24=function(){this.getPersistentState().isTabRaised?j(this,!0):k(this,!0)};c.$25=function(){this.getPersistentState().isBlinkingUnread&&(this.$9=new Date())};c.$26=function(){var a=this.$9;if(a&&this.getPersistentState().isBlinkingUnread){var b=new Date();b-a>=n&&this.$19(!1)}this.$9=null};c.$38=function(){var a=this.$28();if(a){var b=a.scrollHeight;b>0&&!this.$39(a)&&(this.$8=!0,a.scrollTop=b)}};c.$39=function(a){a=a||this.$28();return!!(a&&a.scrollTop>=a.scrollHeight-a.clientHeight-m)};c.$29=function(){var a=this;if(!l.getTabStateIfExists(this.$12)||!this.getPersistentState().isTabRaised)return;l.modifyTabState(this.$12,function(c){c.keepAtBottom=a.$39(),b("ConversationNubUtils").informShouldRecheckTabVisibility(a)});this.$8||this.clearJewelNotifications();this.$8=!1};c.$32=function(a){if(this.$13===a)return;this.$13=a;this.$13&&this.clearJewelNotifications();b("ConversationNubTabsUpdateEventController").informTabsUpdated()};c.getIsFocused=function(){return this.$13};c.getPageID=function(){return this.$15};c.getHasText=function(){return this.$14};c.$30=function(){var a=this,c=this.getPersistentState();if(!c.isTabRaised)return;c.keepAtBottom&&(this.$38(),this.$7&&b("clearTimeout")(this.$7),this.$7=b("setTimeoutAcrossTransitions")(function(){c.keepAtBottom&&a.$38()},100))};c.$18=function(a){var b=this;l.modifyTabState(this.$12,function(c){c.badgeCount=a,b.$21()})};c.$19=function(a){var b=this;l.modifyTabState(this.$12,function(c){c.isBlinkingUnread=a,b.$22()})};c.$21=function(){var a=this.$37();if(!a)return;var c=this.getPersistentState().badgeCount,d=c>0;d?(b("DOM").setContent(a,c),b("CSS").show(a)):(b("CSS").hide(a),b("DOM").setContent(a,c))};c.$22=function(){if(this.$1){var a=this.getPersistentState().isBlinkingUnread;this.$1&&b("CSS").conditionClass(this.$1,"_53tf",a)}};c.getRootDOM=function(){return this.$1};c.getShouldShowIntroNux=function(){return this.$10};c.getShouldShowHideNux=function(){return this.$11};c.getTabID=function(){return this.$12};c.getNotificationPayloadAlertID=function(){return this.getPersistentState().notifAlertID};c.getNotificationType=function(){return this.getPersistentState().notificationType};c.setNotificationType=function(a){l.modifyTabState(this.$12,function(b){b.notificationType=a})};c.getFeedbackTargetID=function(){return this.getPersistentState().ftID};c.getPermalinkURI=function(){return this.getPersistentState().permalinkURI};c.getTitle=function(){return this.getPersistentState().title};c.getBadgeCount=function(){return this.getPersistentState().badgeCount};c.getIsRaised=function(){return this.getPersistentState().isTabRaised};c.getSessionID=function(){return this.$5};c.markCommentsAsSeenWithoutBadging=function(a){l.modifyTabState(this.$12,function(b){a.forEach(function(a){b.allSeenNewComments[a]=!0})})};c.attemptAddNewCommentsToBadge=function(a){__p&&__p();var b=this;l.modifyTabState(this.$12,function(c){__p&&__p();a.forEach(function(a){if(c.allSeenNewComments[a])return;c.allSeenNewComments[a]=!0;c.unseenCommentsSinceLastCleared[a]=!0});var d=Object.keys(c.unseenCommentsSinceLastCleared).length;c.hasFakeInitBadge&&(d+=1);var e=c.badgeCount;b.$18(d);b.$19(d>0&&d>e)})};c.clearBadge=function(){l.clearTabNotifications(this.$12),this.$21(),this.$22()};c.clearJewelNotifications=function(){var a=this.getNotificationPayloadAlertID();a!=null&&b("NotificationUserActions").markNotificationsAsRead([a])};c.popOutAndInformTabUpdate=function(){this.popOut(),b("ConversationNubTabsUpdateEventController").informTabsUpdated()};c.popOut=function(){var a=this;l.modifyTabState(this.$12,function(c){a.$1&&b("CSS").addClass(a.$1,"_5r93"),c.isTabRaised=!0,a.clearBadge(),c.keepAtBottom&&a.$38()})};c.minimize=function(){var a=this;l.modifyTabState(this.$12,function(c){a.$1&&b("CSS").removeClass(a.$1,"_5r93"),c.isTabRaised=!1,a.$2&&a.$2.hideMenu(),a.clearBadge()})};c.forceReflow=function(){this.$30()};c.isFormForThisUFI=function(a){return this.$1&&b("containsNode")(this.$1,a)};c.destroy=function(){this.$6.release(),this.$2&&this.$2.destroy(),this.$2=null,this.$7&&b("clearTimeout")(this.$7),this.minimize(),this.$1&&(b("DOM").remove(this.$1),b("Arbiter").inform("ConversationNub/destroy",{root:this.$1}),this.$1=null)};return a}();e.exports=a}),null);
__d("XConversationNubActionTakenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/conversation/nub_story/action_taken/",{})}),null);
__d("ConversationNubActionTakenReporter",["Arbiter","AsyncRequest","ConversationNubUtils","PinnedConversationNubsActionTaken","SubscriptionsHandler","XConversationNubActionTakenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){__p&&__p();var a=this;this.$2=function(c,d){d.tabID;c=d.ftID;d.tabState;d.sessionID;d=d.reason;(d===b("ConversationNubUtils").CLOSE_REASON_TAB_X_OUT||d===b("ConversationNubUtils").CLOSE_REASON_OVERFLOW_X_OUT||d===b("ConversationNubUtils").CLOSE_REASON_UNPIN)&&a.$3(c,b("PinnedConversationNubsActionTaken").TAB_CLOSED_BY_USER)};this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe(b("ConversationNubUtils").CLOSE_TAB_EVENT,this.$2))}var c=a.prototype;c.destroy=function(){this.$1.release()};c.$3=function(a,c){var d=b("XConversationNubActionTakenController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({ft_id:a,action:c}).setAllowCrossPageTransition(!0).send()};return a}();e.exports=a}),null);
__d("ConversationNubHeader",["csx","ArbiterMixin","Bootloader","ConversationNubUtils","DOM","Event","EventListener","Keys","SubscriptionsHandler","ifRequired","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){return b("EventListener").listen(a,"keydown",function(a){b("Event").getKeyCode(a)===b("Keys").RETURN&&c(a)})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$ConversationNubHeader6=!1;e.$ConversationNubHeader1=c;e.$ConversationNubHeader3=d;e.$ConversationNubHeader4=null;e.$ConversationNubHeader5=!1;e.$ConversationNubHeader2=new(b("SubscriptionsHandler"))();e.$ConversationNubHeader7();return e}var d=c.prototype;d.$ConversationNubHeader7=function(){var a=this.$ConversationNubHeader1;this.$ConversationNubHeader2.addSubscriptions(b("EventListener").listen(a,"click",this.$ConversationNubHeader8.bind(this)));a=b("ConversationNubUtils").getCloseButtonElem(a);a&&b("ConversationNubUtils").addCloseButtonListeners(a,this.$ConversationNubHeader2,this.$ConversationNubHeader9.bind(this));a=this.$ConversationNubHeader10();a&&this.$ConversationNubHeader2.addSubscriptions(b("EventListener").listen(a,"click",this.$ConversationNubHeader11.bind(this)),h(a,this.$ConversationNubHeader11.bind(this)));a=this.$ConversationNubHeader12();a&&this.$ConversationNubHeader2.addSubscriptions(b("EventListener").listen(a,"click",this.$ConversationNubHeader13.bind(this)),b("EventListener").listen(a,"mouseover",this.$ConversationNubHeader14.bind(this)),b("EventListener").listen(a,"focus",this.$ConversationNubHeader15.bind(this)),h(a,this.$ConversationNubHeader16.bind(this)))};d.$ConversationNubHeader12=function(){return b("DOM").scry(this.$ConversationNubHeader1,"._1rf1")[0]};d.$ConversationNubHeader10=function(){return b("DOM").scry(this.$ConversationNubHeader1,"._4a56")[0]};d.$ConversationNubHeader9=function(){this.inform("closeButton")};d.$ConversationNubHeader11=function(a){a.type==="click"&&a.kill(),this.inform("minimizeButton")};d.$ConversationNubHeader8=function(){this.inform("clickHeader")};d.$ConversationNubHeader17=function(){this.inform("showMenu")};d.$ConversationNubHeader18=function(){this.inform("hideMenu");var a=this.$ConversationNubHeader12();a&&a.blur()};d.$ConversationNubHeader19=function(){this.inform("menuPermalinkClick")};d.$ConversationNubHeader20=function(a){__p&&__p();var c=this;if(this.$ConversationNubHeader4)return;var d=this.$ConversationNubHeader12();if(!d)return;a&&(this.$ConversationNubHeader5=!0);b("Bootloader").loadModules(["React","ReactDOM","ConversationNubHeaderMenu.react"],function(a,b,e){if(c.$ConversationNubHeader6)return;var f=babelHelpers["extends"]({},c.$ConversationNubHeader3(),{onMenuShow:c.$ConversationNubHeader17.bind(c),onMenuHide:c.$ConversationNubHeader18.bind(c),onPermalinkClick:c.$ConversationNubHeader19.bind(c),showOnMount:c.$ConversationNubHeader5});c.$ConversationNubHeader4=b.render(a.jsx(e,babelHelpers["extends"]({},f)),d)},"ConversationNubHeader")};d.$ConversationNubHeader13=function(a){a.kill(),this.$ConversationNubHeader20(!0)};d.$ConversationNubHeader14=function(){this.$ConversationNubHeader20(!1)};d.$ConversationNubHeader15=function(){this.$ConversationNubHeader20(!1)};d.$ConversationNubHeader16=function(){this.$ConversationNubHeader4?this.$ConversationNubHeader4.toggle():this.$ConversationNubHeader20(!0)};d.hideMenu=function(){this.$ConversationNubHeader4&&this.$ConversationNubHeader4.hide()};d.destroy=function(){this.$ConversationNubHeader6=!0;var a=this.$ConversationNubHeader12();a&&this.$ConversationNubHeader4&&b("ifRequired")("ReactDOM",function(b){b.unmountComponentAtNode(a)});this.$ConversationNubHeader2.release()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("ConversationNubTabsUpdateEventController",["Arbiter","ConversationNubUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ConversationNub/tabsUpdated",h="ConversationNub/minimizedByUser",i="ConversationNub/maximizedByUser",j=!1;function k(a){j||b("Arbiter").inform(g,a)}function a(a){return b("Arbiter").subscribe(g,function(b,c){j=!0,a(c),j=!1})}function c(a,c){c&&b("Arbiter").inform(h,{tab:a}),a.minimize(),k()}function d(a,c){if(!c&&!b("ConversationNubUtils").allowProgrammaticPopOut())return;c&&b("Arbiter").inform(i,{tab:a});a.popOut();k()}e.exports={TAB_MINIMIZED_BY_USER_EVENT:h,TAB_MAXIMIZED_BY_USER_EVENT:i,informTabsUpdated:k,subscribeToTabsUpdated:a,minimizeAndInformTabUpdate:c,popOutAndInformTabUpdate:d}}),null);
__d("XConversationNubTogglePinController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/conversation/nub_story/toggle_pin/",{ft_id:{type:"String"},pin:{type:"Bool",defaultValue:!1},with_render:{type:"Bool",defaultValue:!1},notif_setting:{type:"Enum",enumType:1}})}),null);
__d("XConversationsToggleController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/conversation/toggle_feature/",{turn_conversations_on:{type:"Bool",defaultValue:!1}})}),null);
__d("isBusinessURI",["isFacebookURI"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("isFacebookURI")(a)&&a.getSubdomain()==="business"}e.exports=a}),null);
__d("isGamesURI",["isFacebookURI"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("isFacebookURI")(a)&&a.getPath().startsWith("/games")}e.exports=a}),null);
__d("ConversationNubUtils",["csx","Arbiter","AsyncRequest","ConversationNubTabState","DOM","Event","EventListener","Keys","NotificationConversationController","URI","XConversationNubTogglePinController","XConversationsToggleController","isBusinessURI","isCanvasAppURI","isGamesURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ConversationNubTabState"),j=Object.freeze({DISABLE:"disable",ENABLE:"enable"}),k="ConversationNubUtils/closeTab",l="ConversationNubUtils/unpinnedFromHeader",m="ConversationNubUtils/recheckTabVisibility",n="ConversationNubUtils/openPermalinkFromHeader",o="ConversationNubUtils/turnOff",p="ConversationNubUtils/turnOn",q="tab-x-out",r="browser-tab-sync",s="overflow-x-out",t="unpin";function a(a){var b=Object.values(j);return b.find(function(b){return b===a})||null}function u(a,c,d,e){e=e||{};e=e.notif_setting;a=b("XConversationNubTogglePinController").getURIBuilder().setString("ft_id",String(a)).setBool("pin",c);e&&a.setEnum("notif_setting",e);c=a.getURI();e=new(b("AsyncRequest"))().setURI(c).setMethod("POST");d&&e.setAllowCrossPageTransition(!0);e.send()}function v(a){var c=b("XConversationsToggleController").getURIBuilder().setBool("turn_conversations_on",a).getURI();a?I():H();c=new(b("AsyncRequest"))().setURI(c).setAllowCrossPageTransition(!0).setHandler(function(a){a.getPayload().conversationsStatus?I():H()}).setErrorHandler(function(b){a?H():I()}).setMethod("POST");c.send()}function w(a,b,c){u(a,!0,b,c)}function x(a,b,c){u(a,!1,b,c)}function c(a,b){w(a,!1,b)}function d(a,b){x(a,!1,b)}function f(a,b){w(a,!0,b)}function g(a,b){x(a,!0,b)}function y(){v(!1),b("NotificationConversationController").deleteAllTabs()}function z(){v(!0)}function A(a){return b("DOM").scry(a,"._4iz6")[0]}function B(a,c,d){var e=function(){d()};c.addSubscriptions(b("EventListener").listen(a,"click",e),b("EventListener").listen(a,"keydown",function(a){b("Event").getKeyCode(a)===b("Keys").RETURN&&e()}))}function C(){var a=(h||(h=b("URI"))).getRequestURI();return!b("isCanvasAppURI")(a)&&!b("isBusinessURI")(a)&&!b("isGamesURI")(a)}function D(a,c,d){var e=i.getLoadedTab(a);if(!e)return;var f=e.getPersistentState(),g=e.getSessionID();e=e.getPageID();b("Arbiter").inform(k,{tabID:a,ftID:c,tabState:f,sessionID:g,reason:d,pageID:e})}function E(a){a=i.getLoadedTab(a);if(!a)return;b("Arbiter").inform(l,{tab:a})}function F(a){b("Arbiter").inform(m,{tab:a})}function G(a){if(a==null)return;a=i.getLoadedTab(a);if(!a)return;b("Arbiter").inform(n,{tab:a})}function H(){b("Arbiter").inform(o,{})}function I(){b("Arbiter").inform(p,{})}e.exports={CLOSE_TAB_EVENT:k,UNPIN_FROM_HEADER_EVENT:l,OPEN_PERMALINK_FROM_HEADER_EVENT:n,TURN_CONVERSATIONS_OFF_EVENT:o,TURN_CONVERSATIONS_ON_EVENT:p,CLOSE_REASON_TAB_X_OUT:q,CLOSE_REASON_SYNCHRONIZED_FROM_OTHER_TAB:r,CLOSE_REASON_OVERFLOW_X_OUT:s,CLOSE_REASON_UNPIN:t,coerceToPinRequestNotifSetting:a,sendPinRequest:c,sendUnpinRequest:d,sendPinRequestAcrossTransitions:f,sendUnpinRequestAcrossTransitions:g,getCloseButtonElem:A,addCloseButtonListeners:B,informShouldCloseTab:D,informDidUnpinFromHeaderMenu:E,informShouldRecheckTabVisibility:F,informOpenPermalinkFromHeader:G,allowProgrammaticPopOut:C,turnConversationsOff:y,turnConversationsOn:z}}),null);
__d("ConversationNubPermalinkUtils",["URI","isFacebookURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a.substr(-1)==="/"?a.slice(0,-1):a}function i(a,b){a=a.getPath();b=b.getPath();return h(a)===h(b)}function j(a,b,c){a=a.getQueryData();b=b.getQueryData();a=a[c];b=b[c];return a==null&&b==null?!0:a===b}function a(a){var c=new(g||(g=b("URI")))(window.location.href);return c&&a&&b("isFacebookURI")(c)&&b("isFacebookURI")(a)&&i(c,a)&&j(c,a,"fbid")&&j(c,a,"story_fbid")}e.exports={isOnPermalink:a}}),null);
__d("ConversationNubViewportManager",["DockTabsViewportCalculator","DockTabsViewportPinnedConversationTabUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DockTabsViewportPinnedConversationTabUtils").getMinRequiredWidthForFirstConvoTab;a=function(){__p&&__p();function a(a,c,d){var e=this;this.$1=a;this.$3=c;this.$2=b("DockTabsViewportCalculator").getInstance(this.$1);this.$2&&this.$2.registerPinnedConvoTabCallbacks(babelHelpers["extends"]({},d,{pinnedConvoTabStateGetter:function(){return e.$3}}))}var c=a.prototype;c.getNumDockTabsToShow=function(a){return this.getCouldFitAtLeastOneDockTab(a)?1:0};c.getCouldFitAtLeastOneDockTab=function(a){var b=g();return b<=a};c.forceRecalculatePinnedConvoTabs=function(a){this.$2&&this.$2.forceRecalculatePinnedConvoTabs(a)};return a}();e.exports=a}),null);
__d("ConversationNubVisibilityDedupeUtils",["Bootloader","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){"use strict";function a(a){b("Bootloader").loadModules(["UFICommentVisibilityStore"],a,"ConversationNubVisibilityDedupeUtils")}function c(a){return b("ifRequired")("UFICommentVisibilityStore",function(b){return b.isFeedbackTargetVisible(a)},b("emptyFunction").thatReturnsFalse)}e.exports={bootloadUFIVisibilityModule:a,isFeedbackTargetVisible:c}}),null);
__d("XNotificationNubStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/conversation/nub_story/",{notif_alert_id:{type:"String"},notif_id:{type:"Int"},ft_id:{type:"String"},force_minimized:{type:"Bool",defaultValue:!1}})}),null);
__d("NotificationConversationController",["csx","cx","Arbiter","AsyncRequest","Bootloader","ConversationNub","ConversationNubActionTakenReporter","ConversationNubPermalinkUtils","ConversationNubTabState","ConversationNubTabsUpdateEventController","ConversationNubUtils","ConversationNubViewportManager","ConversationNubVisibilityDedupeUtils","CSS","DOM","PinnedConversationNubsConfig","SubscriptionsHandler","URI","XNotificationNubStoryController","ge","ifRequired","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ConversationNubVisibilityDedupeUtils").isFeedbackTargetVisible,k=1,l=b("ConversationNubTabState"),m=Object.create(null),n=null,o=null,p=null,q=null,r=null,s=null,t=!1,u=null,v=null,w=null,x=Object.create(null);function y(){o||(o=b("DOM").scry(b("ge")("pagelet_dock"),"._1mw-")[0]);return o}function z(){if(!p){var a=y();a&&(p=b("DOM").scry(a,"._1tvj")[0])}return p}function A(){if(!q){var a=y();a&&(q=b("DOM").scry(a,"._2ikx .fbNubButton")[0])}return q}a=function(){__p&&__p();function a(){}var c=a.prototype;c.init=function(){__p&&__p();var a=this;if(t)return;t=!0;var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("ConversationNubTabsUpdateEventController").subscribeToTabsUpdated(this.$2.bind(this)),b("Arbiter").subscribe(b("ConversationNubUtils").CLOSE_TAB_EVENT,function(b,c){b=c||{};c=b.tabID;c&&a.$3(c)}));this.$1=new(b("ConversationNubActionTakenReporter"))();u=c};c.$4=function(a){a=n?n.getNumDockTabsToShow(a):k;l.setMaxDockTabs(a)};c.$5=function(a,c){this.$4(a);if(c){var d=c.tabToPromote;c=c.tabToOpenIfInDock;d&&!l.isTabInDock(d.getTabID())&&l.moveTabToDockLeft(d.getTabID());b("ConversationNubUtils").allowProgrammaticPopOut()&&c&&l.isTabInDock(c.getTabID())&&c.popOut()}this.$6(a)};c.$2=function(a){n&&n.forceRecalculatePinnedConvoTabs(a)};c.$6=function(a){__p&&__p();var c=l.getTotalTabCount(),d=l.getNumDockTabs();a=n?n.getCouldFitAtLeastOneDockTab(a):!1;a=c>0&&a;d=d<c&&a;c=y();c&&(b("CSS").conditionClass(c,"_1tvf",a),b("CSS").conditionClass(c,"_1dex",d),b("CSS").conditionClass(c,"_1tvi",d));a=b("PinnedConversationNubsConfig").pinnedToLeft?l.getTabsForDockOldestFirst():l.getTabsForDockNewestFirst();a.forEach(function(a){a.getIsRaised()&&a.clearBadge()});c=l.getTabsForMenuNewestFirst();this.$7(a);this.$8(c)};c.handleNotificationsRead=function(a){this.init();l.getUnsortedLoadedTabs().forEach(function(b){var c=b.getNotificationPayloadAlertID();c&&a[c]&&b.clearBadge()});l.getUnloadedTabs().forEach(function(b){b.notifAlertID&&a[b.notifAlertID]&&l.clearTabNotifications(b.tabID)});var b=l.getTabsForMenuNewestFirst();this.$8(b)};c.handleNewNotificationFromGraphQL=function(a,c){var d;this.init();a=(d=b("nullthrows"))(a);var e=a.tab_id,f=a.notification,g=a.feedback_target_id;a=a.permalink_uri;f=d(f);var h=f.notif_id,j=f.alert_id;f=f.notif_type;this.$9(d(e),d(h),d(g),d(j),a?new(i||(i=b("URI")))(a):null,c,f)};c.$9=function(a,c,d,e,f,g,h){e=b("XNotificationNubStoryController").getURIBuilder().setString("notif_alert_id",e).setInt("notif_id",c);this.$10(d,g);this.$11(a,d,h,f,e)};c.$10=function(a,b){x[a]||(x[a]=b)};c.$11=function(a,c,d,e,f){__p&&__p();if(m[a])return;var g=l.getLoadedTab(a);if(g){d&&g.setNotificationType(d);return}(b("ConversationNubPermalinkUtils").isOnPermalink(e)||j(c))&&f.setBool("force_minimized",!0);m[a]=!0;new(b("AsyncRequest"))().setURI(f.getURI()).setAllowCrossPageTransition(!0).setFinallyHandler(function(){delete m[a]}).send()};c.$12=function(a){__p&&__p();var c=!0;l.getUnsortedLoadedTabs().forEach(function(b){var d=b.getFeedbackTargetID(),e=a[d];e=e?Object.keys(e):[];if(e.length){var f=b.getBadgeCount();j(d)?(b.markCommentsAsSeenWithoutBadging(e),b.clearBadge()):b.attemptAddNewCommentsToBadge(e);d=b.getBadgeCount();f!==d&&(c=!0)}});c&&b("ConversationNubTabsUpdateEventController").informTabsUpdated()};c.$13=function(a,c,d){if(w){w.addTab(a,d);delete x[a.getPersistentState().ftID];return}b("Bootloader").loadModules(["ConversationNubLogger"],function(b){w||(w=new b(c)),w.addTab(a,d),delete x[a.getPersistentState().ftID]},"NotificationConversationController")};c.$14=function(){var a=this;if(v)return;b("Bootloader").loadModules(["ConversationNubUFICentralUpdateManager"],function(b){if(v)return;v=new b(a.$12.bind(a))},"NotificationConversationController")};c.$7=function(a){var c=z();if(!c)return;b("Bootloader").loadModules(["React","ReactDOM","ConversationNubDockedTabGroup.react"],function(b,d,e){s=d.render(b.jsx(e,{dockTabs:a}),c)},"NotificationConversationController")};c.$15=function(a){a.popOut(),b("ConversationNubTabsUpdateEventController").informTabsUpdated({tabToPromote:a})};c.$8=function(a){var c=this,d=A();if(!d)return;b("Bootloader").loadModules(["React","ReactDOM","ConversationNubCollapsedSelectorMenu.react"],function(b,e,f){r=e.render(b.jsx(f,{menuTabs:a,onTabSelected:c.$15}),d)},"NotificationConversationController")};c.$16=function(){if(!n){var a=y();if(a){var c={onAvailableWidthChanged:this.$5.bind(this)};n=new(b("ConversationNubViewportManager"))(a,l,c)}}};c.storyFromServer=function(a,c){__p&&__p();t||this.init();var d=c.attempt_open_on_init,e=c.ft_id,f=c.init_without_badge,g=c.notif_alert_id,h=c.notification_type,i=c.permalink_uri,k=c.promote_on_init,m=c.tab_add_source,n=c.tab_id,o=c.title,p=c.should_show_intro_nux,q=c.should_show_hide_nux;c=c.page_id;var r=l.getLoadedTab(n);if(r){(k||d)&&b("ConversationNubTabsUpdateEventController").informTabsUpdated({tabToPromote:k?r:null,tabToOpenIfInDock:d?r:null});return}f=f||j(e);r=l.getTabStateIfExists(n);if(r)f=null;else{r=b("ConversationNub").createDefaultState(n,i,e,g,h,o);l.addTabState(r)}i=new(b("ConversationNub"))(a,n,f,c,Boolean(p),Boolean(q));l.addLoadedTab(n,i);d=d||i.getPersistentState().isTabRaised;this.$14();this.$16();b("ConversationNubTabsUpdateEventController").informTabsUpdated({tabToPromote:k?i:null,tabToOpenIfInDock:d?i:null});g=x[e]||m||"unknown";this.$13(i,l,g)};c.deleteAllTabs=function(){l.deleteAllTabs(),b("ConversationNubTabsUpdateEventController").informTabsUpdated()};c.$3=function(a){a=l.deleteTab(a);a&&b("ConversationNubTabsUpdateEventController").informTabsUpdated()};c.unsubscribe=function(){u&&u.release(),u=null,w&&w.destroy(),w=null,v&&v.destroy(),v=null,this.$1.destroy(),b("ifRequired")("ReactDOM",function(a){var b=A();r&&b&&a.unmountComponentAtNode(b);b=z();s&&b&&a.unmountComponentAtNode(b)})};return a}();e.exports=new a()}),null);
__d("PinnedConversationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PinnedConversationLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PinnedConversationLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PinnedConversationLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAttemptOpenOnInit=function(a){this.$1.attempt_open_on_init=a;return this};c.setBadgeCount=function(a){this.$1.badge_count=a;return this};c.setClientEventTimeMs=function(a){this.$1.client_event_time_ms=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFtID=function(a){this.$1.ft_id=a;return this};c.setIsRaised=function(a){this.$1.is_raised=a;return this};c.setNotificationType=function(a){this.$1.notification_type=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPromoteOnInit=function(a){this.$1.promote_on_init=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setTabID=function(a){this.$1.tab_id=a;return this};c.setTabSessionID=function(a){this.$1.tab_session_id=a;return this};c.setTabsInDock=function(a){this.$1.tabs_in_dock=a;return this};c.setTabsInMenu=function(a){this.$1.tabs_in_menu=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.setWindowInnerHeight=function(a){this.$1.window_inner_height=a;return this};c.setWindowInnerWidth=function(a){this.$1.window_inner_width=a;return this};return a}();c={attempt_open_on_init:!0,badge_count:!0,client_event_time_ms:!0,event:!0,ft_id:!0,is_raised:!0,notification_type:!0,page_id:!0,promote_on_init:!0,reason:!0,tab_id:!0,tab_session_id:!0,tabs_in_dock:!0,tabs_in_menu:!0,time:!0,vc:!0,weight:!0,window_inner_height:!0,window_inner_width:!0};e.exports=a}),null);
__d("ConversationNubLogger",["Arbiter","ConversationNubTabsUpdateEventController","ConversationNubUtils","PinnedConversationTypedLogger","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=new(b("SubscriptionsHandler"))(),this.$2=a,this.$3()}var c=a.prototype;c.$3=function(){__p&&__p();var a=this,c;this.$1.addSubscriptions((c=b("Arbiter")).subscribe(b("ConversationNubUtils").CLOSE_TAB_EVENT,function(c,d){c=d.tabState;var e=d.sessionID;d=d.reason;d=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_tab_close").setReason(d);a.$4(d,c,e)}));this.$1.addSubscriptions(c.subscribe(b("ConversationNubUtils").UNPIN_FROM_HEADER_EVENT,function(c,d){c=d.tab;d=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_tab_hide");a.$5(d,c)}));this.$1.addSubscriptions(c.subscribe(b("ConversationNubTabsUpdateEventController").TAB_MAXIMIZED_BY_USER_EVENT,function(c,d){c=d.tab;d=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_tab_maximize");a.$5(d,c)}));this.$1.addSubscriptions(c.subscribe(b("ConversationNubTabsUpdateEventController").TAB_MINIMIZED_BY_USER_EVENT,function(c,d){c=d.tab;d=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_tab_minimize");a.$5(d,c)}));this.$1.addSubscriptions(c.subscribe(b("ConversationNubUtils").OPEN_PERMALINK_FROM_HEADER_EVENT,function(c,d){c=d.tab;d=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_open_permalink_from_header");a.$5(d,c)}))};c.$5=function(a,b){a.setTabID(b.getTabID()).setPageID(b.getPageID()).setClientEventTimeMs(Date.now()).setTabsInMenu(this.$2.getNumMenuTabs()).setTabsInDock(this.$2.getNumDockTabs()).setWindowInnerWidth(window.innerWidth).setWindowInnerHeight(window.innerHeight);a.setFtID(b.getFeedbackTargetID()).setIsRaised(b.getIsRaised()).setBadgeCount(b.getBadgeCount()).setTabSessionID(b.getSessionID());b=b.getNotificationType();b!=null&&a.setNotificationType(b);a.log()};c.$4=function(a,b,c){a.setTabID(b.tabID).setClientEventTimeMs(Date.now()).setTabsInMenu(this.$2.getNumMenuTabs()).setTabsInDock(this.$2.getNumDockTabs()).setWindowInnerWidth(window.innerWidth).setWindowInnerHeight(window.innerHeight),a.setFtID(b.ftID).setIsRaised(b.isTabRaised).setBadgeCount(b.badgeCount).setTabSessionID(c),b.notificationType!=null&&a.setNotificationType(b.notificationType),a.log()};a.subscriptionTriggered=function(a){new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_subscription_triggered").setReason(a).log()};c.addTab=function(a,c){c=new(b("PinnedConversationTypedLogger"))().setEvent("pinned_conversation_tab_add").setReason(c);this.$5(c,a)};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("ConversationNotificationListeners",["Bootloader","ConversationNubLogger","FacebookWebNotificationsSubscription","NotificationConstants","NotificationUpdates","once"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("NotificationConstants").PayloadSourceType.LIVE_SEND;function h(){b("NotificationUpdates").subscribe("update-notifications",function(a,c){c.payloadsource===g&&c.readState&&Object.keys(c.readState).length&&b("Bootloader").loadModules(["NotificationConversationController"],function(a){a.handleNotificationsRead(c.readState)},"ConversationNotificationListeners")})}var i=b("once")(function(){h(),b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_PINNED_CONVERSATION",callback:function(a){b("ConversationNubLogger").subscriptionTriggered("graphql"),b("Bootloader").loadModules(["NotificationConversationController"],function(b){b.handleNewNotificationFromGraphQL(a,"notification")},"ConversationNotificationListeners")}})});e.exports={initialize:function(){i()}}}),null);
__d("XWorkUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/user_settings/",{})}),null);
__d("DockNubs",["AsyncRequest","CSS","WorkUserSettings","XWorkUserSettingsUpdateController"],(function(a,b,c,d,e,f){__p&&__p();var g="hidden_elem",h=b("WorkUserSettings").hideDock,i=null,j=[],k={init:function(a){i=a,k.registerSubscriber(k._updateCssClasses)},isVisible:function(){return!h},registerSubscriber:function(a){j.push(a);a(h);return{unsubscribe:function(){k._unregisterSubscriber(a)}}},_unregisterSubscriber:function(a){j=j.filter(function(b){return b!==a})},_updateSubscribers:function(){j.forEach(function(a){return a(h)})},toggleVisibility:function(){if(!i)return;h=!h;this._saveVisibilityPreferences(h);this._updateSubscribers()},_saveVisibilityPreferences:function(a){var c=b("XWorkUserSettingsUpdateController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData({hide_dock:a}).send()},_updateCssClasses:function(){if(!i)return;h?b("CSS").addClass(i,g):b("CSS").removeClass(i,g)}};e.exports=k}),null);
__d("KeyboardShortcutFlyout.react",["cx","fbt","Bootloader","KeyboardShortcuts","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_yqu _2ph_ _2pim",children:b("React").jsx("table",{className:"_67br",children:b("React").jsx("tbody",{children:this.$2()})})})};d.componentDidMount=function(){var a=this;this.$1=b("KeyboardShortcuts").subscribe(["cleanup","token_added"],function(){a.setState({shortcutInfos:b("KeyboardShortcuts").getShortcutInfos()})});b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut_flyout_shown").log()},"KeyboardShortcutFlyout.react")};d.componentWillUnmount=function(){b("KeyboardShortcuts").unsubscribe(this.$1)};d.$2=function(){return this.state.shortcutInfos.length?this.state.shortcutInfos.map(this.$3):h._("No shortcuts on this page")};d.$3=function(a,c){return b("React").jsxs("tr",{className:"_3-12",children:[b("React").jsx("th",{className:"_2pin _52ju",children:a.displayKeys.map(function(c,a){return b("React").jsx("span",{className:"_3-28 _2e42 _653d _52jv",children:c},a)})}),b("React").jsx("td",{className:"_2pin _2pii",children:a.description})]},"shortcut_info_"+c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ReactNub",["csx","DOM","Focus","NubController","Parent","React","ReactDOM","getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$ReactNub4=function(){b("ReactDOM").unmountComponentAtNode(e.$ReactNub1),b("Focus").set(e.$ReactNub3),e.$ReactNub3!==b("getActiveElement")()&&b("Focus").set(e.nubButton)};e.$ReactNub5=function(){e.$ReactNub3=b("getActiveElement")();var a=e.$ReactNub2;b("ReactDOM").render(b("React").jsx(a,{onContentChanged:e.flyoutContentChanged.bind(babelHelpers.assertThisInitialized(e))}),e.$ReactNub1);b("Focus").set(e.closeButton)};e.$ReactNub1=c;e.$ReactNub2=d;d=b("Parent").bySelector(c,"._50-v");a.prototype.init.call(babelHelpers.assertThisInitialized(e),d);b("DOM").empty(c);e.subscribe("hide",e.$ReactNub4);e.subscribe("show",e.$ReactNub5);return e}return c}(b("NubController"));e.exports=a}),null);
__d("FBPaymentsDialogContainerMount",["FBPaymentsDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").jsx(b("FBPaymentsDialogContainer.react"),{}),a)}};e.exports=a}),null);
__d("FantaTabsEagerBootloader",["Bootloader","emptyFunction","ifRequired"],(function(a,b,c,d,e,f){"use strict";var g=function(a){b("ifRequired")("FantaAppStore",function(b){return b.addReducers(a)}),g=b("emptyFunction")};a={bootload:function(){b("ifRequired")("FantaTabsSlimApp",function(a){a.silentPumpUp()}),b("Bootloader").loadModules(["FantaReducersGetMessages","FantaTabsReactApp","MessengerGraphQLThreadFetcher.bs"],function(a){g(a)},"FantaTabsEagerBootloader")}};e.exports=a}),null);
__d("MNCommerceDialogContainerMount",["MNCommerceDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").jsx(b("MNCommerceDialogContainer.react"),{}),a)}};e.exports=a}),null);
__d("P2PDialogContainerMount",["P2PDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").jsx(b("P2PDialogContainer.react"),{}),a)}};e.exports=a}),null);
__d("PagesPlatformDialogContainerMount",["PagesPlatformDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={mount:function(a){b("ReactDOM").render(b("React").jsx(b("PagesPlatformDialogContainer.react"),{}),a)}};e.exports=a}),null);