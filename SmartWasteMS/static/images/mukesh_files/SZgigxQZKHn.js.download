if (self.CavalryLogger) { CavalryLogger.start_js(["23ETG"]); }

__d("GroupPostReactEditWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:GroupPostReactEditWaterfallLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:GroupPostReactEditWaterfallLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:GroupPostReactEditWaterfallLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,post_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ReactComposerFunFactTaggerComponent.react",["cx","FlexLayout.react","React","TextWithEmoticons.react","XUICloseButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("FlexLayout.react"),{align:"center",className:"_mot _3-8j",direction:"vertical",children:[b("React").jsx(b("TextWithEmoticons.react"),{size:24,text:this.props.emoji}),b("React").jsx(b("XUIText.react"),{className:"_2er3 _3-8w",display:"block",size:"header3",children:this.props.title}),this.props.attribution&&b("React").jsx(b("XUIText.react"),{className:"_3-8w",color:"secondary",children:this.props.attribution}),this.props.showCloseButton&&b("React").jsx(b("XUICloseButton.react"),{className:"_2er4",onClick:this.props.onClose})]})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactComposerEditDialog.react",["cx","fbt","Arbiter","Bootloader","DialogExpansion","DOMContainer.react","FBConfirmDialog.react","GroupPostReactEditWaterfallTypedLogger","LayerFadeOnShow","React","ReactComponentWithPureRenderMixin","ReactComposerEvents","ReactComposerHandleUnsavedChanges","ReactComposerMediaUtils","SubscriptionsHandler","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","prop-types","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=600,j=500,k=500;c=b("React").createClass({displayName:"ReactComposerEditDialog",_subscriptions:b("SubscriptionsHandler"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{causalElementRef:(a=b("prop-types")).func.isRequired,composerDOM:a.any.isRequired,composerID:a.string.isRequired,postID:a.any,onDismiss:a.func.isRequired,isSproutsComposer:a.oneOf([null,!0,!1])},getInitialState:function(){return{shown:!0,showConfirmDialog:!1}},UNSAFE_componentWillMount:function(){this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("Arbiter").subscribe(b("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,b("throttle")(this._dismiss,k)))},componentWillUnmount:function(){this._subscriptions.release()},componentDidMount:function(){var a=this.props.postID;a&&new(b("GroupPostReactEditWaterfallTypedLogger"))().setVC().setEvent("COMPOSER_POPUP").setPostID(a).log()},render:function(){var a=this.state.showConfirmDialog?this._renderDismissConfirmation():null;return b("React").jsxs("div",{children:[a,b("React").jsxs(b("XUIDialog.react"),{behaviors:{DialogExpansion:b("DialogExpansion"),LayerFadeOnShow:b("LayerFadeOnShow")},"data-testid":"composer-edit-dialog",causalElementRef:this.props.causalElementRef,className:"_51ly"+(this.props.isSproutsComposer?"":" _3v1e"),shown:this.state.shown,width:this.props.isSproutsComposer?j:i,layerHideOnBlur:!1,children:[b("React").jsxs(b("XUIDialogTitle.react"),{showCloseButton:!1,children:[h._("Edit Post"),b("React").jsx(b("XUICloseButton.react"),{className:"_51-t",label:h._("Close"),onClick:this._showConfirmDialog})]}),b("React").jsx(b("XUIDialogBody.react"),{className:"_51lz",children:b("React").jsx(b("DOMContainer.react"),{children:this.props.composerDOM})})]})]})},_renderDismissConfirmation:function(){return b("React").jsx(b("FBConfirmDialog.react"),{content:b("ReactComposerHandleUnsavedChanges").getUnsavedChangesMessage(this.props.composerID),onCancel:this._cancelDismiss,onConfirm:this._dismiss,onToggle:this._cancelDismiss,shown:!0,title:h._("Discard Changes?"),cancelButtonText:h._("Keep Editing"),confirmButtonText:h._("Discard")})},_showConfirmDialog:function(){this.setState({showConfirmDialog:!0})},_cancelDismiss:function(){this.setState({showConfirmDialog:!1})},_dismiss:function(){var a=this;this.setState({shown:!1,showConfirmDialog:!1});b("Bootloader").loadModules(["TextDelightInComposerLogger"],function(b){b.endFunnel(a.props.composerID)},"ReactComposerEditDialog.react");var c=b("ReactComposerMediaUtils").tryGetVideoXUploader(this.props.composerID);c&&c.cancelUploads();this.props.onDismiss&&this.props.onDismiss()}});e.exports=c}),null);
__d("ReactComposerEditPostUtils",["invariant","ActorURI","ComposerPublisher","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerMediaUploadStore","ReactComposerPostDataUtils","ReactComposerVideoUploadStore","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();a={save:function(a){__p&&__p();!a.composerID&&g(0,93);!a.composerConfig.contextInfo&&g(0,94);!a.targetID&&g(0,95);var c=a.composerID,d=this._isOnMediaEligibleAttachment(c),e=b("ReactComposerPostDataUtils").getPostData(a),f=b("ReactComposerVideoUploadStore").getVideo(c);if(d&&!!f){var h=b("ReactComposerVideoUploadStore").getUploader(c);h&&h.uploadFromFile(f.file,e);return}h=b("ReactComposerMediaUploadStore").getUploads(c);d&&h.size>0&&Object.assign(e,b("ReactComposerPostDataUtils").getMediaUploadsData(c,h));f=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").GROUP_MEET_UP);f&&Object.assign(e,b("ReactComposerPostDataUtils").getGroupMeetupData(c));b("ifRequired")("ReactComposerWorkContentAppAttachmentStore",function(a){Object.assign(e,{multi_share_attachments:Array.from(a.getScrapedAttachments(c).map(function(a){return{type:a.attachmentConfig.type,params:a.attachmentConfig.params}}))})});b("ifRequired")("ReactComposerWorkContentFileUploadStore",function(a){Object.assign(e,{attached_files_data:{files:Array.from(a.getCompletedUploads(c).map(function(a){return{id:a.fileID,handle:a.handleID}}))}})});if(b("ComposerPublisher").getShouldUseGraphQLForEdit(a.actorID,e)){b("ComposerPublisher").publishFromEditDialog(a,e);return}e.delight_ranges&&Object.assign(e,{delight_ranges:JSON.stringify(e.delight_ranges)});d="/composer/edit/"+a.composerConfig.contextInfo.postID;a.actorID&&(d=b("ActorURI").create(d,a.actorID));h=new(b("ReactComposerAsyncRequest"))(a.composerID,d).setData(e).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);h.send()},_isOnMediaEligibleAttachment:function(a){a=b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);return a===b("ReactComposerAttachmentType").MEDIA||a==b("ReactComposerAttachmentType").FIND_PLAYERS}};e.exports=a}),null);
__d("ReactComposerEditStore",["ReactComposerActionStore","ReactComposerEditPostUtils","ReactComposerMediaConfig","ReactComposerPostUtils"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__onPostStarted=function(a){b("ReactComposerEditPostUtils").save({actorID:a.actorID,composerConfig:a.config,composerID:a.composerID,targetID:a.targetID})};d.__canPost=function(a){return!b("ReactComposerPostUtils").isPostButtonDisabled(a.composerID,b("ReactComposerMediaConfig").photo.limit)};return c}(b("ReactComposerActionStore"));e.exports=new a()}),null);
__d("ReactComposerEditMediaSaveButtonContainer.react",["fbt","React","ReactComposerContextTypes","ReactComposerEditStore","ReactComposerMediaPostButtonContainerMixin","prop-types"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ReactComposerEditMediaSaveButtonContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerMediaPostButtonContainerMixin")],propTypes:{label:b("prop-types").string},getDefaultProps:function(){return{label:g._("Save")}},componentDidMount:function(){b("ReactComposerEditStore").registerComposerID(this.context.composerID)}});e.exports=a}),null);
__d("ReactComposerEditSaveButtonContainer.react",["fbt","React","ReactComposerContextTypes","ReactComposerEditStore","ReactComposerPostButtonContainerMixin","prop-types"],(function(a,b,c,d,e,f,g){a=b("React").createClass({displayName:"ReactComposerEditSaveButtonContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPostButtonContainerMixin")],propTypes:{label:b("prop-types").string},getDefaultProps:function(){return{label:g._("Save")}},componentDidMount:function(){b("ReactComposerEditStore").registerComposerID(this.context.composerID)}});e.exports=a}),null);
__d("ReactEditComposer.react",["cx","Arbiter","BootloadedComponent.react","JSResource","React","ReactComposer.react","ReactComposerAsset3dEagerAttachment.react","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerBodyContainer.react","ReactComposerConfig","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactComposerEditMediaSaveButtonContainer.react","ReactComposerEditSaveButtonContainer.react","ReactComposerEvents","ReactComposerFunFactTaggerComponent.react","ReactComposerLoggingName","ReactComposerMarkdownTaggerButton.react","ReactComposerMarkdownTaggerContainer.react","ReactComposerMediaEagerAttachment.react","ReactComposerPrefillConfig","ReactComposerPrefillUtils","ReactComposerStatusEagerAttachment.react","ReactComposerTaggerType","ReactComposerWithSprouts.react","gkx","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").createClass({displayName:"ReactEditComposer",mixins:[b("ReactComposerContextProviderMixin")],propTypes:{children:b("prop-types").arrayOf(b("prop-types").element),contextConfig:b("ReactComposerContextConfig").isRequired,config:b("ReactComposerConfig").isRequired,prefillConfig:b("ReactComposerPrefillConfig").isRequired,triggeredFrom:b("prop-types").oneOf(Object.values(b("ReactComposerLoggingName")))},UNSAFE_componentWillMount:function(){b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig,this.props.contextConfig.gks)},componentDidMount:function(){var a=this.props.prefillConfig;a&&a.selectedAttachment&&(b("ReactComposerAttachmentActions").selectAttachment(this.props.contextConfig.composerID,a.selectedAttachment,a.shouldActivateSelectedAttachment),a.shouldActivateSelectedAttachment&&b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.props.contextConfig.composerID))},render:function(){var a=this.props.prefillConfig.selectedAttachment;a=this._getAttachments(a);var c=this._getFunFactTagger();return this.props.contextConfig.gks&&this.props.contextConfig.gks.isSproutsComposer?b("React").jsx(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{className:"_1nby",loggingConfig:this.props.config.loggingConfig,activateOnInit:!0,activateOnInitEntryPoint:this.props.config.triggeredFrom,sproutsConfig:this.props.config.sproutsConfig},ref:"root",children:b("React").jsxs(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer,children:[c,a,this.props.children]})}):b("React").jsx(b("ReactComposer.react"),{className:"_1nby",loggingConfig:this.props.config.loggingConfig,activateOnInit:!0,activateOnInitEntryPoint:this.props.config.triggeredFrom,children:b("React").jsxs(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer,children:[c,a,this.props.children]})})},_getFunFactTagger:function(){var a;a=(a=this.props.config)!=null?(a=a.taggersConfig)!=null?a[b("ReactComposerTaggerType").FUN_FACT]:a:a;return a&&a.emoji&&a.title?b("React").jsx(b("ReactComposerFunFactTaggerComponent.react"),{emoji:a.emoji,showCloseButton:!1,title:a.title}):null},_getAdditionalTaggersForMediaAttachment:function(){var a=[];this.props.config.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").MARKDOWN]&&this.props.config.taggersConfig[b("ReactComposerTaggerType").MARKDOWN].enabled&&a.push({button:b("React").jsx(b("ReactComposerMarkdownTaggerButton.react"),{},"markdown_button"),container:b("React").jsx(b("ReactComposerMarkdownTaggerContainer.react"),{},"markdown_container")});return a},_getAdditionalTaggersForStatusAttachment:function(){var a=[];this.props.config.taggersConfig&&this.props.config.taggersConfig[b("ReactComposerTaggerType").MARKDOWN]&&this.props.config.taggersConfig[b("ReactComposerTaggerType").MARKDOWN].enabled&&a.push({button:b("React").jsx(b("ReactComposerMarkdownTaggerButton.react"),{},"markdown_button"),container:b("React").jsx(b("ReactComposerMarkdownTaggerContainer.react"),{},"markdown_container")});var c=this._getBreakingNewsTagger();c&&a.push(c);return a},_getBreakingNewsTagger:function(){var a;if(!b("gkx")("678785"))return null;a=(a=this.props.config)!=null?(a=a.taggersConfig)!=null?a[b("ReactComposerTaggerType").BREAKING_NEWS]:a:a;return!a||!a.enabled?null:{button:b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerBreakingNewsButtonContainer.react").__setRef("ReactEditComposer.react"),bootloadPlaceholder:b("React").jsx("div",{}),breakingTaggerConfig:a},"breaking_news_button"),container:b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerBreakingNewsContainer.react").__setRef("ReactEditComposer.react"),bootloadPlaceholder:b("React").jsx("div",{}),pageID:this.props.config.targetData.targetID},"breaking_news_container")}},_getAttachments:function(a){__p&&__p();var c,d=[];d.push(b("React").jsx(b("ReactComposerStatusEagerAttachment.react"),{additionalTaggers:this._getAdditionalTaggersForStatusAttachment(),config:this.props.config,prefillConfig:this.props.prefillConfig,postButtonModule:b("ReactComposerEditSaveButtonContainer.react"),selected:a===(c=b("ReactComposerAttachmentType")).STATUS,scrapeLinkOnInit:!1},"status"));d.push(b("React").jsx(b("ReactComposerMediaEagerAttachment.react"),{additionalTaggers:this._getAdditionalTaggersForMediaAttachment(),config:this.props.config,prefillConfig:this.props.prefillConfig,postButtonModule:b("ReactComposerEditMediaSaveButtonContainer.react"),selected:a===c.MEDIA},"media"));d.push(b("React").jsx(b("ReactComposerAsset3dEagerAttachment.react"),{config:this.props.config,postButtonModule:b("ReactComposerEditSaveButtonContainer.react"),selected:a===c.ASSET_3D},"asset3d"));c=this.props.config.attachmentsConfig[c.FIND_PLAYERS];if(c){c=c.module;c!==null&&d.push(b("React").jsx(c,{config:this.props.config,prefillConfig:this.props.prefillConfig,postButtonModule:b("ReactComposerEditSaveButtonContainer.react"),selected:a===b("ReactComposerAttachmentType").FIND_PLAYERS},"find_players"))}c=this.props.prefillConfig&&this.props.prefillConfig.selectedAttachment===b("ReactComposerAttachmentType").GROUP_MEET_UP;if(c){c=this.props.prefillConfig&&this.props.prefillConfig.groupMeetUpAttachment;var e;c&&(e=c.module);e&&d.push(b("React").jsx(e,{config:this.props.config,prefillConfig:this.props.prefillConfig,selected:a===b("ReactComposerAttachmentType").GROUP_MEET_UP},"group_meetup"))}return d}});e.exports=a}),null);
__d("ReactEditComposerInit",["requireCond","DOM","React","ReactComposerEditDialog.react","ReactComposerInit","ReactDOM","ReactEditComposer.react","Run","cr:1093979"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){a=document.getElementById(a);return a?a.firstElementChild:null}a={_composerDOM:null,_mountContainer:null,init:function(a,c){__p&&__p();var d,e;this._composerDOM=b("DOM").create("div");this._mountContainer=b("DOM").create("div");e=(e=a)!=null?(e=e.config)!=null?(e=e.contextInfo)!=null?e.postID:e:e:e;d=(d=b("cr:1093979"))!=null?d:b("React").Fragment;b("ReactDOM").render(b("React").jsx(d,{children:b("React").jsx(b("ReactComposerEditDialog.react"),{causalElementRef:function(){return g(c.causalContainerID)},composerDOM:this._composerDOM,composerID:a.contextConfig.composerID,postID:e,onDismiss:this._cleanup.bind(this),isSproutsComposer:(d=a)!=null?(d=d.contextConfig)!=null?(d=d.gks)!=null?d.isSproutsComposer:d:d:d})}),this._mountContainer);b("DOM").appendContent(document.body,this._mountContainer);b("ReactComposerInit").init(b("ReactEditComposer.react"),a,this._composerDOM);b("Run").onUnload(this._cleanup.bind(this));b("Run").onLeave(this._cleanup.bind(this))},_cleanup:function(){var a=this;window.setTimeout(function(){a._composerDOM&&b("ReactDOM").unmountComponentAtNode(a._composerDOM),a._mountContainer&&b("ReactDOM").unmountComponentAtNode(a._mountContainer)},0)}};e.exports=a}),null);