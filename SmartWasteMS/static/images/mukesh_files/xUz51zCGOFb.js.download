if (self.CavalryLogger) { CavalryLogger.start_js(["NO\/gZ"]); }

__d("UserLivingRoomCreateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"LivingRoomCreateUserSessionData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"ScalarField",alias:null,name:"client_mutation_id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UserLivingRoomCreateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_create_user_session",storageKey:null,args:b,concreteType:"LivingRoomCreateUserSessionResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"UserLivingRoomCreateMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"living_room_create_user_session",storageKey:null,args:b,concreteType:"LivingRoomCreateUserSessionResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"living_room",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d]}]}]},params:{operationKind:"mutation",name:"UserLivingRoomCreateMutation",id:"1802932456493149",text:null,metadata:{}}}}();e.exports=a}),null);
__d("TopicFeedsConstant",[],(function(a,b,c,d,e,f){a={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3e3,DEFAULT_PHOTO_POLLING_DURATION:1e4,DEFAULT_PHOTO_POLLING_INTERVAL:1e3,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3e3,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};e.exports=a}),null);
__d("InstantGamesSharesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesSharesLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesSharesLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:InstantGamesSharesLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAudience=function(a){this.$1.audience=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPrivacy=function(a){this.$1.privacy=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setTargetPlatform=function(a){this.$1.target_platform=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,audience:!0,event:!0,privacy:!0,source:!0,target_platform:!0,time:!0,type:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerWebBroadcastFlowTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebBroadcastFlowLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebBroadcastFlowLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebBroadcastFlowLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setContainsMessageCaption=function(a){this.$1.contains_message_caption=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFlowType=function(a){this.$1.flow_type=a;return this};c.setRecipientCount=function(a){this.$1.recipient_count=a;return this};c.setSection=function(a){this.$1.section=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setShareID=function(a){this.$1.share_id=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTriggeredFrom=function(a){this.$1.triggered_from=a;return this};c.setUserID=function(a){this.$1.user_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={contains_message_caption:!0,event:!0,flow_type:!0,recipient_count:!0,section:!0,session_id:!0,share_id:!0,thread_id:!0,time:!0,triggered_from:!0,user_id:!0,weight:!0};e.exports=a}),null);
__d("BasePrivacyWidget",["Arbiter","ArbiterMixin","DOM","Form","PrivacyConst"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PrivacyConst").BaseValue;function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a,b,c,d){this._controllerId=b,this._root=a,this._options=Object.assign(d||{},c),this._formDataKey="privacy_data"},getData:function(){return this._model.getData()},_getPrivacyData:function(a){a=a||this._fbid;var b={};b[a]=this.getData();return b},getRoot:function(){return this._root},_initMenu:function(a){this._menu=a,this._menu.subscribe("itemclick",this._onMenuSelect.bind(this))},_isCustomSetting:function(a){return a==g.CUSTOM},_isEveryoneSetting:function(a){return a==g.EVERYONE},_updateSelector:function(a){a=this._model.value;if(!this._isCustomSetting(a)){this._onPrivacyChanged();return}},_onPrivacyChanged:function(){this._saveFormData(),b("Arbiter").inform("Form/change",{node:this.getRoot()}),this.inform("privacyChanged",this.getData()),b("Arbiter").inform("UIPrivacyWidget/globalPrivacyChanged",{fbid:this._fbid,data:this.getData()})},_saveFormData:function(){var a=b("DOM").find(this.getRoot(),"div.UIPrivacyWidget_Form");b("DOM").empty(a);var c={};this._options.useLegacyFormData?c[this._formDataKey]=this.getData():c[this._formDataKey]=this._getPrivacyData();b("Form").createHiddenInputs(c,a)}});e.exports=a}),null);
__d("TargetedPrivacyConsts",[],(function(a,b,c,d,e,f){a={GENDER_BOTH:0,GENDER_MALE:1,GENDER_FEMALE:2,LOC_ALL:0,LOC_REGION:1,LOC_CITY:2};e.exports=a}),null);
__d("TargetedPrivacyModel",["PrivacyConst","TargetedPrivacyConsts"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PrivacyConst").BaseValue;function a(){__p&&__p();this.value=g.EVERYONE;this.countries=[];this.countries_names=[];this.location_type=b("TargetedPrivacyConsts").LOC_ALL;this.location_ids=[];this.location_ids_names=[];this.locales=[];this.locales_names=[];this.gender=b("TargetedPrivacyConsts").GENDER_BOTH;this.age_min=0;this.age_max=0;return this}Object.assign(a.prototype,{init:function(a,b,c,d,e,f,g,h,i,j,k,l,m){this.value=a,this.countries=b.slice(),this.countries_names=c.slice(),this.location_type=d,this.location_ids=e.slice(),this.location_ids_names=f.slice(),this.age_min=g,this.age_max=h,this.gender=i,this.locales=j!=null?j.slice():[],this.locales_names=k!=null?k.slice():[],this.see_regions=m,this.see_cities=l},getData:function(){__p&&__p();var a={};if(this.value==g.EVERYONE)return a;var b=["countries","location_type","location_ids","age_min","age_max","gender","locales"];for(var c=0;c<b.length;++c){var d=b[c];a[d]=this[d]}a.genders=a.gender;return a}});e.exports=a}),null);
__d("UITargetedPrivacyWidget",["fbt","ArbiterMixin","AsyncRequest","BasePrivacyWidget","Dialog","MenuSelectableItem","PrivacyConst","TargetedPrivacyModel","Tooltip","classWithMixins","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d,e,f,g,h,i,j,k){__p&&__p();var l;l=a.call(this)||this;var m={useLegacyFormData:!0};l.init(e,f,m,k);l._profileId=g;l._model=new(b("TargetedPrivacyModel"))();l._formDataKey="targeted_privacy_data";l._button=h;l._everyoneItem=l._retrieveEveryoneItem(d);l._customItem=l._retrieveCustomItem(d);l._defaultTooltip=i;l._shouldDisplayTooltip=j;c.instances[l._controllerId]=babelHelpers.assertThisInitialized(l);l._initMenu(d);l._saveFormData();return l}var d=c.prototype;d._onMenuSelect=function(a,c){a=c.item;if(!a instanceof b("MenuSelectableItem"))return;c=a.getValue();c==b("PrivacyConst").BaseValue.EVERYONE&&(this._model=new(b("TargetedPrivacyModel"))());this._saveFormData();this._updateSelector();this._updateTooltipForButtonFromItem(a);this._isCustomSetting(c)&&this._showDialog()};d._updateTooltipForButtonFromItem=function(a){if(!this._shouldDisplayTooltip)return;a=a.getValue();this._isCustomSetting(a)?b("Tooltip").set(this._button,g._("Custom")):b("Tooltip").set(this._button,this._defaultTooltip)};d.reset=function(){this._model=new(b("TargetedPrivacyModel"))();this._updateSelector();this._saveFormData();return this};d.setProfileID=function(a){this._profileId=a};d._showDialog=function(){var a={controller_id:this._controllerId,profile_id:this._profileId};this._dialog=new(b("Dialog"))().setAsync(new(b("AsyncRequest"))().setURI(c.DIALOG_URI).setData(a)).setModal(!0).show()};d._updateSelector=function(b){b===void 0&&(b=!1),a.prototype._updateSelector.call(this),b&&!this._isCustomSetting(this._model.value)&&(this._everyoneItem.select(),this._customItem.deselect(),this._updateTooltipForButtonFromItem(this._everyoneItem),this._menu.inform("change",this._menu.getSelection()))};d._retrieveEveryoneItem=function(a){return this._retrieveTargetItem(a,this._isEveryoneSetting)};d._retrieveCustomItem=function(a){return this._retrieveTargetItem(a,this._isCustomSetting)};d._retrieveTargetItem=function(a,c){return a._items.find(function(a){return a instanceof b("MenuSelectableItem")&&c(a.getValue())})};c.getInstance=function(a){return this.instances[a]};return c}(b("classWithMixins")(b("BasePrivacyWidget"),b("mixin")(b("ArbiterMixin"))));Object.assign(a,{DIALOG_URI:"/ajax/privacy/targeted_privacy_widget_dialog.php",instances:{}});e.exports=a}),null);
__d("FBStoriesPrivacySelectorLoadingContainerBootloader.react",["FBStoriesPrivacySelectorLoadingPlaceholder.react","JSResource","React","lazyLoadComponent","uuid"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("FBStoriesPrivacyRelaySelectorLoadingContainer.react").__setRef("FBStoriesPrivacySelectorLoadingContainerBootloader.react"));a=function(a){var c;c=(c=a.sessionKey)!=null?c:b("uuid")();return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("FBStoriesPrivacySelectorLoadingPlaceholder.react"),{}),children:b("React").jsx(g,babelHelpers["extends"]({},a,{sessionKey:c}))})};e.exports=a}),null);
__d("UserLivingRoomCreateMutation",["RelayFBEnvironment","RelayModern","UserLivingRoomCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UserLivingRoomCreateMutation.graphql");function a(a,c,d){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("ReactComposerTopicFeedsTaggerActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},"ReactComposerTopicFeedsTaggerActionType")}),null);
__d("ReactComposerTopicFeedsTaggerActions",["ReactComposerDispatcher","ReactComposerTopicFeedsTaggerActionType"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.addTag=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,topicID:c,type:b("ReactComposerTopicFeedsTaggerActionType").USER_ADD_TAG})};c.removeTag=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,topicID:c,type:b("ReactComposerTopicFeedsTaggerActionType").USER_REMOVE_TAG})};c.setDarkLaunch=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,isDarkLaunch:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_DARK_LAUNCH})};c.setPhotoAutoTaggingDelay=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,delay:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_AUTO_TAGGING_DELAY})};c.setPhotoPollingDuration=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,duration:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_DURATION})};c.setPhotoPollingInterval=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,interval:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_INTERVAL})};c.setTaggerMounted=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,isMounted:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED})};c.setTextAutoTaggingDelay=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,delay:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_TEXT_AUTO_TAGGING_DELAY})};c.updateTags=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,topics:c,type:b("ReactComposerTopicFeedsTaggerActionType").SERVER_UPDATE_TAGS})};c.prefillTags=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,topicIDs:c,type:b("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS})};c.setComposerFeedID=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,composerFeedID:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_COMPOSER_FEED_ID})};c.setReshareURL=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,reshareURL:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_RESHARE_URL})};c.setTargetID=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,targetID:c,type:b("ReactComposerTopicFeedsTaggerActionType").SET_TARGET_ID})};return a}();e.exports=new a()}),null);
__d("XFeedTopicClassifierController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/topic/classifier/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:!1},classification_session_id:{type:"String"},sequence_number:{type:"Int"}})}),null);
__d("ReactComposerTopicFeedsAutoTaggingRequester",["AsyncRequest","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTopicFeedsTaggerActions","ReactComposerTopicFeedsTaggerStore","XFeedTopicClassifierController","emptyFunction","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3;a=function(){"use strict";__p&&__p();function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=Date.now()}var c=a.prototype;c.sendThrottledRequest=function(a,b){var c=this;if(this.$1.has(a))return;this.$1.set(a,setTimeout(function(){c.sendImmediateRequest(a),c.$1["delete"](a)},b||g))};c.sendPhotoPollingRequest=function(a,b,c){var d=this;this.$5(a);var e=[];for(var f=c;f<=b;f+=c)e.push(setTimeout(function(){return d.sendImmediateRequest(a)},f));this.$2.set(a,e)};c.$5=function(a){var b=this.$2.get(a);b&&(b.forEach(function(a){clearTimeout(a)}),this.$2["delete"](a))};c.sendImmediateRequest=function(a){__p&&__p();var c=this,d=b("ReactComposerStatusStore").getMessageText(a),e=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION);e=e.place&&e.place.getUniqueID();var f=b("ReactComposerMediaUploadStore").getUploadsOfType(a,b("ReactComposerMediaUploadType").PHOTO).map(function(a){return a.photoID}).toArray().filter(function(a){return a}),g=null,h=b("ReactComposerTopicFeedsTaggerStore").getReshareURL(a);h||(h=b("ReactComposerScrapedAttachmentStore").getMarkup(a)&&b("ReactComposerScrapedAttachmentStore").getPermissiveMatch(a));h&&(g=[h]);h=this.$6(b("ReactComposerStatusStore").getEditorState(a));var i=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[];i=i.map(function(a){return a.getUniqueID()});var j=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").ACTIVITY),k=null,l=null,m=null;j&&j.action&&j.object&&(k=j.action.getUniqueID(),isNaN(j.object.getUniqueID())?m=j.object.getUniqueID():l=j.object.getUniqueID());var n=b("ReactComposerTopicFeedsTaggerStore").getNextPredictionSequenceNumber(a);j=b("ReactComposerTopicFeedsTaggerStore").getTargetID(a);var o=b("uuid")(),p=Date.now();d=b("XFeedTopicClassifierController").getURIBuilder().setString("message",d).setFBID("place_tag_id",e).setFBIDVector("photo_ids",f).setHackType("mentions",h).setFBIDVector("tagged_profile_ids",i).setStringVector("urls",g).setString("session_id",b("ReactComposerLoggingStore").getSessionID(a)).setFBID("minutiae_action_id",k).setFBID("minutiae_object_id",l).setString("minutiae_object_string",m).setFBID("target_ent_id",j).setHackType("topics",b("ReactComposerTopicFeedsTaggerStore").getComposerData(a).topicsInfoList.toArray()).setString("classification_session_id",o).setInt("sequence_number",n).getURI();new(b("AsyncRequest"))(d).setHandler(function(b){return c.$7(b,a,o,p,n)}).send()};c.clearAllPendingRequests=function(a){if(!this.$1.has(a))return;clearTimeout(this.$1.get(a));this.$5(a);this.$1["delete"](a);this.$4=Date.now()};c.updatePostStatus=function(a,b){this.$3.set(a,b)};c.$7=function(a,c,d,e,f){if(!a||!a.payload)return;d=!0;this.$3.get(c)?d=!1:e<this.$4&&(d=!1);d&&(this.$4=e,b("ReactComposerTopicFeedsTaggerActions").updateTags(c,a.payload))};c.$6=function(a){__p&&__p();if(!a)return[];var c=a.getCurrentContent(),d=[];c.getBlockMap().forEach(function(a){a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(b,e){var f=a.getEntityAt(b);if(!f)return;f=c.getEntity(f);if(f.getType()!=="MENTION")return;d.push({mention_id:f.getData().id,mention_type:f.getData().type,offset:b,length:e-b})})});return d};return a}();e.exports=new a()}),null);
__d("ReactComposerTopicFeedsTaggerStore",["invariant","ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentActionType","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType","ReactComposerTopicFeedsAutoTaggingRequester","ReactComposerTopicFeedsTaggerActionType","TopicFeedsConstant","immutable"],(function(a,b,c,d,e,f,g){__p&&__p();var h=(a=b("TopicFeedsConstant")).DEFAULT_PHOTO_AUTO_TAGGING_DELAY,i=a.DEFAULT_PHOTO_POLLING_DURATION,j=a.DEFAULT_PHOTO_POLLING_INTERVAL,k=a.DEFAULT_TEXT_AUTO_TAGGING_DELAY,l=a.TOPIC_CONFIDENCE_USER_ADD,m=a.TOPIC_CONFIDENCE_USER_REMOVE,n=a.TOPIC_CONFIDENCE_BOOTSTRAP;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{autoTaggingEnabled:!0,photoAutoTaggingDelay:h,photoPollingDuration:i,photoPollingInterval:j,reshareURL:null,sequenceCounter:0,topicsInfoList:b("immutable").List(),taggerEnabled:!1,targetID:null,textAutoTaggingDelay:k}},function(a){__p&&__p();if(!d)return;var c=d.validateAction(a,"composerID");if(!d.getIsTaggerEnabled(c)&&!d.$ReactComposerTopicFeedsTaggerStore1(a))return;switch(a.type){case b("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED:d.$ReactComposerTopicFeedsTaggerStore2(a);break;case b("ReactComposerTopicFeedsTaggerActionType").USER_ADD_TAG:d.$ReactComposerTopicFeedsTaggerStore3(a);break;case b("ReactComposerTopicFeedsTaggerActionType").USER_REMOVE_TAG:d.$ReactComposerTopicFeedsTaggerStore4(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SERVER_UPDATE_TAGS:d.$ReactComposerTopicFeedsTaggerStore5(a);break;case b("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS:d.$ReactComposerTopicFeedsTaggerStore6(a);break;case b("ReactComposerStatusActionType").SET_EDITOR_STATE:d.$ReactComposerTopicFeedsTaggerStore7(a);break;case b("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:b("ReactComposerDispatcher").waitFor([b("ReactComposerMediaUploadStore").getDispatchToken()]);d.$ReactComposerTopicFeedsTaggerStore8(a);break;case b("ReactComposerActionTypes").POST_STARTED:d.$ReactComposerTopicFeedsTaggerStore9(a);break;case b("ReactComposerActionTypes").POST_ERROR:d.$ReactComposerTopicFeedsTaggerStore10(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_COMPOSER_FEED_ID:d.$ReactComposerTopicFeedsTaggerStore11(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_TEXT_AUTO_TAGGING_DELAY:d.$ReactComposerTopicFeedsTaggerStore12(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_AUTO_TAGGING_DELAY:d.$ReactComposerTopicFeedsTaggerStore13(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_DURATION:d.$ReactComposerTopicFeedsTaggerStore14(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_PHOTO_POLLING_INTERVAL:d.$ReactComposerTopicFeedsTaggerStore15(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_DARK_LAUNCH:d.$ReactComposerTopicFeedsTaggerStore16(a);break;case b("ReactComposerTaggerActionType").SET_TAGGER_DATA:d.$ReactComposerTopicFeedsTaggerStore17(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_RESHARE_URL:d.$ReactComposerTopicFeedsTaggerStore18(a);break;case b("ReactComposerTopicFeedsTaggerActionType").SET_TARGET_ID:d.$ReactComposerTopicFeedsTaggerStore19(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:d.$ReactComposerTopicFeedsTaggerStore20(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getComposerFeedID=function(a){return this.getComposerData(a).composerFeedID};d.getUserAddedTopics=function(a){return this.getComposerData(a).topicsInfoList.filter(function(a){return a.confidence===l}).map(function(a){return a.feed_id})};d.getUserRemovedTopics=function(a){return this.getComposerData(a).topicsInfoList.filter(function(a){return a.confidence===m}).map(function(a){return a.feed_id})};d.getTaggedTopics=function(a){return this.getComposerData(a).topicsInfoList.filter(function(a){return a.confidence>0}).map(function(a){return a.feed_id})};d.getIsTaggerEnabled=function(a){return this.getComposerData(a).taggerEnabled};d.getIsDarkLaunch=function(a){return this.getComposerData(a).isDarkLaunch};d.getReshareURL=function(a){return this.getComposerData(a).reshareURL};d.getTargetID=function(a){return this.getComposerData(a).targetID};d.getNextPredictionSequenceNumber=function(a){return++this.getComposerData(a).sequenceCounter};d.$ReactComposerTopicFeedsTaggerStore1=function(a){return a.type===b("ReactComposerTopicFeedsTaggerActionType").SET_TAGGER_MOUNTED||a.type===b("ReactComposerTopicFeedsTaggerActionType").PREFILL_TAGS};d.$ReactComposerTopicFeedsTaggerStore2=function(a){a=this.validateAction(a,["composerID","isMounted"]);var b=a[0];a=a[1];b=this.getComposerData(b);b.taggerEnabled=a};d.$ReactComposerTopicFeedsTaggerStore3=function(a){__p&&__p();a=this.validateAction(a,["composerID","topicID"]);var c=a[0],d=a[1];a=this.getComposerData(c);var e={feed_id:d,confidence:l,context:""},f=a.topicsInfoList.findIndex(function(a){return a.feed_id===d});if(f>=0){var h=a.topicsInfoList.get(f);h.confidence===m||g(0,4067);e.context=h.context;a.topicsInfoList=a.topicsInfoList["delete"](f)}a.topicsInfoList=a.topicsInfoList.push(e);a.autoTaggingEnabled=!1;b("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(c);this.emitChange(c)};d.$ReactComposerTopicFeedsTaggerStore4=function(a){__p&&__p();a=this.validateAction(a,["composerID","topicID"]);var c=a[0],d=a[1];a=this.getComposerData(c);var e=a.topicsInfoList.findIndex(function(a){return a.feed_id===d});e>=0||g(0,2460);var f={feed_id:d,confidence:m,context:a.topicsInfoList.get(e).context};a.topicsInfoList=a.topicsInfoList["delete"](e);a.topicsInfoList=a.topicsInfoList.push(f);b("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(c);b("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(c);a.autoTaggingEnabled=!1;this.emitChange(c)};d.$ReactComposerTopicFeedsTaggerStore5=function(a){a=this.validateAction(a,["composerID","topics"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.autoTaggingEnabled&&(d.topicsInfoList=b("immutable").List(a),this.emitChange(c))};d.$ReactComposerTopicFeedsTaggerStore6=function(a){a=this.validateAction(a,["composerID","topicIDs"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.topicsInfoList=b("immutable").List(a.map(function(a){return{feed_id:a,confidence:n,context:""}}));this.emitChange(c)};d.$ReactComposerTopicFeedsTaggerStore7=function(a){a=this.validateAction(a,["composerID","editorState"]);var c=a[0];a=a[1];this.getComposerData(c).autoTaggingEnabled&&a.getCurrentContent().getPlainText().length>0&&b("ReactComposerTopicFeedsAutoTaggingRequester").sendThrottledRequest(c,this.getComposerData(c).textAutoTaggingDelay)};d.$ReactComposerTopicFeedsTaggerStore11=function(a){a=this.validateAction(a,["composerID","composerFeedID"]);var b=a[0];a=a[1];this.getComposerData(b).composerFeedID=a};d.$ReactComposerTopicFeedsTaggerStore8=function(a){a=this.validateAction(a,"composerID");this.getComposerData(a).autoTaggingEnabled&&b("ReactComposerTopicFeedsAutoTaggingRequester").sendPhotoPollingRequest(a,this.getComposerData(a).photoPollingDuration,this.getComposerData(a).photoPollingInterval)};d.$ReactComposerTopicFeedsTaggerStore9=function(a){a=this.validateAction(a,"composerID");b("ReactComposerTopicFeedsAutoTaggingRequester").clearAllPendingRequests(a);b("ReactComposerTopicFeedsAutoTaggingRequester").updatePostStatus(a,!0);this.getComposerData(a).autoTaggingEnabled=!1};d.$ReactComposerTopicFeedsTaggerStore10=function(a){a=this.validateAction(a,"composerID");this.getComposerData(a).autoTaggingEnabled=!0;b("ReactComposerTopicFeedsAutoTaggingRequester").updatePostStatus(a,!1)};d.$ReactComposerTopicFeedsTaggerStore12=function(a){a=this.validateAction(a,["composerID","delay"]);var b=a[0];a=a[1];this.getComposerData(b).textAutoTaggingDelay=a};d.$ReactComposerTopicFeedsTaggerStore13=function(a){a=this.validateAction(a,["composerID","delay"]);var b=a[0];a=a[1];this.getComposerData(b).photoAutoTaggingDelay=a};d.$ReactComposerTopicFeedsTaggerStore14=function(a){a=this.validateAction(a,["composerID","duration"]);var b=a[0];a=a[1];this.getComposerData(b).photoPollingDuration=a};d.$ReactComposerTopicFeedsTaggerStore15=function(a){a=this.validateAction(a,["composerID","interval"]);var b=a[0];a=a[1];this.getComposerData(b).photoPollingInterval=a};d.$ReactComposerTopicFeedsTaggerStore17=function(a){a=this.validateAction(a,["composerID","taggerID","taggerData"]);var c=a[0],d=a[1];a=a[2];(d===b("ReactComposerTaggerType").ACTIVITY&&a.object||d===b("ReactComposerTaggerType").PEOPLE&&a.length>0||d===b("ReactComposerTaggerType").LOCATION&&a.place)&&b("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(c)};d.$ReactComposerTopicFeedsTaggerStore16=function(a){a=this.validateAction(a,["composerID","isDarkLaunch"]);var b=a[0];a=a[1];this.getComposerData(b).isDarkLaunch=a};d.$ReactComposerTopicFeedsTaggerStore18=function(a){a=this.validateAction(a,["composerID","reshareURL"]);var c=a[0];a=a[1];this.getComposerData(c).reshareURL=a;b("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(c)};d.$ReactComposerTopicFeedsTaggerStore19=function(a){a=this.validateAction(a,["composerID","targetID"]);var b=a[0];a=a[1];this.getComposerData(b).targetID=a};d.$ReactComposerTopicFeedsTaggerStore20=function(a){a=this.validateAction(a,"composerID");b("ReactComposerTopicFeedsAutoTaggingRequester").sendImmediateRequest(a)};return c}(b("ReactComposerStoreBase"));e.exports=new c()}),null);
__d("XPagesShareActorListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/actors/",{target_id:{type:"Int",required:!0}})}),null);
__d("ShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XPagesShareActorListController"],(function(a,b,c,d,e,f){__p&&__p();var g=110;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actorIDs:[],loading:!0,selectedActorID:null},c.$3=function(a){c.setState({selectedActorID:a.value}),c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.render=function(){return!this.state.actorIDs||!this.state.selectedActorID?b("React").jsx("div",{}):b("React").jsx(b("ActorSelector.react"),{disabled:this.props.disabled,actorIDs:this.state.actorIDs,coverEnabled:!1,loading:this.state.loading,onChange:this.$3,ref:"selector",useProfileActorSelector:this.props.suppressButton,selectedActorID:this.state.selectedActorID,showName:!this.props.suppressButton,showNameMaxWidth:g,suppressed:this.props.suppressButton||this.state.actorIDs.length===1})};d.componentDidUpdate=function(a){this.props.targetID!==a.targetID&&this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.$2=function(){var a=this;this.setState({loading:!0});var c=b("XPagesShareActorListController").getURIBuilder().setInt("target_id",this.props.targetID).getURI();this.$1=new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b=b.getPayload().actorIDs;var c=a.props.targetID;a.setState({actorIDs:b,loading:!1,selectedActorID:c});a.props.onChange({value:c})});this.$1.send()};return c}(b("React").Component);e.exports=a}),null);
__d("XShareConfirmationDisplayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/confirmation_display/",{post_id:{type:"String",required:!0}})}),null);
__d("ShareConfirmationController",["csx","cx","AsyncRequest","DOM","Locale","React","ReactDOM","ShareConfirmationConfig","XShareConfirmationDisplayController","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={tryDisplayShareInFeed:function(a,c){__p&&__p();if(!b("ShareConfirmationConfig").display_reshares_in_feed)return;var d="^div._3lb4";c=b("DOM").scry(c,d);d=c.length===1?c[0]:void 0;if(d&&a&&a.object_id&&a.is_wall_share){var e=b("DOM").create("div");b("DOM").appendContent(d,e);this.populatePlaceholderDiv(e);c=b("XShareConfirmationDisplayController").getURIBuilder().setString("post_id",a.object_id);new(b("AsyncRequest"))().setHandler(function(a){a&&a.payload&&a.payload.success||b("DOM").remove(e)}).setErrorHandler(function(){b("DOM").remove(e)}).setRelativeTo(e).setURI(c.getURI()).setAllowCrossPageTransition(!0).send()}},populatePlaceholderDiv:function(a){b("ReactDOM").render(b("React").jsx(b("XUICard.react"),{className:b("joinClasses")("_2iwp","_vaz"),children:b("React").jsx("div",{className:(b("Locale").isRTL()?"direction_rtl":"")+" _2iwo _va-",children:b("React").jsxs("div",{className:"_2iwq",children:[b("React").jsx("div",{className:"_2iwr"}),b("React").jsx("div",{className:"_2iws"}),b("React").jsx("div",{className:"_2iwt"}),b("React").jsx("div",{className:"_2iwu"}),b("React").jsx("div",{className:"_2iwv"}),b("React").jsx("div",{className:"_2iww"}),b("React").jsx("div",{className:"_2iwx"}),b("React").jsx("div",{className:"_2iwy"}),b("React").jsx("div",{className:"_2iwz"}),b("React").jsx("div",{className:"_2iw-"}),b("React").jsx("div",{className:"_2iw_"}),b("React").jsx("div",{className:"_2ix0"})]})})}),a)}};e.exports=a}),null);
__d("ShareDialogAttachment.react",["cx","fbt","Link.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={expanded:!1},c.$1=function(){c.state.expanded?c.props.onCollapse():c.props.onExpand(),c.setState(function(a){a=a.expanded;return{expanded:!a}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=null;if(this.props.overflowing){var c;this.state.expanded?c=b("React").jsxs("span",{children:[b("React").jsx("span",{className:"_u_1",children:"\u2191"}),"\xa0",h._("Collapse")]}):c=b("React").jsxs("span",{children:[h._("Show All"),"\xa0",b("React").jsx("span",{className:"_u_1",children:"\u2193"})]});a=b("React").jsx("p",{className:"_u_2",children:b("React").jsx(b("Link.react"),{className:"_u_3",onClick:this.$1,children:c})})}c="_u_4 _5p9g"+(this.props.overflowing&&!this.state.expanded?" _u_5":"");return b("React").jsxs("div",{className:c,children:[a,this.props.children]})};return c}(b("React").Component);a.defaultProps={overflowing:!1,onExpand:b("emptyFunction"),onCollapse:b("emptyFunction")};e.exports=a}),null);
__d("ShareDialogDropdownForSharePostOrLink.react",["fbt","React","XUICheckboxInput.react","cxMargin","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h="post_and_link",i="link_only";f.framework="React";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={value:i},c.onChange=function(a){c.setState({value:a?i:h}),c.props.onSelectSharePostOrLink(!a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onSelectSharePostOrLink(this.state.value===h)};d.render=function(){return b("React").jsxs("div",{className:"_3-9a",children:[b("React").jsx(b("XUICheckboxInput.react"),{name:"share type",checked:this.state.value===h,onChange:this.onChange.bind(this,this.state.value===h)}),g._("Include Original Post")]})};return c}(b("React").Component);a.propTypes={onSelectSharePostOrLink:b("prop-types").func};a.defaultProps={onSelectSharePostOrLink:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerShareNowActionTypes",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({ADD_TO_STORY:null,ADD_TO_STORY_NOW:null,CANCEL_SHARE:null,OPEN_FRIEND_TIMELINE_DIALOG:null,OPEN_INVITE_FRIENDS_TO_DONATE:null,OPEN_MESSAGE_DIALOG:null,OPEN_SHARE_DIALOG:null,OPEN_SHARE_TO_GROUP:null,OPEN_SHARE_TO_PAGE:null,OPEN_START_WATCH_PARTY:null,SHARE_NOW:null,SHARE_PUBLISH_STARTED:null,SHOW_SHARENOW_MENU:null})}),null);
__d("ReactComposerShareNowActions",["ReactComposerDispatcher","ReactComposerShareNowActionTypes"],(function(a,b,c,d,e,f){__p&&__p();a={showShareNowMenu:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").SHOW_SHARENOW_MENU,suppressWaterfallLogging:!0})},clickShareNow:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").SHARE_NOW,suppressWaterfallLogging:!0})},clickWritePost:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_DIALOG,suppressWaterfallLogging:!0})},clickAddToStoryNow:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").ADD_TO_STORY_NOW,suppressWaterfallLogging:!0})},clickAddToStory:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").ADD_TO_STORY,suppressWaterfallLogging:!0})},clickStartWatchParty:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_START_WATCH_PARTY,suppressWaterfallLogging:!0})},clickSendMessage:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_MESSAGE_DIALOG,suppressWaterfallLogging:!0})},clickShareFriendTimeline:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_FRIEND_TIMELINE_DIALOG,suppressWaterfallLogging:!0})},clickShareToGroup:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_GROUP,suppressWaterfallLogging:!0})},clickShareToPage:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_SHARE_TO_PAGE,suppressWaterfallLogging:!0})},clickInviteFriendsToDonate:function(){b("ReactComposerDispatcher").dispatch({composerID:"",type:b("ReactComposerShareNowActionTypes").OPEN_INVITE_FRIENDS_TO_DONATE,suppressWaterfallLogging:!0})},cancelShare:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerShareNowActionTypes").CANCEL_SHARE})},clickPost:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerShareNowActionTypes").SHARE_PUBLISH_STARTED})}};e.exports=a}),null);
__d("DialogExpansionAtWidth",["DialogExpansion"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c._getWidth=function(){return this._dialog.getWidth()};return b}(b("DialogExpansion"));e.exports=a}),null);
__d("ReactShareDialogComposerActionType",["keyMirror"],(function(a,b,c,d,e,f){e.exports=b("keyMirror")({SET_SHOULD_CREATE_LIVING_ROOM:null,SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null,SET_VIDEO_CLIP_START_TIME:null,SET_VIDEO_CLIP_SELECTION:null})}),null);
__d("ReactShareDialogComposerStore",["ReactComposerStoreBase","ReactShareDialogComposerActionType"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;c=a.call(this,function(){return{createLivingRoom:!1,target:null,targetInfo:{}}},function(a){__p&&__p();switch(a.type){case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET:d&&d.$ReactShareDialogComposerStore1(a);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO:d&&d.$ReactShareDialogComposerStore2(a);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:d&&d.$ReactShareDialogComposerStore3(a);break;case b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE:d&&d.$ReactShareDialogComposerStore4(a);break;case b("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE:d&&d.$ReactShareDialogComposerStore5(a);break;case b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_START_TIME:d&&d.$ReactShareDialogComposerStore6(a);break;case b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_SELECTION:d&&d.$ReactShareDialogComposerStore7(a);break;case b("ReactShareDialogComposerActionType").SET_SHOULD_CREATE_LIVING_ROOM:d&&d.$ReactShareDialogComposerStore8(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getTarget=function(a){return this.getComposerData(a).target};d.getTargetInfo=function(a){return this.getComposerData(a).targetInfo};d.getTargetedPrivacyData=function(a){return this.getComposerData(a).targetedPrivacyData};d.getShareDialogType=function(a){return this.getComposerData(a).shareType};d.getShareToGroupsAsPage=function(a){return!!this.getComposerData(a).shareToGroupsAsPage};d.getVideoStartTimeMs=function(a){return this.getComposerData(a).videoStartTimeMs};d.isTimestampShare=function(a){return this.getComposerData(a).isTimestampShare};d.getShouldCreateLivingRoom=function(a){return this.getComposerData(a).createLivingRoom};d.$ReactShareDialogComposerStore1=function(a){var b=this.getComposerData(a.composerID);b.target=a.target;this.emitChange(a.composerID)};d.$ReactShareDialogComposerStore2=function(a){var b=this.getComposerData(a.composerID);b.targetInfo=a.targetInfo;this.emitChange(a.composerID)};d.$ReactShareDialogComposerStore3=function(a){var b=this.getComposerData(a.composerID);b.targetedPrivacyData=a.targetedPrivacyData;this.emitChange(a.composerID)};d.$ReactShareDialogComposerStore4=function(a){var b=this.getComposerData(a.composerID);b.shareType=a.shareType;this.emitChange(a.composerID)};d.$ReactShareDialogComposerStore5=function(a){var b=this.getComposerData(a.composerID);b.shareToGroupsAsPage=a.shareToGroupsAsPage;this.emitChange(a.composerID)};d.$ReactShareDialogComposerStore6=function(a){var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.videoStartTimeMs=a.videoStartTimeMs;c.isTimestampShare=a.isTimestampShare;this.emitChange(b)};d.$ReactShareDialogComposerStore7=function(a){var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.isTimestampShare=a.isTimestampShare;this.emitChange(b)};d.$ReactShareDialogComposerStore8=function(a){var b=this.validateAction(a,["composerID"]),c=this.getComposerData(b);c.createLivingRoom=a.createLivingRoom;this.emitChange(b)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactShareDialogComposerActions",["ReactComposerDispatcher","ReactShareDialogComposerActionType","ReactShareDialogComposerStore"],(function(a,b,c,d,e,f){__p&&__p();b("ReactShareDialogComposerStore");a={setTarget:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET,target:c})},setTargetInfo:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO,targetInfo:c})},setTargetedPrivacyData:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA,targetedPrivacyData:c})},setTypeOfShare:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE,shareType:c})},setShareToGroupAsPage:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE,shareToGroupsAsPage:c})},setVideoStartTime:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_START_TIME,videoStartTimeMs:c,isTimestampShare:c>0})},setVideoClipSelection:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_VIDEO_CLIP_SELECTION,isTimestampShare:c})},setShouldCreateLivingRoom:function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactShareDialogComposerActionType").SET_SHOULD_CREATE_LIVING_ROOM,createLivingRoom:c})}};e.exports=a}),null);
__d("VideoClipShare.react",["fbt","FDSCheckboxInput.maintenance.react","React","ReactShareDialogComposerActions","moment"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={checked:!1},d.$2=function(){b("ReactShareDialogComposerActions").setVideoClipSelection(d.props.composerID,!d.state.checked),d.setState(function(a){return{checked:!a.checked}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){var c=Math.floor(a/1e3);c=c>=3599?"hh:mm:ss":"mm:ss";return b("moment").utc(a).format(c)};d.$3=function(){return b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{"data-testid":"FDSCheckboxInput/VideoClipShare",label:g._("Start playing video at"),onChange:this.$2,value:this.state.checked})};d.componentDidMount=function(){b("ReactShareDialogComposerActions").setVideoStartTime(this.props.composerID,0)};d.render=function(){return b("React").jsxs("div",{children:[this.$3()," ",this.$1(this.props.startTime)]})};return c}(b("React").Component);e.exports=a}),null);
__d("ReactShareDialogAttachmentContainer.react",["csx","cx","invariant","Arbiter","DOMContainer.react","DOMQuery","LitestandShareAttachment","React","ReactComposerContextTypes","ReactDOM","ReactShareDialogComposerActions","ShareDialogAttachment.react","VideoClipShare.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=400,k="videoClipSetStartTime/",l="showTimestampShare/";a=b("React").createClass({displayName:"ReactShareDialogAttachmentContainer",contextTypes:b("ReactComposerContextTypes"),propTypes:{attachment:b("prop-types").instanceOf(HTMLElement),postId:b("prop-types").string},_setStartTimeEvent:null,_showTimestampShareEvent:null,getInitialState:function(){return{shouldOverflow:!1,hasSphericalPhoto:!1,hasVideoClip:!1,hasVideoPlayer:!1,hasMap:!1,startTime:0,showTimestampShare:!1}},componentDidMount:function(){__p&&__p();var a=this;setTimeout(function(){__p&&__p();var c=!1,d=!1,e=!1,f=!1,g=!1;if(a.props.attachment&&a.refs.attachment){var h=b("ReactDOM").findDOMNode(a.refs.attachment);if(h){var m,n=(m=b("DOMQuery")).scry(h,"._6m2")[0],o=m.scry(h,"._31bl"),p=m.scry(h,"._2qgz"),q=m.scry(h,"._45oh");m=m.scry(h,"._4j7v");b("LitestandShareAttachment").init(n||h);c=h.clientHeight>j;d=o.length>0;e=p.length>0;f=q.length>0;g=m.length>0;if(a.props.postId&&f){n=k+a.props.postId;a._setStartTimeEvent=b("Arbiter").subscribe(n,function(c,d){b("ReactShareDialogComposerActions").setVideoStartTime(a.context.composerID,d.startTime),a.setState({startTime:d.startTime})});a.props.postId||i(0,2370);n=l+a.props.postId;a._showTimestampShareEvent=b("Arbiter").subscribe(n,function(b,c){a.setState({showTimestampShare:!0})})}}}a.setState({shouldOverflow:c,hasSphericalPhoto:d,hasVideoClip:e,hasVideoPlayer:f,hasMap:g,startTime:0})},0)},componentWillUnmount:function(){this._setStartTimeEvent&&this._setStartTimeEvent.unsubscribe(),this._showTimestampShareEvent&&this._showTimestampShareEvent.unsubscribe()},render:function(){if(!this.props.attachment)return null;var a=null;this.state.hasSphericalPhoto===!1&&!this.state.hasVideoClip&&!this.state.hasVideoPlayer&&!this.state.hasMap&&(a=b("React").jsx("div",{className:"_2nzp"}));var c=null;this.state.showTimestampShare&&(c=b("React").jsx(b("VideoClipShare.react"),{startTime:this.state.startTime,composerID:this.context.composerID}));return b("React").jsxs(b("ShareDialogAttachment.react"),{overflowing:this.state.shouldOverflow,children:[c,b("React").jsxs("div",{ref:"attachment",className:"_51jo",children:[b("React").jsx(b("DOMContainer.react"),{children:this.props.attachment}),a]})]})}});e.exports=a}),null);
__d("ReactShareDialogComposerSetVideoTimePosition.react",["cx","fbt","FDSCheckboxInput.react","React","UFIVideoPlayerRegistry","gkx","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=10,j=10,k=30;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={checked:!1,time:-1,timeString:""},c.$4=function(a){c.setState({checked:a}),c.props.onSetVideoStartTime(a,c.state.time*1e3)},c.$5=function(){var a=c.state.timeString;a=c.$8(a);a<0&&(a=0);c.setState({time:a,timeString:c.$2(a)});c.props.onSetVideoStartTime(!0,a*1e3)},c.$7=function(){c.setState({checked:!0}),c.props.onSetVideoStartTime(!0,c.state.time*1e3)},c.$6=function(a){a=a.target.value;c.setState({timeString:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=b("UFIVideoPlayerRegistry").findVideoPlayerControllerForElement(null,this.props.maybeVideoID);if(this.$1!=null){var a=Math.round(this.$1.getCurrentTimePosition());this.setState({time:a,timeString:this.$2(a)})}};d.render=function(){return!b("gkx")("852571")||this.$3()||b("qex")._("875432")?null:b("React").jsxs("div",{className:"_7odk",children:[b("React").jsx(b("FDSCheckboxInput.react"),{label:h._("Start video at"),onChange:this.$4,value:this.state.checked}),"\xa0",b("React").jsx("input",{className:"_7s86"+(this.state.checked?" _7s87":""),onBlur:this.$5,onChange:this.$6,onFocus:this.$7,type:"text",value:this.state.timeString})]})};d.$2=function(a){var b=Math.round(a/3600),c=Math.round(a%3600/60);c=c>=10?String(c):"0"+c;a=a%60;a=a>=10?String(a):"0"+a;return b>=1?b+":"+c+":"+a:c+":"+a};d.$8=function(a){a=a.split(":");if(a.length!==2&&a.length!==3&&a.some(function(a){return a.match(/\d+/)!=null}))return 0;var b=a.length===3;return b?Number(a[0])*3600+Number(a[1])*60+Number(a[2]):Number(a[0])*60+Number(a[1])};d.$3=function(){var a=this.state.time,b=this.$1;if(a==null||b==null)return!0;if(a<i)return!0;b=b.getPlaybackDuration();return b<k||b-a<j?!0:!1};return c}(b("React").Component);e.exports=a}),null);
__d("ReactShareDialogComposerStatusAttachmentFooter.react",["cx","fbt","invariant","ix","Arbiter","BasicTypeaheadLoggerJSConstants","FBStoriesPrivacySelectorLoadingContainerBootloader.react","Image.react","InlineBlock.react","LeftRight.react","React","ReactComponentWithPureRenderMixin","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAlbumTaggerButtonContainer.react","ReactComposerAudienceSelectorContainer.react","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactShareDialogComposerActions","ReactShareDialogComposerStore","ShareDialogAudienceTypes","SubscriptionsHandler","Tooltip","UITargetedPrivacyWidget","XUIAmbientNUX.react","XUIButton.react","cxMargin","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("BasicTypeaheadLoggerJSConstants").EventNames,l=b("ReactComposerCollectionSelectorContainerGatedModule").module,m="react_share_dialog_post_button";c=b("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooter",_subscriptionsHandler:null,_targetingWidgetInstance:null,contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{onActivityNUXClose:(a=b("prop-types")).func,onCancel:a.func,onBack:a.func,onPost:a.func,onSelectActivity:a.func,onSelectLocation:a.func,pagePrivacySelector:a.instanceOf(HTMLElement),placeID:a.string,postButtonLabel:a.string,posting:a.bool,privacySelector:a.instanceOf(HTMLElement),shouldHideAllButtons:a.bool,showActivityNUX:a.bool,showWhichTaggers:a.object.isRequired,taggersConfig:a.object,taggersSource:a.object,target:b("ShareDialogAudienceTypes").propType,targetInfo:a.object.isRequired,targetingWidgetInstance:a.object},getDefaultProps:function(){var a,c={};c[b("ReactComposerTaggerType").PEOPLE]=!1;c[b("ReactComposerTaggerType").LOCATION]=!1;c[b("ReactComposerTaggerType").ACTIVITY]=!1;return{onCancel:a=b("emptyFunction"),onPost:a,onActivityNUXClose:a,onSelectActivity:a,onSelectLocation:a,shouldHideAllButtons:!1,showActivityNUX:!1,showWhichTaggers:c,targetInfo:{}}},UNSAFE_componentWillMount:function(){var a=this;this._targetingWidgetInstance=null;this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(b("Arbiter").subscribe("UIPrivacyWidget/globalPrivacyChanged",function(c,d){b("ReactShareDialogComposerActions").setTargetedPrivacyData(a.context.composerID,d.data)}))},componentWillUnmount:function(){this._subscriptionsHandler.release()},render:function(){return b("React").jsxs("div",{children:[this._getTaggers(),b("React").jsx(b("ReactComposerFooterContainer.react"),{background:"light-wash",children:b("React").jsxs(b("LeftRight.react"),{children:[this._getButtons(),this._getFooterActions()]})})]})},_shouldHideAllTaggers:function(){for(var a in this.props.showWhichTaggers)if(this.props.showWhichTaggers[a])return!1;return!0},_getTaggers:function(){if(this._shouldHideAllTaggers())return b("React").jsx("noscript",{});this.props.taggersConfig!=null&&this.props.taggersSource!=null||i(0,5700);var a=this.props.taggersConfig[b("ReactComposerTaggerType").OG],c=this.props.showWhichTaggers[b("ReactComposerTaggerType").PEOPLE]?b("React").jsx(b("ReactComposerPeopleTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",taggerSource:this.props.taggersSource[b("ReactComposerTaggerType").PEOPLE],taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT}):null,d=this.props.showWhichTaggers[b("ReactComposerTaggerType").LOCATION]?b("React").jsx(b("ReactComposerLocationTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[b("ReactComposerTaggerType").LOCATION],taggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,typeaheadLoggerEventName:k.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:"web_composer"}):null;a=this.props.showWhichTaggers[b("ReactComposerTaggerType").ACTIVITY]?b("React").jsx(b("ReactComposerActivityTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[b("ReactComposerTaggerType").ACTIVITY],actionTypeIDsWithNoFreeForm:a.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:a.actionTypeIDsToPrefetch,rankVerbs:a.rankVerbs,typeaheadLoggerEventName:k.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,objectTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT}):null;return b("React").jsxs(b("ReactComposerTaggers.react"),{children:[c,d,a]})},_getButtons:function(){if(this._shouldHideAllTaggers()||this.props.posting)return b("React").jsx("noscript",{});var a=this.props.showWhichTaggers[b("ReactComposerTaggerType").PEOPLE]?b("React").jsx(b("ReactComposerPeopleTaggerButton.react"),{}):null,c=this.props.showWhichTaggers[b("ReactComposerTaggerType").LOCATION]?b("React").jsx(b("ReactComposerLocationTaggerButton.react"),{}):null,d=this.props.showWhichTaggers[b("ReactComposerTaggerType").ACTIVITY]?b("React").jsx(b("ReactComposerActivityTaggerButton.react"),{ref:"activityButton"}):null,e=this.props.target===b("ShareDialogAudienceTypes").OWN&&this.props.showWhichTaggers[b("ReactComposerTaggerType").ALBUM]&&l?b("React").jsx(l,{addAnyPostToAlbum:!0,alternateTriggerComponent:b("React").jsx(b("ReactComposerAlbumTaggerButtonContainer.react"),{})}):null;return b("React").jsxs(b("ReactComposerTaggerButtons.react"),{children:[a,c,d,e,this._getActivityNUX()]})},_getActivityNUX:function(){var a=this;return!this.props.showActivityNUX||!this.refs.activityButton?null:b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.activityButton},onCloseButtonClick:this.props.onActivityNUXClose,position:"above",shown:!0,children:h._("New! You can choose to share your feelings and activities.")})},_getFooterActions:function(){__p&&__p();var a=null,c=null,d=null;if(!this.props.posting)if(this.props.target===b("ShareDialogAudienceTypes").OWN)a=b("React").jsx(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.privacySelector,viewerIsTarget:!0});else if(this.props.target===b("ShareDialogAudienceTypes").STORY)a=b("React").jsx(b("InlineBlock.react"),{className:"_3-90",children:b("React").jsx(b("FBStoriesPrivacySelectorLoadingContainerBootloader.react"),{editable:!0})});else if(this.props.target===b("ShareDialogAudienceTypes").GROUP){var e=h._("People who can see posts in the group");c=b("React").jsx(b("InlineBlock.react"),babelHelpers["extends"]({className:"_3-90"},b("Tooltip").propsFor(e),{children:b("React").jsx(b("Image.react"),{className:"_4q3o",src:j("83921")})}))}else if(this.props.target===b("ShareDialogAudienceTypes").PAGE&&this.props.targetInfo.audienceTargets&&this.props.targetInfo.audienceTargets[0]===this.props.targetInfo.userId){d=b("React").jsx(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.pagePrivacySelector,viewerIsTarget:!1});this._targetingWidgetInstance||(this._targetingWidgetInstance=b("UITargetedPrivacyWidget").getInstance(this.props.pagePrivacySelector.id));if(this._targetingWidgetInstance){e=b("ReactShareDialogComposerStore").getTargetInfo(this.context.composerID).userId;this._targetingWidgetInstance.setProfileID(e)}}e=null;this.props.shouldHideAllButtons||(e=this.props.target===b("ShareDialogAudienceTypes").MESSAGE?this._getMessageActionButtons():this._getNonMessageActionButtons());return b("React").jsxs(b("ReactComposerFooterActions.react"),{children:[a,c,d,e]})},_getNonMessageActionButtons:function(){var a=this.props.postButtonLabel;a===void 0&&(a=this.props.posting?h._("Posting"):h._("Post"));return b("React").jsxs("div",{className:"_4-88",children:[this._getCancelButton(),this._getPostButtonBase(a,this.props.onPost)]})},_getMessageActionButtons:function(){return b("React").jsxs("div",{className:"_4-88",children:[this._getCancelButton(),this._getGroupPostButton()]})},_getGroupPostButton:function(){return this._getPostButtonBase(this._getGroupMessagePostLabel(),this.props.onPost)},_getPostButtonBase:function(a,c){return b("React").jsx(b("XUIButton.react"),{use:"confirm",label:a,className:"_2g61",onClick:c,disabled:this._getPostDisabled(),"data-testid":m})},_getGroupMessagePostLabel:function(){return this.props.posting?this._getSendingText():this._getGeneralSendText()},_getSendingText:function(){return h._("Sending")},_getExplicitGroupSendText:function(){return h._("Send in Group Message")},_getGeneralSendText:function(){return h._("Send")},_getCancelButton:function(){return b("React").jsx(b("XUIButton.react"),{use:"default",label:h._("Cancel"),className:"_2g60",onClick:this.props.onCancel})},_getPostDisabled:function(){return this.props.target!==b("ShareDialogAudienceTypes").OWN&&this.props.target!==b("ShareDialogAudienceTypes").STORY&&!this.props.targetInfo.audienceTargets}});e.exports=c}),null);
__d("ReactShareDialogComposerStatusAttachmentFooterContainer.react",["ComposerXNUX","React","ReactComponentWithPureRenderMixin","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactShareDialogComposerStatusAttachmentFooter.react","ReactShareDialogComposerStore","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooterContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"),b("ReactShareDialogComposerStore"))],propTypes:{showActivityNUX:b("prop-types").bool},statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION);c=c&&c.place&&c.place.getUniqueID();return{placeID:c,target:b("ReactShareDialogComposerStore").getTarget(a),targetInfo:b("ReactShareDialogComposerStore").getTargetInfo(a)}}},getInitialState:function(){return{showActivityNUX:this.props.showActivityNUX}},UNSAFE_componentWillMount:function(){var a=this;this.props.showActivityNUX&&setTimeout(function(){a.setState({showActivityNUX:!0})},1e3)},render:function(){return b("React").jsx(b("ReactShareDialogComposerStatusAttachmentFooter.react"),babelHelpers["extends"]({},this.props,this.state,{posting:this.props.status.type=="posting",onActivityNUXClose:this._onActivityNUXClose,onPost:this.props.onPost}))},_onActivityNUXClose:function(){this.setState({showActivityNUX:!1}),b("ComposerXNUX").sendMarkSeenRequest("sharer_minutiae_nux_seen")}});e.exports=a}),null);
__d("ShareDialogWarningNotice.react",["ix","cx","fbt","FBToggle.react","Image.react","LeftRight.react","React","ServerHTML.react","asset"],(function(a,b,c,d,e,f,g,h,i){a=function(a){var c=a.warning,d=a.sharedFromName;a=a.isShareFromClosedGroup;return a?b("React").jsxs(b("FBToggle.react"),{className:"_3ba_",children:[b("React").jsxs(b("LeftRight.react"),{className:"_3bb0 _440h",children:[b("React").jsx("span",{className:"_3bb1",children:b("React").jsx(b("Image.react"),{src:g("563487")})}),b("React").jsx("span",{className:"_3bb2",children:i._("Only members of {group name} will be able to see this.",[i._param("group name",d)])})]}),b("React").jsx("div",{className:"_3bb3",children:b("React").jsx(b("ServerHTML.react"),{blob:c})})]}):b("React").jsxs(b("FBToggle.react"),{className:"_3ba_",children:[b("React").jsxs(b("LeftRight.react"),{className:"_3bb0",children:[b("React").jsx("span",{className:"_3bb1",children:b("React").jsx(b("Image.react"),{src:g("563494")})}),b("React").jsx("span",{className:"_3bb2",children:i._("Who can see this?")})]}),b("React").jsx("div",{className:"_3bb3",children:b("React").jsx(b("ServerHTML.react"),{blob:c})})]})};e.exports=a}),null);
__d("SharerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL_MODES:"all_modes",EVENT_ONLY:"event_only",FRIEND_TIMELINE_ONLY:"friend_timeline_only",MESSAGE_ONLY:"message_only",OWN_ONLY:"own_only",PAGE_ONLY:"page_only",PAGE_VIEWER:"page_viewer",ALL_MODES_EXCEPT_MESSENGER:"all_modes_except_messenger",GROUP_ONLY:"group_only"})}),null);
__d("ReactShareDialogComposerStatusAttachment.react",["cx","fbt","BootloadedComponent.react","JSResource","Layout.react","LayoutColumn.react","LayoutFillColumn.react","MercuryConfig","React","ReactComposerAudienceActions","ReactComposerContextTypes","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerType","ReactShareDialogAttachmentContainer.react","ReactShareDialogComposerActions","ReactShareDialogComposerSetVideoTimePosition.react","ReactShareDialogComposerStatusAttachmentFooterContainer.react","ShareActorSelector.react","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogDropdownForSharePostOrLink.react","ShareDialogWarningNotice.react","SharerType","prop-types","emptyFunction","getObjectValues","getOwnObjectValues","gkx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("ShareDialogDataSources").TYPES;c=b("React").createClass({displayName:"ReactShareDialogComposerStatusAttachment",_inputContainer:b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),contextTypes:b("ReactComposerContextTypes"),propTypes:{activeAudience:b("ShareDialogAudienceTypes").propType,hideWhichTaggers:(a=b("prop-types")).arrayOf(a.oneOf(Object.keys(b("ReactComposerTaggerType")))),pagePrivacySelector:a.instanceOf(HTMLElement),privacySelector:a.instanceOf(HTMLElement),attachment:a.object,lockMessageTargets:a.bool,messageAttachment:a.object,dataSources:a.instanceOf(b("ShareDialogDataSources")),taggersData:a.object,onCancel:a.func,onBack:a.func,onPost:a.func,placeholderText:a.node,postId:a.string,publicityWarning:a.object,showDoingNUX:a.bool,useCheckinBranding:a.bool,sharerType:a.oneOf(b("getOwnObjectValues")(b("SharerType"))),sharedFromName:a.string,shouldAlwaysHideAllTaggers:a.bool.isRequired,shouldHideAllButtons:a.bool.isRequired,taggersConfig:a.object,postButtonLabel:a.string,postPreview:a.object,isShareFromClosedGroup:a.bool.isRequired,onChangeAudienceTargets:a.func.isRequired,onClearAudienceTargets:a.func.isRequired,targets:a.object,defaultPageTargetID:a.string,onSetVideoStartTime:a.func},getInitialState:function(){return{showPostPreview:this.props.postPreview!==null}},getDefaultProps:function(){return{hideWhichTaggers:[],taggersData:{},onCancel:b("emptyFunction"),onPost:b("emptyFunction"),postPreview:null}},componentDidMount:function(){var a=this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&this.props.lockMessageTargets;(this.props.activeAudience===b("ShareDialogAudienceTypes").OWN||this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE||a)&&this._inputContainer.focus()},componentDidUpdate:function(a,c){this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE&&a.activeAudience!==b("ShareDialogAudienceTypes").PAGE&&b("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,null)},_getDropdownForSharePostOrLink:function(){return b("React").jsx(b("ShareDialogDropdownForSharePostOrLink.react"),{onSelectSharePostOrLink:this._onSelectSharePostOrLink})},_onSelectSharePostOrLink:function(a){this.setState({showPostPreview:this.props.postPreview?a:!1}),b("ReactShareDialogComposerActions").setTypeOfShare(this.context.composerID,a)},render:function(){__p&&__p();var a=this,c=this.props.dataSources,d=c&&this.props.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE?c.getSource(b("ShareDialogDataSources").TYPES.MENTIONS):null,e=this.props.placeholderText!==null,f=this.props.placeholderText||h._("Say something about this..."),g=b("React").jsx("noscript",{});this._shouldHideAllTaggers()||(g=b("React").jsx(b("ReactComposerTaggerSummaryContainer.react"),{}));var j=this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE||this.props.postPreview===null||this.props.isThrowbackPost?null:this._getDropdownForSharePostOrLink(),k=null;if(this.props.topicFeedsTagger&&this.props.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE){var l=this.props.topicFeedsTagger.container;k=b("React").jsx(l,{composerFeedID:this.props.topicFeedsTagger.composerFeedID,photoAutoTaggingDelay:this.props.topicFeedsTagger.photoAutoTaggingDelay,showNux:this.props.topicFeedsTagger.showNux,textAutoTaggingDelay:this.props.topicFeedsTagger.textAutoTaggingDelay,photoPollingDuration:this.props.topicFeedsTagger.photoPollingDuration,photoPollingInterval:this.props.topicFeedsTagger.photoPollingInterval,reshareURL:this.props.topicFeedsTagger.reshareURL,topicLimit:this.props.topicFeedsTagger.topicLimit,darkLaunch:this.props.topicFeedsTagger.darkLaunch})}l=b("MercuryConfig").MNNSS&&this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&!this.props.lockMessageTargets;d=b("React").jsx(b("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{mentionsSource:d,placeholder:f,ref:function(b){return a._inputContainer=b},mentionsEnabled:!l,className:e?"_82z4":""});f=null;if(b("gkx")("724355")&&this.props.activeAudience===b("ShareDialogAudienceTypes").PAGE){var m=this.props.targets&&this.props.targets.audienceTargets&&this.props.targets.audienceTargets[0];e=c&&c.getSource(i.PAGE);c=m||this.props.targets&&this.props.targets.userID||this.props.defaultPageTargetID||b("getObjectValues")(e)[0].id;f=b("React").jsxs(b("Layout.react"),{children:[b("React").jsx(b("LayoutColumn.react"),{className:"_q-v",children:b("React").jsx(b("ShareActorSelector.react"),{className:"_74-n",suppressButton:!0,onClear:this.props.onClearAudienceTargets,onChange:function(b){a.props.onChangeAudienceTargets([{pageId:m,actorId:b.value}])},targetID:c})}),b("React").jsx(b("LayoutFillColumn.react"),{children:d})]})}return b("React").jsxs("div",{children:[!l&&(f||d),g,j,this._renderAttachment(l),this.props.onSetVideoStartTime&&this.props.postId?b("React").jsx(b("ReactShareDialogComposerSetVideoTimePosition.react"),{maybeVideoID:this.props.postId,onSetVideoStartTime:this.props.onSetVideoStartTime}):null,!l&&this._getWarning(),k,l&&b("React").jsx("div",{className:"_3krx",children:f||d}),l?null:b("React").jsx(b("ReactShareDialogComposerStatusAttachmentFooterContainer.react"),{onCancel:this.props.onCancel,onBack:this.props.onBack,onPost:this.props.onPost,pagePrivacySelector:this.props.pagePrivacySelector,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,shouldHideAllButtons:this.props.shouldHideAllButtons,showActivityNUX:this.props.showDoingNUX,showWhichTaggers:this._showWhichTaggers(),status:this.props.status,taggersConfig:this.props.taggersConfig,taggersSource:this._getTaggersSource()})]})},_shouldHideAllTaggers:function(){return this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE||this.props.shouldAlwaysHideAllTaggers},_showWhichTaggers:function(){__p&&__p();var a={};if(this._shouldHideAllTaggers()){var c;a[(c=b("ReactComposerTaggerType")).PEOPLE]=!1;a[c.LOCATION]=!1;a[c.ACTIVITY]=!1;a[c.ALBUM]=!1;return a}a[b("ReactComposerTaggerType").PEOPLE]=!0;a[b("ReactComposerTaggerType").LOCATION]=!0;a[b("ReactComposerTaggerType").ACTIVITY]=!0;a[b("ReactComposerTaggerType").ALBUM]=this.props.taggersConfig&&this.props.taggersConfig[b("ReactComposerTaggerType").ALBUM]&&this.props.taggersConfig[b("ReactComposerTaggerType").ALBUM].enabled;if(this.props.hideWhichTaggers)for(var c=0,d=this.props.hideWhichTaggers.length;c<d;c++)a[this.props.hideWhichTaggers[c]]=!1;return a},_getTaggersSource:function(){var a=this.props.dataSources;if(!a)return null;var c={};c[b("ReactComposerTaggerType").PEOPLE]=a.getSource(b("ShareDialogDataSources").TYPES.PERSON);c[b("ReactComposerTaggerType").LOCATION]=a.getSource(b("ShareDialogDataSources").TYPES.PLACE);c[b("ReactComposerTaggerType").ACTIVITY]=a.getSource(b("ShareDialogDataSources").TYPES.ACTION);return c},_getTaggerData:function(a){return this.props.taggersData?this.props.taggersData[a]:null},_getWarning:function(){return!this.props.publicityWarning?b("React").jsx("noscript",{}):b("React").jsx(b("ShareDialogWarningNotice.react"),{warning:this.props.publicityWarning,sharedFromName:this.props.sharedFromName,isShareFromClosedGroup:this.props.isShareFromClosedGroup})},_renderAttachment:function(a){if(a){a=this.props.messageAttachment;return a?b("React").jsx("div",{className:"_3y6s",children:b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("ReactShareDialogComposerStatusAttachment.react"),bootloadPlaceholder:b("React").jsx("div",{}),attachment:a})}):null}else{a=this.state.showPostPreview&&this.props.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE?this.props.postPreview:this.props.attachment;return b("React").jsx(b("ReactShareDialogAttachmentContainer.react"),{attachment:a,postId:this.props.postId})}}});e.exports=c}),null);
__d("ReactShareDialogComposerStatusAttachmentContainer.react",["React","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactShareDialogComposerStatusAttachment.react","ReactShareDialogComposerStore","ShareDialogAudienceTypes","ShareDialogDataSources","emptyFunction","prop-types"],(function(a,b,c,d,e,f){c=b("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentContainer",contextTypes:b("ReactComposerContextTypes"),mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"),b("ReactShareDialogComposerStore"))],propTypes:{activeAudience:b("ShareDialogAudienceTypes").propType,attachment:(a=b("prop-types")).object,dataSources:a.instanceOf(b("ShareDialogDataSources")),onCancel:a.func,onPost:a.func,pagePrivacySelector:a.instanceOf(HTMLElement),postId:a.string,privacySelector:a.instanceOf(HTMLElement),publicityWarning:a.object,shouldAlwaysHideAllTaggers:a.bool.isRequired,shouldHideAllButtons:a.bool.isRequired,showDoingNUX:a.bool,onChangeAudienceTargets:a.func,onClearAudienceTargets:a.func,onSetVideoStartTime:a.func,defaultPageTargetID:a.string,isShareFromClosedGroup:a.bool.isRequired},getDefaultProps:function(){var a;return{onCancel:a=b("emptyFunction"),onPost:a,onChangeAudienceTargets:a,onClearAudienceTargets:a}},statics:{calculateState:function(a,c){c=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").ACTIVITY);return{taggersData:b("ReactComposerTaggerStore").getTaggersData(a),actionIconID:c?c.actionIconID:null,targets:b("ReactShareDialogComposerStore").getTargetInfo(a)}}},render:function(){return b("React").jsx(b("ReactShareDialogComposerStatusAttachment.react"),babelHelpers["extends"]({ref:"shareBody"},this.props,this.state))}});e.exports=c}),null);
__d("ReactShareDialogComposerStatusEagerAttachment.react",["React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentType","ReactShareDialogComposerStatusAttachmentContainer.react","ShareDialogAudienceTypes","ShareDialogDataSources","emptyFunction","prop-types"],(function(a,b,c,d,e,f){c=b("React").createClass({displayName:"ReactShareDialogComposerStatusEagerAttachment",mixins:[b("ReactComposerAttachmentBodyMixin")()],propTypes:{activeAudience:b("ShareDialogAudienceTypes").propType,attachment:(a=b("prop-types")).object,dataSources:a.instanceOf(b("ShareDialogDataSources")),onCancel:a.func,onPost:a.func,pagePrivacySelector:a.instanceOf(HTMLElement),postId:a.string,privacySelector:a.instanceOf(HTMLElement),publicityWarning:a.object,selected:a.bool,shouldAlwaysHideAllTaggers:a.bool.isRequired,shouldHideAllButtons:a.bool.isRequired,showDoingNUX:a.bool,taggersConfig:a.object,via:a.object,onChangeAudienceTargets:a.func,onClearAudienceTargets:a.func,onSetVideoStartTime:a.func,defaultPageTargetID:a.string},getDefaultProps:function(){var a;return{selected:!0,onCancel:a=b("emptyFunction"),onPost:a,onChangeAudienceTargets:a,onClearAudienceTargets:a}},statics:{attachmentID:b("ReactComposerAttachmentType").STATUS},renderX:function(){return b("React").jsx(b("ReactShareDialogComposerStatusAttachmentContainer.react"),babelHelpers["extends"]({},this.props))}});e.exports=c}),null);
__d("ShareDialogStatusTypes",["getObjectValues"],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSING:"composing",ERROR:"error",POSTING:"posting",SUCCESS:"success"});var g=b("getObjectValues")(a);e.exports=babelHelpers["extends"]({},a,{ALL:g,isValid:function(a){return g.some(function(b){return b===a})}})}),null);
__d("ReactShareDialogComposer.react",["React","ReactComposer.react","ReactComposerBody.react","ReactComposerContextConfig","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerPrefillUtils","ReactShareDialogComposerStatusEagerAttachment.react","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogStatusTypes","SharerType","emptyFunction","getOwnObjectValues","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("React").createClass({displayName:"ReactShareDialogComposer",contextTypes:b("ReactComposerContextTypes"),propTypes:{activeAudience:b("ShareDialogAudienceTypes").propType,attachment:(a=b("prop-types")).object,contextConfig:b("ReactComposerContextConfig").isRequired,dataSources:a.instanceOf(b("ShareDialogDataSources")),onCancel:a.func,onPost:a.func,loggingConfig:a.object,pagePrivacySelector:a.instanceOf(HTMLElement),postButtonLabel:a.string,postId:a.string,prefillConfig:b("ReactComposerPrefillConfig"),privacySelector:a.instanceOf(HTMLElement),publicityWarning:a.object,sharerType:a.oneOf(b("getOwnObjectValues")(b("SharerType"))),shareType:a.string,shouldAlwaysHideAllTaggers:a.bool,shouldHideAllButtons:a.bool,showDoingNUX:a.bool,taggersConfig:a.object,triggeredFrom:a.oneOf(Object.values(b("ReactComposerLoggingName"))),useCheckinBranding:a.bool,userId:a.string.isRequired,onChangeAudienceTargets:a.func,onClearAudienceTargets:a.func,onSetVideoStartTime:a.func,defaultPageTargetID:a.string,closeParentOnFinish:a.bool.isRequired},getDefaultProps:function(){var a;return{onCancel:a=b("emptyFunction"),onPost:a,sharerType:"all_modes",shouldAlwaysHideAllTaggers:!1,shouldHideAllButtons:!1,status:{type:b("ShareDialogStatusTypes").COMPOSING},onChangeAudienceTargets:a,onClearAudienceTargets:a}},UNSAFE_componentWillMount:function(){this.props.prefillConfig&&b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig,this.props.contextConfig.gks)},_onCancel:function(a){var b=this.props.onCancel;b&&b(a);this.props.closeParentOnFinish&&window.close()},_onPost:function(a){var b=this.props.onPost;b&&b(a)},render:function(){return b("React").jsx(b("ReactComposer.react"),{hideBorders:!0,loggingConfig:this.props.loggingConfig,activateOnInit:!0,activateOnInitEntryPoint:this.props.triggeredFrom,children:b("React").jsx(b("ReactComposerBody.react"),{children:b("React").jsx(b("ReactShareDialogComposerStatusEagerAttachment.react"),babelHelpers["extends"]({},this.props,{activeAudience:this.props.activeAudience,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,publicityWarning:this.props.publicityWarning,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,taggersConfig:this.props.taggersConfig,useCheckinBranding:this.props.useCheckinBranding}))})})}});e.exports=c}),null);
__d("ReactShareDialogLivingRoomSelector.react",["ix","cx","fbt","FDSButton.react","Image.react","LeftRight.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c,d;a.selected?d=i._("WATCH PARTY"):(c=b("React").jsx(b("FDSButton.react"),{label:"Try it",onClick:a.onClick}),d=i._("Start a watch party with this video?"));return b("React").jsx("div",{className:(a.selected?"":"_6rh_")+(a.selected?" _6ri0":""),children:b("React").jsxs(b("LeftRight.react"),{children:[b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_6ri1",children:b("React").jsx(b("Image.react"),{className:"_6ri2",src:g("657321")})}),b("React").jsx("span",{className:"_6ri5",children:d})]}),c]})})}e.exports=a}),null);
__d("ShareDialogStaticTitle.react",["cx","fbt","React","XUICloseButton.react","XUIDialogTitle.react","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs(b("XUIDialogTitle.react"),{showCloseButton:!1,children:[this.props.title,this.props.children,b("React").jsx(b("XUICloseButton.react"),{className:"_51-t",label:h._("Close"),onClick:this.props.onClose})]})};return c}(b("React").Component);a.propTypes={onClose:b("prop-types").func,title:b("prop-types").string};a.defaultProps={onClose:b("emptyFunction")};e.exports=a}),null);
__d("ShareDialogTitle.react",["cx","fbt","React","ShareDialogAudienceSelector.react","ShareDialogAudienceText.react","ShareDialogAudienceTypes","ShareDialogDataSources","ShareDialogStatusTypes","WorkModeConfig","XUICloseButton.react","XUIDialogTitle.react","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("ShareDialogDataSources").TYPES;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.dataSources,c=this.props.activeAudience,d=this.props.isPageViewer,e=[];switch(this.props.sharerType){case"event_only":e.push(b("ShareDialogAudienceTypes").EVENT);break;case"message_only":e.push(b("ShareDialogAudienceTypes").MESSAGE);break;case"friend_timeline_only":e.push(b("ShareDialogAudienceTypes").PERSON);break;case"page_only":e.push(b("ShareDialogAudienceTypes").PAGE);break;case"own_only":case"page_viewer":e.push(b("ShareDialogAudienceTypes").OWN);break;case"group_only":e.push(b("ShareDialogAudienceTypes").GROUP);break;default:!b("WorkModeConfig").is_in_solo_community&&!d&&e.push(b("ShareDialogAudienceTypes").OWN),a.getSource(i.PERSON_WALL)&&e.push(b("ShareDialogAudienceTypes").PERSON),a.getSource(i.GROUP)&&e.push(b("ShareDialogAudienceTypes").GROUP),a.getSource(i.EVENT)&&e.push(b("ShareDialogAudienceTypes").EVENT),a.getSource(i.PAGE)&&e.push(b("ShareDialogAudienceTypes").PAGE),a.getSource(i.FUNDRAISER)&&e.push(b("ShareDialogAudienceTypes").FUNDRAISER),a.getSource(i.STORY)&&e.push(b("ShareDialogAudienceTypes").STORY),!b("WorkModeConfig").is_in_solo_community&&a.getSource(i.MESSAGE)&&this.props.sharerType!=="all_modes_except_messenger"&&e.push(b("ShareDialogAudienceTypes").MESSAGE)}var f;this.props.status.type===b("ShareDialogStatusTypes").COMPOSING?f=b("React").jsx("div",{className:"_1jlx",children:b("React").jsx(b("ShareDialogAudienceSelector.react"),{allowedAudiences:e,activeAudience:c,onAudienceSelect:this.props.onAudienceSelect,shareType:this.props.shareType})}):this.props.status.type===b("ShareDialogStatusTypes").POSTING?f=b("React").jsx(b("ShareDialogAudienceText.react"),{className:"_4zt0",audience:c}):this.props.status.type===b("ShareDialogStatusTypes").ERROR?f=b("React").jsx("span",{className:"_4zt0",children:this.props.status.title||h._("We're Sorry")}):this.props.status.type===b("ShareDialogStatusTypes").SUCCESS&&(f=this.props.status.title?b("React").jsx("span",{className:"_4zt0",children:this.props.status.title}):null);return!f?b("React").jsx("noscript",{}):b("React").jsxs(b("XUIDialogTitle.react"),{showCloseButton:!1,className:"_5t22",children:[f,this.props.children,b("React").jsx(b("XUICloseButton.react"),{className:"_51-t _3chm",label:h._("Close"),onClick:this.props.onClose})]})};return c}(b("React").Component);a.propTypes={activeAudience:function(a){if(!b("ShareDialogAudienceTypes").isValid(a.activeAudience))return new Error("The active audience is invalid.")},isPageViewer:(c=b("prop-types")).bool,status:c.shape({type:c.string.isRequired,title:c.oneOfType([c.string,c.object]),message:c.oneOfType([c.string,c.object])}).isRequired,dataSources:c.instanceOf(b("ShareDialogDataSources")),onAudienceSelect:c.func,onClose:c.func};a.defaultProps={isPageViewer:!1,onAudienceSelect:b("emptyFunction"),onClose:b("emptyFunction"),status:{type:b("ShareDialogStatusTypes").COMPOSING}};e.exports=a}),null);
__d("ReactShareDialog.react",["cx","fbt","AccessibleLayer","CurrentUser","DialogDispatchToCompatBroker","DialogExpansionAtWidth","LayerFadeOnHide","LayerHideOnEscape","MercuryConfig","QE2Logger","React","ReactComposerContextTypes","ReactShareDialogComposer.react","ReactShareDialogLivingRoomSelector.react","ShareDialogAudience.react","ShareDialogAudienceTypes","ShareDialogStaticTitle.react","ShareDialogStatusTypes","ShareDialogTitle.react","TooltipLink.react","UFIVideoPlayerRegistry","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="react_share_dialog_content";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$7=function(a){c.$1=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){b("gkx")("852571")&&!this.props.shown&&a.shown&&b("UFIVideoPlayerRegistry").unregisterVideoPlayerControllerForElement(this.$1,this.props.postId)};d.$2=function(){var a=null;if(this.props.status.message==="custom")return null;this.props.status.type==="error"?a=this.props.status.message||h._("This post could not be shared at this time. Please try again later."):this.props.status.type==="success"&&(a=this.props.status.message||h._("Your share was posted."));if(a){a=typeof a!=="string"&&a.__html?b("React").jsx("span",{dangerouslySetInnerHTML:a}):a;return b("React").jsx(b("XUIDialogBody.react"),{children:a})}return null};d.$3=function(){var a=b("React").jsx("noscript",{});this.props.status.type==="posting"&&(a=b("React").jsx("div",{className:"_51jk",children:b("React").jsx(b("XUISpinner.react"),{size:"large",className:"_51jl"})}));return a};d.$4=function(){if(this.props.status.type!=="error"||this.props.renderInline)return b("React").jsx("noscript",{});else return b("React").jsx(b("XUIDialogFooter.react"),{children:b("React").jsx(b("XUIDialogCloseButton.react"),{use:"confirm"})})};d.$5=function(){if(!this.props.status.title||this.props.renderInline)return b("React").jsx("noscript",{});else{var a=this.props.status.title;a=typeof a!=="string"&&a.__html?b("React").jsx("span",{dangerouslySetInnerHTML:a}):a;return b("React").jsx(b("XUIDialogTitle.react"),{children:a})}};d.$6=function(){return!b("gkx")("678808")||this.props.shareType!=11..toString()||this.props.isLivingRoomDialog?null:b("React").jsx(b("ReactShareDialogLivingRoomSelector.react"),{onClick:this.props.onLivingRoomSelectorClick,selected:this.props.createLivingRoom})};d.render=function(){var a=this,c=b("CurrentUser").isEmployee()?b("React").jsx(b("TooltipLink.react"),{label:h._("Feedback tooltip"),className:"_2jxp uiHelpLink",href:"/groups/761337780581506/",tooltip:"Provide feedback on the React Share Composer (fb-only).",target:"_blank"}):null;c=this.props.staticTitle?b("React").jsx(b("ShareDialogStaticTitle.react"),{onClose:this.props.onCancel,title:this.props.staticTitle}):b("React").jsx(b("ShareDialogTitle.react"),{activeAudience:this.props.activeAudience,dataSources:this.props.dataSources,isPageViewer:this.props.isPageViewer,onAudienceSelect:this.props.onTargetSelect,onClose:this.props.onCancel,renderInline:this.props.renderInline,shareType:this.props.shareType,sharerType:this.props.sharerType,status:this.props.status,children:c},"title");var d=b("React").jsx(b("ShareDialogAudience.react"),{activeAudience:this.props.activeAudience,customModules:this.props.customModules,dataSources:this.props.dataSources,pageAudienceSelectorDisabled:this.props.pageAudienceSelectorDisabled,defaultEventTargetID:this.props.defaultEventTargetID,defaultPageTargetID:this.props.defaultPageTargetID,defaultGroupTargetID:this.props.defaultGroupTargetID,defaultFundraiserTargetID:this.props.defaultFundraiserTargetID,preselectedID:this.props.defaultFriendTargetID,preselectedTitle:this.props.defaultFriendTargetName,messageTargets:this.props.messageTargets,onChange:this.props.onChangeAudienceTargets,onClear:this.props.onClearAudienceTargets,onPost:this.props.onPost,hideShareDialog:this.props.hideShareDialog,hidePagePostingAs:this.props.hidePagePostingAs||b("gkx")("724355"),userId:this.props.userId,enableGroupVoiceSwitcher:this.props.enableGroupVoiceSwitcher,showGroupVoiceSwitcherFirst:this.props.showGroupVoiceSwitcherFirst,lockMessageTargets:this.props.lockMessageTargets,lockPersonTargets:this.props.lockPersonTargets,sentEntryID:this.props.sentEntryID,errorEntryID:this.props.errorEntryID,setSectionName:this.props.setSectionName,maybeLogEvent:this.props.maybeLogEvent},"audience"),e=b("React").jsx(b("ReactShareDialogComposer.react"),babelHelpers["extends"]({},this.props),"composer"),f=this.props.activeAudience===b("ShareDialogAudienceTypes").MESSAGE;f&&b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");f=b("MercuryConfig").MNNSS&&f&&!this.props.lockMessageTargets?b("React").jsxs(b("React").Fragment,{children:[c,e,d]}):b("React").jsxs(b("React").Fragment,{children:[c,this.$6(),d,e]});c=this.$2()||f;e=this.props.shown&&((d=this.props.status)!=null?d.message:d)!=="custom";return b("React").jsxs(b("XUIDialog.react"),{label:h._("Reshare"),behaviors:babelHelpers["extends"]({AccessibleLayer:b("AccessibleLayer"),DialogExpansion:b("DialogExpansionAtWidth"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},this.props.shouldDispatchToCompatBroker?{DialogDispatchToCompatBroker:b("DialogDispatchToCompatBroker")}:null),causalElementRef:function(){return a.props.causalElement},className:"_51jd",layerHideOnBlur:!1,modal:!0,shown:e,width:496,children:[this.$5(),b("React").jsx("div",{ref:this.$7,"data-testid":i,children:c}),this.$3(),this.$4()]})};return c}(b("React").Component);a.contextTypes=b("ReactComposerContextTypes");a.defaultProps={onCancel:c=b("emptyFunction"),onPost:c,onChangeAudienceTargets:c,onClearAudienceTargets:c,sharerType:"all_modes",status:{type:b("ShareDialogStatusTypes").COMPOSING},shouldDispatchToCompatBroker:!1};e.exports=a}),null);
__d("ReactShareDialogContainer.react",["Arbiter","ComposerXSessionIDs","CurrentUser","FBIDCheck","InstantGamesSharesTypedLogger","MercuryConfig","MercuryIDs","MessengerBootloadedSecondarySearchLogger","MessengerSecondarySearchFunnelConstants","MessengerState.bs","MessengerWebBroadcastFlowTypedLogger","React","ReactComponentWithPureRenderMixin","ReactComposerAudienceStore","ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerShareNowActions","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTopicFeedsTaggerStore","ReactDOM","ReactShareDialog.react","ReactShareDialogComposerActions","ReactShareDialogComposerStore","ShareDialogAudienceTypes","uuid"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").createClass({displayName:"ReactShareDialogContainer",contextTypes:b("ReactComposerContextTypes"),_dialogRef:null,_loggingSessionID:null,_sectionName:null,mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactShareDialogComposerStore"))],statics:{beforeCalculateInitialState:function(a,c){var d=c.defaultAudience?c.defaultAudience:b("ShareDialogAudienceTypes").OWN;c.sharerType==="message_only"?d=b("ShareDialogAudienceTypes").MESSAGE:c.sharerType==="page_only"?d=b("ShareDialogAudienceTypes").PAGE:c.sharerType==="friend_timeline_only"&&(d=b("ShareDialogAudienceTypes").PERSON);b("ReactShareDialogComposerActions").setTarget(a,d);d=c.defaultFriendTargetID?[c.defaultFriendTargetID]:null;b("ReactShareDialogComposerActions").setTargetInfo(a,{userId:c.userId,audienceTargets:d})},calculateState:function(a,c){var d=(c=b("ReactShareDialogComposerStore")).getTargetInfo(a),e=d.audienceTargets;d=d.userId;return{activeAudience:c.getTarget(a),audienceTargets:e,createLivingRoom:c.getShouldCreateLivingRoom(a),userId:d,targetedPrivacyData:c.getTargetedPrivacyData(a)}}},getInitialState:function(){return{shown:!0}},_hideShareDialog:function(a){this.setState({shown:!a})},_setSectionName:function(a){this._sectionName=a},UNSAFE_componentWillMount:function(){this._dialogRef=b("React").createRef(),this._loggingSessionID=b("uuid")(),b("ComposerXSessionIDs").resetSessionID(this.props.contextConfig.composerID),this._maybeLogEvent("open_dialog")},UNSAFE_componentWillReceiveProps:function(a){var b=this;a.status.type==="success"&&this.state.shown&&window.setTimeout(function(){return b.setState({shown:!1})},2500)},UNSAFE_componentWillUpdate:function(a,c){this.state.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE&&c.activeAudience===b("ShareDialogAudienceTypes").MESSAGE?(this._loggingSessionID=b("uuid")(),this._maybeLogEvent("open_dialog",!0)):this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&c.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE&&this._maybeLogEvent("close_dialog",!0)},render:function(){var a=this;return b("React").jsx("div",{children:b("React").jsx(b("ReactShareDialog.react"),babelHelpers["extends"]({},this.props,this.state,{onCancel:this._onCancel,onBack:this.props.onBack,pageAudienceSelectorDisabled:this.state.targetedPrivacyData!=null&&Object.keys(this.state.targetedPrivacyData).length!==0,onChangeAudienceTargets:this._onChangeAudienceTargets,onClearAudienceTargets:this._onClearAudienceTargets,onPost:this._onPost,onSetVideoStartTime:this._onSetVideoStartTime,onTargetSelect:this._onTargetSelect,onLivingRoomSelectorClick:function(){return b("ReactShareDialogComposerActions").setShouldCreateLivingRoom(a.props.contextConfig.composerID,!0)},hideShareDialog:this._hideShareDialog,setSectionName:this._setSectionName,maybeLogEvent:this._maybeLogEvent,ref:this._dialogRef}))})},_getStatefulResponse:function(){__p&&__p();var a=this.props.contextConfig.composerID,c=b("ReactComposerTaggerStore").getTaggersData(a),d=b("ReactComposerAudienceStore").getAudience(a),e=b("ReactShareDialogComposerStore").getTarget(a),f=e==="message"?b("ReactComposerStatusStore").getMessageText(a):b("ReactComposerStatusStore").getMessage(a),g=b("ReactShareDialogComposerStore").getTargetInfo(a),h=b("ReactShareDialogComposerStore").getTargetedPrivacyData(a),i=g.audienceTargets?g.audienceTargets:[],j=0;if(i.length===1){var k=b("FBIDCheck").isUser_deprecated(i[0])?b("MercuryIDs").getThreadIDFromUserID(i[0]):b("MercuryIDs").getThreadIDFromThreadFBID(i[0]);k=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),k);j=k?k.ephemeral_ttl_mode:0}k=c[b("ReactComposerTaggerType").PEOPLE];var l=c[b("ReactComposerTaggerType").LOCATION];c=c[b("ReactComposerTaggerType").ACTIVITY];k=k.map(function(a){return a.getUniqueID()});var m=null,n=null;if(c.object){var o=c.object.getUniqueID(),p=c.object.getTitle();!o||o===p?n=p:m=o}p=null;b("ReactComposerTopicFeedsTaggerStore").getIsDarkLaunch(a)||(p=b("ReactComposerTopicFeedsTaggerStore").getTaggedTopics(a).toArray());o=b("ReactShareDialogComposerStore").getShareDialogType(a);var q=b("ReactShareDialogComposerStore").getShareToGroupsAsPage(a),r=e=="message"&&b("MercuryConfig").MNNSS,s=b("ReactShareDialogComposerStore").isTimestampShare(a),t=0;s&&(t=b("ReactShareDialogComposerStore").getVideoStartTimeMs(a));return{actorId:g.userId,appId:this.props.appId,audienceTargets:i,audienceType:e,composerSessionID:b("ComposerXSessionIDs").getSessionID(a),createLivingRoom:this.state.createLivingRoom,ephemeralTTLMode:j,ft:this.props.ft,internalExtra:this.props.internalExtra,internalPreviewImageID:this.props.internalPreviewImageID,isForcedReshareOfPost:o,isNewMessageForward:r,message:f,messageTags:this.props.messageTags,ownerId:this.props.ownerId,postId:this.props.postId,privacy:d,sharedAdId:this.props.sharedAdId,shareToGroupAsPage:q,shareType:this.props.shareType,sectionName:this._sectionName,source:"osbach",taggedActionIconId:c.actionIconID,taggedActionId:c.action?c.action.getUniqueID():null,taggedFeedTopics:p,taggedObjectId:m,taggedObjectStr:n,taggedPeople:k,taggedPlace:l&&l.place?l.place.getUniqueID():null,targetedPrivacyData:h,url:this.props.url,videoStartTimeMs:t,civicProductSource:this.props.civicProductSource,loggingSessionID:this._loggingSessionID,instantGameEntryPointData:this.props.instantGameEntryPointData,isAppContentToken:this.props.isAppContentToken}},_onTargetSelect:function(a){if(a!==this.state.activeAudience)if(this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE)b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.END,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.BROADCAST});else if(a===b("ShareDialogAudienceTypes").MESSAGE){var c;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(c=b("MessengerSecondarySearchFunnelConstants")).EVENTS.START,client:c.CLIENTS.WWW,surface:c.SEARCH_SURFACES.BROADCAST,loggingID:c.LOGGING_IDS.BROADCAST})}b("ReactShareDialogComposerActions").setTarget(this.context.composerID,a);b("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId})},_onCancel:function(){this._dialogRef!=null&&b("Arbiter").inform("share_dialog_closed",{root:b("ReactDOM").findDOMNode(this._dialogRef.current)}),this.state.activeAudience===b("ShareDialogAudienceTypes").MESSAGE&&b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.BROADCAST}),this.props.instantGamesSource&&this.props.appId&&new(b("InstantGamesSharesTypedLogger"))().setEvent("share_cancelled").setSource(this.props.instantGamesSource).setTargetPlatform("facebook").setType("game_share").setAppID(this.props.appId).log(),b("ReactComposerShareNowActions").cancelShare(this.context.composerID),this.setState({shown:!1}),this.props.closeParentOnFinish&&window.close(),this._maybeLogEvent("close_dialog"),this.props.onCancel&&this.props.onCancel(this._getStatefulResponse())},_onChangeAudienceTargets:function(a){if(a.length===0)return;var c=a[0],d=null;this.state.activeAudience===b("ShareDialogAudienceTypes").PAGE?d={audienceTargets:[c.pageId],userId:c.actorId}:this.state.activeAudience===b("ShareDialogAudienceTypes").GROUP&&this.props.enableGroupVoiceSwitcher&&c&&c.groupId?d={audienceTargets:[c.groupId],userId:c.actorId}:d={audienceTargets:a,userId:this.props.userId};b("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,d)},_onClearAudienceTargets:function(){b("ReactShareDialogComposerActions").setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId})},_onSetVideoStartTime:function(a,c){b("ReactShareDialogComposerActions").setVideoStartTime(this.context.composerID,a?c:0)},_onPost:function(){var a=this.props.contextConfig.composerID;if(this.props.instantGamesSource&&this.props.appId){var c=b("ReactComposerAudienceStore").getAudience(a);new(b("InstantGamesSharesTypedLogger"))().setEvent("share_success").setSource(this.props.instantGamesSource).setTargetPlatform("facebook").setType("game_share").setAppID(this.props.appId).setAudience(this.state.activeAudience).setPrivacy(c).log()}b("ReactComposerShareNowActions").clickPost(a);this.props.onPost(this._getStatefulResponse())},_maybeLogEvent:function(a,c){c===void 0&&(c=!1);if(!this.props.performMessengerLogging||!c&&this.state.activeAudience!==b("ShareDialogAudienceTypes").MESSAGE)return;new(b("MessengerWebBroadcastFlowTypedLogger"))().setEvent(a).setFlowType("share").setSessionID(this._loggingSessionID).setShareID(this.props.postId).setUserID(b("CurrentUser").getID()).setTriggeredFrom(this.props.triggeredFrom).log()}});e.exports=a}),null);
__d("ReactShareDialogRoot.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextConfig","ReactComposerContextProviderMixin","ReactShareDialogContainer.react","prop-types"],(function(a,b,c,d,e,f){c=b("React").createClass({displayName:"ReactShareDialogRoot",mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactComposerContextProviderMixin")],propTypes:{contextConfig:b("ReactComposerContextConfig").isRequired,onPost:(a=b("prop-types")).func,step:a.number,userId:a.string,shouldDispatchToCompatBroker:a.bool},render:function(){return b("React").jsx(b("ReactShareDialogContainer.react"),babelHelpers["extends"]({},this.props))}});e.exports=c}),null);
__d("ShareDialogOsbachController",["ActorURI","AsyncRequest","ComposerPublisher","DOM","JSResource","MercuryConfig","React","ReactComposerActions","ReactComposerAudienceStore","ReactDOM","ReactShareDialogRoot.react","ShareConfirmationController","ShareDialogDataSources","ShareDialogStatusTypes","UserLivingRoomCreateMutation","XShareDialogSubmitController","destroyOnUnload","getActiveElement","gkx","lazyLoadComponent","uniqueID"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3,h=b("lazyLoadComponent")(b("JSResource")("OnlyMeSharerSaveNux.react").__setRef("ShareDialogOsbachController")),i,j,k,l,m,n,o;function p(a){a||u({type:"posting"})}function q(a,c){__p&&__p();b("ShareConfirmationController").tryDisplayShareInFeed(a.payload,i.causalElement);if(!c)u({message:a.payload.message,shareType:a.payload.audience,showOnlyMeSharerSaveNux:a.payload.showOnlyMeSharerSaveNux,type:"success"});else{if(!a.payload.share_now_succeeded){c=a.payload.message_target;if(c&&c.length===1){c=""+c[0];u({type:b("ShareDialogStatusTypes").COMPOSING,errorEntryID:c});return}else u({type:b("ShareDialogStatusTypes").ERROR})}c=a&&a.payload&&a.payload.entry_id;u({type:b("ShareDialogStatusTypes").COMPOSING,sentEntryID:c})}i.closeParentOnFinish&&!(a.payload.audience==="message")&&window.setTimeout(r,g)}function r(){window.close()}function s(a){b("MercuryConfig").MNNSS?u({message:a.getErrorDescription(),title:a.getErrorSummary(),type:b("ShareDialogStatusTypes").ERROR}):u({type:b("ShareDialogStatusTypes").COMPOSING}),i.closeParentOnFinish&&window.setTimeout(r,g)}function t(a){a.error&&(b("MercuryConfig").MNNSS?u({type:b("ShareDialogStatusTypes").ERROR}):u({type:b("ShareDialogStatusTypes").COMPOSING}))}function u(a){if(a.showOnlyMeSharerSaveNux&&a.shareType&&l&&m&&n&&!b("MercuryConfig").MNNSS){var c;b("ReactDOM").render((c=b("React")).jsx(c.Suspense,{fallback:c.jsx("span",{}),children:c.jsx(h,{caretId:l,collectionId:n,objectId:o,shareType:a.shareType,storyContainerId:m})}),j)}else b("ReactDOM").render(b("React").jsx(b("ReactShareDialogRoot.react"),babelHelpers["extends"]({},i,{contextConfig:{actorID:i.userId,composerID:k,composerType:"feed_story",gks:i.gks,targetID:i.userId},shown:!0,step:null,onPost:function(a){a.createLivingRoom&&b("gkx")("678808")?(u({type:b("ShareDialogStatusTypes").POSTING}),b("UserLivingRoomCreateMutation").commit({video_id:a.postId,creation_source:"ufi_share",share_surfaces:"post",web_privacyx:a.privacy},function(a){return u({type:b("ShareDialogStatusTypes").SUCCESS})},function(a){return u({type:b("ShareDialogStatusTypes").ERROR})})):v.onPost(a,p,q,s,t)},status:a,sentEntryID:a.sentEntryID,errorEntryID:a.errorEntryID,performMessengerLogging:!0})),j)}var v={getPropsFromAsyncResponse:function(a){var c,d=a.sources;a=babelHelpers.objectWithoutPropertiesLoose(a,["sources"]);var e=d.person,f=d.personTag,g=d.personWall,h=d.group,i=d.event,j=d.page,k=d.fundraiser,l=d.mentions,m=d.place,n=d.action,o=d.object;d=d.story;n=new(c=b("ShareDialogDataSources"))().addSource(c.TYPES.ACTION,n).addSource(c.TYPES.EVENT,i).addSource(c.TYPES.FUNDRAISER,k).addSource(c.TYPES.GROUP,h).addSource(c.TYPES.MENTIONS,l).addSource(c.TYPES.MESSAGE,e).addSource(c.TYPES.OBJECT,o).addSource(c.TYPES.PAGE,j).addSource(c.TYPES.PERSON,f).addSource(c.TYPES.PERSON_WALL,g).addSource(c.TYPES.PLACE,m);b("gkx")("911496")&&n.addSource(b("ShareDialogDataSources").TYPES.STORY,d);return babelHelpers["extends"]({dataSources:n},a)},onPost:function(c,d,e,f,a){__p&&__p();var g=c.isNewMessageForward;d&&d(g);d=function(a){b("ReactComposerActions").postSucceeded(k),e(a,g)};if(b("ComposerPublisher").getShouldUseGraphQLForShareDialog(c)){b("ComposerPublisher").publishFromShareDialog(k,c,d,f,a);return}var h=b("XShareDialogSubmitController").getURIBuilder().setInt("app_id",c.appId).setInt("attribution",c.attributionId).setString("audience_type",c.audienceType).setIntVector("audience_targets",c.audienceTargets).setString("composer_session_id",c.composerSessionID).setInt("ephemeral_ttl_mode",c.ephemeralTTLMode).setHackType("ft",c.ft).setStringToStringMap("internalextra",c.internalExtra||i&&i.internalExtra).setInt("internal_preview_image_id",c.internalPreviewImageID).setBool("is_forced_reshare_of_post",c.isForcedReshareOfPost).setString("message",c.message).setStringVector("messaging_tags",c.messageTags).setInt("owner_id",c.ownerId).setInt("post_id",c.postId).setString("privacy",c.privacy).setBool("share_to_group_as_page",!!c.shareToGroupAsPage).setInt("share_type",c.shareType).setInt("shared_ad_id",c.sharedAdId).setString("source",c.source).setInt("tagged_action",c.taggedActionId).setInt("tagged_object",c.taggedObjectId).setString("tagged_object_str",c.taggedObjectStr).setInt("tagged_action_icon",c.taggedActionIconId).setIntVector("tagged_people",c.taggedPeople).setInt("tagged_place",c.taggedPlace).setStringVector("tagged_feed_topics",c.taggedFeedTopics).setHackType("targeted_privacy_data",c.targetedPrivacyData).setBool("is_throwback_post",i.isThrowbackPost).setString("url",c.url).setInt("album_id",b("ReactComposerAudienceStore").getCollectionID(k)).setString("civic_product_source",c.civicProductSource).setEnum("holiday_card_source",i.holidayCardSource).setInt("shared_from_post_id",i.sharedFromPostID).setString("logging_session_id",c.loggingSessionID).setString("section_name",c.sectionName).setBool("perform_messenger_logging",!0).setInt("video_start_time_ms",c.videoStartTimeMs).setString("instant_game_entry_point_data",c.instantGameEntryPointData).setBool("is_app_content_token",c.isAppContentToken).getURI();h=b("ActorURI").create(h,c.actorId);var j=!1;new(b("AsyncRequest"))().setURI(h).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(function(a){j=!0,f(a),b("ReactComposerActions").postError(k,a)}).setFinallyHandler(function(b){j||a(b)}).send()},setup:function(a,c,d,e,f,g){a.causalElement=b("getActiveElement")(),i=v.getPropsFromAsyncResponse(a),j=c,k=b("uniqueID")(),l=d,m=e,n=f,o=g,u({type:b("ShareDialogStatusTypes").COMPOSING}),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(j),b("DOM").remove(j)})}};e.exports=v}),null);